<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>与亓のBlog</title>
  
  
  <link href="https://yuqi.im/atom.xml" rel="self"/>
  
  <link href="https://yuqi.im/"/>
  <updated>2025-08-26T16:00:00.000Z</updated>
  <id>https://yuqi.im/</id>
  
  <author>
    <name>与亓</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>MOVIDRIVE MDX61B 故障表</title>
    <link href="https://yuqi.im/posts/9523144c/"/>
    <id>https://yuqi.im/posts/9523144c/</id>
    <published>2025-08-26T16:00:00.000Z</published>
    <updated>2025-08-26T16:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<table><thead><tr><th>故障码</th><th>名称</th><th>响应</th><th>可能原因</th><th>排除故障措施</th></tr></thead><tbody><tr><td>00</td><td>无故障</td><td>-</td><td></td><td></td></tr><tr><td>01</td><td>过电流</td><td>立即关停</td><td>·输出短路<br>·电动机太大<br>·输出级故障</td><td>·清除短路<br>·连接较小电动机<br>·输出级故障时向SEW服务部征求意见</td></tr><tr><td>03</td><td>电机电缆接地故障</td><td>立即关停</td><td>·电动机电缆接地故障<br>·变频器接地故障<br>·电动机故障</td><td>·消除接地故障<br>·向SEW服务部咨询</td></tr><tr><td>04</td><td>制动斩波器</td><td>立即关停</td><td>·回馈功率过大<br>·制动电阻器电路断开<br>·制动电阻器电路内短路<br>·过大的制动电阻<br>·制动斩波器损坏</td><td>·延长减速斜坡<br>·检查制动电阻器的馈电电缆<br>·检查制动电阻器的技术数据<br>·更换MOVIDRIVE</td></tr><tr><td>06</td><td>供电的相线故障</td><td>立即关停</td><td>相线故障</td><td>检查供电系统的引线</td></tr><tr><td>07</td><td>直流环节过电压</td><td>立即关停</td><td>直流环节的电压太高</td><td>·延长减速斜坡<br>·检查制动电阻器的连接电缆<br>·检查制动电阻器的技术数据</td></tr><tr><td>08</td><td>转速监视</td><td>立即关停</td><td>·转速控制器或电流控制器（在没有编码器的VFC控制下）工作在设定的极限值，原因是机械过负载或供电系统或电动机相位故障<br/>·编码器没有正确连接或者旋转方向不正确<br/>·转矩控制时超过了nmax</td><td>·减少负载<br>·增加减速时间设定值（P501或P503）<br>·检查编码器连接，必要时对调换A&#x2F;A B&#x2F;B<br>·检查编码器电源<br>·检查电流限制<br>·检查电动机电缆和电动机<br>·适当延长斜坡<br>·检查供电系统的相位</td></tr><tr><td>09</td><td>启动</td><td>立即关停</td><td>变频器未以选定的工作方式启动</td><td>以合适的工作方式进行启动</td></tr><tr><td>10</td><td>IPOS-ILLOP</td><td>紧急停止</td><td>·IPOS程序运行时检测出不正确命令<br/>·命令执行中的不正确条件</td><td>·检查程序存储器内容，必要时修正<br>·把正确的程序装入程序存储器中<br>·检查程序次序（~IPOS plus手册）</td></tr><tr><td>11</td><td>温度过高</td><td>紧急停止</td><td>·变频器的热过载</td><td>减少负载和确保正常冷却</td></tr><tr><td>13</td><td>控制信号源</td><td>立即关停</td><td>控制信号源未确定或确定不正确</td><td>设定正确的控制信号源（P101）</td></tr><tr><td>14</td><td>编码器</td><td>立即关停</td><td>·编码器电缆或屏蔽线未正确连接<br/>·编码器电缆短路&#x2F;开路</td><td>检查编码器电缆和屏蔽线是否正确连接，短路和开路</td></tr><tr><td>15</td><td>内部24V</td><td>立即关停</td><td>无内部24V电源电压</td><td>检查供电系统，如果故障再次发生，向SEW服务部咨询</td></tr><tr><td>17-24</td><td>系统故障</td><td>立即关停</td><td>变频器电子器件损坏，可能是EMC效应</td><td>检查接地连接和屏蔽，必要时给予纠正。如果再次发生故障，联系SEW服务部支持</td></tr><tr><td>25</td><td>EEPROM</td><td>快速停止</td><td>方向有缓冲卡的EEPROM时出错</td><td>·调出默认设定值，执行复位和重新设定参数<br>·如果故障再次发生，和SEW服务部联系<br>·更换有缓冲卡</td></tr><tr><td>26</td><td>外部端子</td><td>紧急停止</td><td>·通过可编程的输入读入了外部故障信号</td><td>清除故障原因，对端子进行必要的重新编程</td></tr><tr><td>27</td><td>限位开关故障</td><td>紧急停止</td><td>·开路&#x2F;二个限位开关故障<br />·相对电动机的旋转方向调换了限位开关</td><td>·检查限位开关的接线<br>·调整限位开关的连接<br>·对端子重新编程</td></tr><tr><td>28</td><td>现场总线超时中断</td><td>快速停止</td><td>·在配置的响应监视时间内未进行主-从通信</td><td>·检查主站通信<br>·延长现场总线超时中断时间（P819）或关闭监视</td></tr><tr><td>29</td><td>磁到限位开关</td><td>紧急停止</td><td>在IPOS plus工作方式中已碰到限位开关</td><td>·检查行程距离<br>·修正用户程序</td></tr><tr><td>30</td><td>紧急停止超时</td><td>立即停止</td><td>·传动装置过载<br />·紧急停止斜坡太短</td><td>·检查工程设计<br>·延长紧急停止斜坡</td></tr><tr><td>31</td><td>TF传感器</td><td>不响应</td><td>·电动机太热，TF传感器已跳闸<br>·电动机的TF传感器未连接或连接不正确<br>·MOVIDRIVE和电动机上T下的连接已断开<br>·X10:1和X10:2之间没有跨接线</td><td>·让电动机冷却并复位故障<br>·检查MOVIDRIVE和TF之间的连接<br>·如果未连接T，则将接X10:1和X10:2<br>·设定P835为“NO RESPONSE”</td></tr><tr><td>32</td><td>IPOS地址超出范围</td><td>紧急停止</td><td>违反基本编程规则，引起系统内推挽溢出</td><td>检查和必要时修正IPOS plus用户程序（~IPOS plus手册）</td></tr><tr><td>33</td><td>设定值源</td><td>立即关停</td><td>设定值源未确定或确定不正确</td><td>设定正确的设定值源（P100）</td></tr><tr><td>34</td><td>斜坡超时中断</td><td>立即关停</td><td>超过下降斜坡的时间，例如过载的原因</td><td>·延长下降斜坡<br>·去掉过载</td></tr><tr><td>35</td><td>工作方式</td><td>立即关停</td><td>·工作方式未确定或确定不正确<br>·P916设定了一个斜坡功能，而这功能是需要MOVIDRIVE应用<br>·P916设定了一个斜坡功能，而这功能与所选应用功能不匹配</td><td>·使用P700或P701设定正确的工作方式<br>·使用MOVIDRIVE应用版<br>·在“Startup→选择应用功能”菜单，选择与P916相匹配的应用功能</td></tr><tr><td>36</td><td>没有选件</td><td>立即关停</td><td>·选件卡的类型不允许<br>·该选件卡不许可，这种设定值源、控制号或工作方式<br />·为DIP11A设定了不正确的编码器类型</td><td>·使用正确的选择卡<br>·设定正确的设定值源（P100）<br>·设定正确的控制信号源（P101）<br>·设定正确的工作方式（P700或P701）<br />·设定正确的编码器类型</td></tr><tr><td>37</td><td>系统看门狗</td><td>立即关停</td><td>执行系统软件时出错</td><td>和SEW服务部联系</td></tr><tr><td>38</td><td>系统软件</td><td>立即关停</td><td>系统有错</td><td>和SEW服务部联系</td></tr><tr><td>39</td><td>参考运转</td><td>立即关停</td><td>·参考凸轮故障或没有开关<br>·限位开关未正确连接<br>·参考运转期间改变了参考运转的类型</td><td>·检查参考凸轮<br>·检查限位开关的连接<br>·检查参考运转的类型及应用的参数</td></tr><tr><td>40</td><td>增压同步</td><td>立即关停</td><td>仅用于DP11B或DRS11B；变频器和操作之间增压同步时的故障</td><td>如果故障再次发生，安装一个新的选件卡</td></tr><tr><td>41</td><td>看门狗选件 IPOS看门狗</td><td>立即关停</td><td>·系统软件和选件软件之间通信时故障<br>·在IPOS程序中看门狗<br>·在MOVIDRIVE B中应用模块并未有效<br>·在使用应用模块时设置了错误的应用功能</td><td>·和SEW服务部联系<br>·检查IPOS程序<br>·检查变频器是否激活应用版（P079）<br>·检查所选应用功能（P078）</td></tr><tr><td>42</td><td>滞后误差</td><td>立即关停</td><td>·增量编码器连接不正确<br>·加速斜坡太短<br>·位置控制器的P因子太小<br>·转速控制器参数设定不正确<br>·滞后误差的有限值太小</td><td>·检查旋转编码器连接<br>·延长斜坡<br>·P因子设定成较大数值<br>·重新设定转速控制器参数<br>·增加滞后误差的有限值<br>·检查编码器、电动机和供电相位的接线<br>·检查机械部件能否自由运动，有无堵塞可能</td></tr><tr><td>43</td><td>RS485超时中断</td><td>快速停止</td><td>变频器和PC之间的通信中断</td><td>检查变频器和PC之间的连接，必要时和SEW服务部联系</td></tr><tr><td>44</td><td>变频器和功率</td><td>立即关停</td><td>·变频器和功率（IkT值）超过125%<br>·IN-UL监控1触发</td><td>·减少功率输入<br>·延长斜坡<br>·如果这几点不可能，使用较大的变频器<br>·检查P345&#x2F;P346<br>·减少负载<br>·选大的电机</td></tr><tr><td>45</td><td>初始化</td><td>立即关停</td><td>·未为功率部分的EEPROM设定参数，或者参数设定不正确<br>·选件卡没有和底板总线接触好</td><td>·恢复出厂设定值。如果故障还不能复位，和SEW服务部联系<br>·正确插入选件卡</td></tr><tr><td>46</td><td>系统总线2超时中断</td><td>快速停止</td><td>·通过系统总线2通信时故障</td><td>检查系统总线的连接</td></tr><tr><td>47</td><td>系统总线1超时中断</td><td>快速停止</td><td>·通过系统总线1通信时故障</td><td>检查系统总线的连接</td></tr><tr><td>48</td><td>DRS硬件</td><td>立即关停</td><td>仅用于DRS11B：<br>·主站用的编码器信号有错<br>·同步运行所需的硬件故障</td><td>·检查编码器接线<br>·安装新的同步运行板<br>·检查主&#x2F;同步编码器信号</td></tr><tr><td>77</td><td>IPOS控制字</td><td>不响应</td><td>仅IPOS工作方式中有：<br>·试图设定一个无效的自动方式（通过外部控制）<br>·设定P916&#x3D;BUSRAMP</td><td>·检查和外部控制的串行连接<br>·检查外部控制的写入数值<br>·正确设定P916</td></tr><tr><td>78</td><td>IPOS软件限位开关</td><td>不响应</td><td>仅IPOS工作方式中有：<br />可编程的目标位置超出软件限位开关定界的行程距离&#x2F;。通过系统总线1通信时故障</td><td>保证相同的硬件或执行出厂设定（参数&#x3D;出厂设定值）</td></tr><tr><td>79</td><td>HW配置(硬件配置)</td><td>立即关停</td><td>更换存贮器卡以后下列各项还是不匹配：<br />·功率<br />·额定电压<br />·品种的标识符<br />·变频器的范围<br />·应用或标准版本<br />·选件卡</td><td>保证相同的硬件或执行出厂设定（参数&#x3D;出厂设定值）</td></tr><tr><td>80</td><td>转速记录错</td><td>立即关停</td><td>内部故障，RAM故障</td><td>和SEW服务部联系</td></tr><tr><td>81</td><td>启动条件</td><td>立即关停</td><td>仅“VFC提升”工作方式中有：<br />预磁化阶段没有足够的电流注入电动机；<br />·电动机额定功率相对变频器额定功率太小<br />·电动机电缆横截面太小</td><td>·检查启动数据，必要时重复启动<br />·检查变频器和电动机之间的连接<br />·检查电动机电缆的横截面，必要时加大</td></tr><tr><td>82</td><td>输出断开</td><td>立即关停</td><td>仅“VFC提升”工作方式中有：<br />·二相或所有输出相断开<br />·电动机额定功率相对变频器额定功率太小</td><td>·检查变频器和电动机之间的连接<br />·检查启动数据，必要时重复启动</td></tr><tr><td>84</td><td>电动机保护</td><td>紧急停止</td><td>电动机利用率太高</td><td>·减少负载<br />·延长斜坡<br />·实际较长的暂停时间</td></tr><tr><td>86</td><td>存贮器模块</td><td>立即关停</td><td>·没有存贮器卡<br />·编码器故障</td><td>·拧紧液流螺钉<br />·插入和紧固存贮器卡<br />·更换存贮器卡</td></tr><tr><td>87</td><td>技术功能</td><td>立即关停</td><td>在标准版本中激活了技术功能</td><td>禁止技术功能</td></tr><tr><td>88</td><td>快速启动</td><td>立即关停</td><td>仅“VFC n-CTRL”工作方式中有：变频器启动时实际转速&gt;500 l&#x2F;min</td><td>只能在实际转速≤5000 l&#x2F;min时启动</td></tr><tr><td>92</td><td>DIP编码器故障</td><td>故障显示</td><td>编码器信号故障</td><td>编码器可能被弄脏</td></tr><tr><td>93</td><td>DIP编码器故障</td><td>紧急停止</td><td>仅用于DIP11B选择：<br />编码器发出故障信号，例如电源故障；<br />·编码器和DIP之间的连接电缆未满足要求（双绞、屏蔽）<br />·对于电缆长度周期频率太高<br />·超过了编码器许可的最高转速&#x2F;加速度<br />·编码器的故障</td><td>·检查编码器的连接<br />·检查连接电缆<br />·设定正确的周期频率<br />·减少设备的运转速度或斜坡<br />·安装新的绝对编码器</td></tr><tr><td>94</td><td>EEPROM校验</td><td>立即关停</td><td>变频器电子器件损坏，可能是EMC效应或缺陷引起的</td><td>把变频器送往修理</td></tr><tr><td>95</td><td>DIP真实性有错</td><td>紧急停止</td><td>仅用于DIP11B选择：<br />不能确定真实性的位置；<br />·设定了不正确的编码器类型<br />·IPOS运转参数的设定不正确<br />·系统的分子&#x2F;分母设定不正确<br />·零点调整已执行<br />·编码器故障</td><td>·设定正确的编码器类型<br />·检查IPOS运转参数<br />·检查运转速度<br />·修正系统的分子&#x2F;分母<br />·零点调整后复位<br />·安装新的绝对编码器</td></tr><tr><td>97</td><td>复制数据</td><td>立即关停</td><td>·存贮器卡不能写入或读出<br />·数据瞬时出错</td><td>·重复复制过程<br />·恢复默认设定值（P802），并重复复制过程</td></tr><tr><td>98</td><td>CRC错误</td><td>立即关停</td><td>变频器内部故障，闪存出错</td><td>把变频器送往修理</td></tr><tr><td>99</td><td>IPOS斜坡”计算错</td><td>立即关停</td><td>仅IPOS“斜坡”工作方式中有：<br />试图在变频器用正弦或二次方定位斜坡启动时更改斜坡时间和运转速度</td><td>重写IPOS程序，使斜坡时间和运转速度只能在变频器禁止时更改</td></tr></tbody></table><p>目前遇到过的问题以及解决办法：</p><p>F1：变频器内部抱闸相序的线接错，更改接线<br>F7：一开始更换制动电阻未解决问题，然后发现滚床在联动进出车时上下有起伏晃动，最后加长两车联动时的距离</p>]]></content>
    
    
    <summary type="html">SEW MOVIDRIVE MDX61B变频器完整故障代码表，包含故障码00-99的详细信息，涵盖故障名称、系统响应、可能原因及排除措施，为设备维护和故障诊断提供专业参考。</summary>
    
    
    
    <category term="工业自动化" scheme="https://yuqi.im/categories/%E5%B7%A5%E4%B8%9A%E8%87%AA%E5%8A%A8%E5%8C%96/"/>
    
    
    <category term="MOVIDRIVE" scheme="https://yuqi.im/tags/MOVIDRIVE/"/>
    
  </entry>
  
  <entry>
    <title>imazingapp文件使用方法</title>
    <link href="https://yuqi.im/posts/7db93401/"/>
    <id>https://yuqi.im/posts/7db93401/</id>
    <published>2025-08-26T16:00:00.000Z</published>
    <updated>2025-08-26T16:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<ol><li><p>下载安装 iMazing 软件 官网链接：<a href="https://imazing.com/zh">https://imazing.com/zh</a></p></li><li><p>下载你需要恢复的 App 的 iMazing 软件备份文件，例如<strong>香色闺阁.imazingapp</strong>。</p></li><li><p>开始前请务必先关闭‘‘<strong>查找我的iPhone</strong>’’，不然在操作过程中会出现以下不能安装的情况。关闭过程：1、设置——面容ID与密码——失窃设备保护（关闭）。2、设置——Apple账户、iCloud+等——查找——查找我的iPhone（关闭）</p><p> <img src="https://img.zzzg.top/20250827004827841.png" alt="image-20250826225045030"></p></li><li><p>启用加密备份，不然在操作过程中会出现以下不能安装的情况。启用过程（手机端）：设置——Apple账户、iCloud+等——iCloud——高级数据保护——开启高级数据保护（开启前需要设置账户恢复选项——添加恢复联系人或者生成恢复密钥）</p><p> <img src="https://img.zzzg.top/20250827004835064.png" alt="image-20250827000208694"></p><p> 电脑端也需要启用备份加密</p><p> <img src="https://img.zzzg.top/20250827004841634.png" alt="image-20250827003209376"></p><p> <img src="https://img.zzzg.top/20250827004854293.png" alt="image-20250827003318045"></p></li><li><p>iPhone 连接上电脑并在电脑上打开 iMazing 软件 ，在已连接的设备上点击”<strong>管理应用程序</strong>”</p><p><img src="https://img.zzzg.top/20250827004925405.png" alt="image-20250826223010623"></p><p><img src="https://img.zzzg.top/20250827004933467.png" alt="image-20250826223219524"></p></li><li><p>选择【设备】标签页，【在右下角】点击下拉菜单 ▼ 并点击“恢复应用数据”。在对话框中选择 【香色闺阁.imazingapp】文件，将其中的数据恢复至设备。</p><p> <img src="https://img.zzzg.top/20250827004941094.png" alt="image-20250826224249691"></p><p> <img src="https://img.zzzg.top/20250827004950079.png" alt="image-20250826224319106"></p><p> <img src="https://img.zzzg.top/20250827004956515.png" alt="image-20250826224405419"></p><p> <img src="https://img.zzzg.top/20250827005004434.png" alt="image-20250826224701182"></p><p> <img src="https://img.zzzg.top/20250827005011741.png" alt="image-20250826224722734"></p><p> 这里点击继续会开始备份手机数据，备份完成后开始安装，不想备份点击取消即可</p><p> <img src="https://img.zzzg.top/20250827005023425.png" alt="image-20250826225010437"></p><p>点击了备份的话就在手机上输入密码开始备份。</p><p><img src="https://img.zzzg.top/20250827005030730.png" alt="image-20250827002215886"></p><p>在备份时直接点击停止或者前面点击了取消，就会弹出如下登录页面，登录已购买过香色闺阁软件的苹果 ID，登录完成后即可安装完成。</p><p><img src="https://img.zzzg.top/20250827005042558.png" alt="image-20250827002729828"></p></li></ol><p>最后，根据自身需求将刚刚关闭的失窃设备保护、查找我的iPhone打开，高级数据保护、备份加密关闭</p><p>推荐两个可以下载下架软件的工具，只需原来账号安装过这个软件并且知道ID即可安装（香色闺阁ID：1521205149）</p><p>工具1：<a href="https://www.52pojie.cn/thread-1863801-1-1.html">https://www.52pojie.cn/thread-1863801-1-1.html</a></p><p>工具2：<a href="https://www.52pojie.cn/thread-1931711-1-1.html">https://www.52pojie.cn/thread-1931711-1-1.html</a></p><p>以上两个工具都来自于吾爱，感谢大佬的无私分享。</p>]]></content>
    
    
    <summary type="html">详细介绍如何使用iMazing软件恢复iOS应用数据，包括软件安装、设备设置、备份文件导入等完整操作流程和注意事项。</summary>
    
    
    
    <category term="软件教程" scheme="https://yuqi.im/categories/%E8%BD%AF%E4%BB%B6%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="iMazing" scheme="https://yuqi.im/tags/iMazing/"/>
    
  </entry>
  
  <entry>
    <title>使用itzg/docker-minecraft-server快速搭建Minecraft服务器指南</title>
    <link href="https://yuqi.im/posts/d28cec10/"/>
    <id>https://yuqi.im/posts/d28cec10/</id>
    <published>2025-08-12T16:00:00.000Z</published>
    <updated>2025-08-12T16:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="项目概述"><a href="#项目概述" class="headerlink" title="项目概述"></a>项目概述</h1><p><strong>itzg&#x2F;docker-minecraft-server</strong> 是一个基于Docker的Minecraft服务器镜像项目，它简化了Minecraft服务器的部署和管理流程。通过这个项目，用户可以轻松地在各种环境中运行Minecraft服务器，无需手动下载和配置服务器文件。</p><h1 id="核心特点"><a href="#核心特点" class="headerlink" title="核心特点"></a>核心特点</h1><ol><li><strong>自动下载最新版本</strong>：容器启动时会自动下载最新的稳定版Minecraft服务器</li><li><strong>多版本支持</strong>：支持运行特定版本或最新的快照版</li><li><strong>简化部署</strong>：通过简单的Docker命令即可启动服务器</li><li><strong>持久化存储</strong>：支持将服务器数据挂载到宿主机</li><li><strong>配置灵活</strong>：通过环境变量可自定义服务器参数</li></ol><h1 id="快速开始"><a href="#快速开始" class="headerlink" title="快速开始"></a>快速开始</h1><h2 id="基础部署方式"><a href="#基础部署方式" class="headerlink" title="基础部署方式"></a>基础部署方式</h2><p>要使用最新稳定版启动Minecraft服务器，只需运行以下Docker命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d -it -p 25565:25565 -e EULA=TRUE itzg/minecraft-server</span><br></pre></td></tr></table></figure><p>这个命令会：</p><ul><li>在后台运行容器(-d)</li><li>分配一个伪终端(-it)</li><li>将容器内的25565端口映射到宿主机的25565端口(-p 25565:25565)</li><li>自动接受Mojang的EULA协议(-e EULA&#x3D;TRUE)</li></ul><h3 id="重要注意事项"><a href="#重要注意事项" class="headerlink" title="重要注意事项"></a>重要注意事项</h3><ol><li><strong>EULA协议</strong>：必须设置<code>EULA=TRUE</code>环境变量，表示接受Mojang&#x2F;Microsoft的用户许可协议</li><li><strong>安全警告</strong>：在没有设置<code>RCON_PASSWORD</code>的情况下，不要将RCON端口(25575)暴露到公网</li><li><strong>持久化建议</strong>：长期运行的服务器建议使用数据卷或绑定挂载来保存数据</li></ol><h2 id="使用Docker-Compose部署"><a href="#使用Docker-Compose部署" class="headerlink" title="使用Docker Compose部署"></a>使用Docker Compose部署</h2><p>对于生产环境，推荐使用Docker Compose来管理服务器，这样可以更方便地进行配置和升级。</p><h3 id="部署步骤"><a href="#部署步骤" class="headerlink" title="部署步骤"></a>部署步骤</h3><ol><li>创建新目录并进入</li><li>创建<code>docker-compose.yml</code>文件，内容如下：</li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">mc:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">itzg/minecraft-server</span></span><br><span class="line">    <span class="attr">tty:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">stdin_open:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;25565:25565&quot;</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="attr">EULA:</span> <span class="string">&quot;TRUE&quot;</span></span><br><span class="line">      <span class="attr">ONLINE_MODE:</span> <span class="string">&quot;FALSE&quot;</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./data:/data</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><ol start="3"><li>运行<code>docker compose up -d</code>启动服务</li><li>使用客户端连接服务器的IP和25565端口</li></ol><h3 id="管理命令"><a href="#管理命令" class="headerlink" title="管理命令"></a>管理命令</h3><ul><li>查看日志：<code>docker compose logs -f</code></li><li>检查状态：<code>docker compose ps</code></li><li>停止服务：<code>docker compose stop</code></li><li>更新配置：修改后再次运行<code>docker compose up -d</code></li></ul><h3 id="进阶配置"><a href="#进阶配置" class="headerlink" title="进阶配置"></a>进阶配置</h3><h4 id="版本控制"><a href="#版本控制" class="headerlink" title="版本控制"></a>版本控制</h4><p>默认情况下，容器会下载最新的”原版”Minecraft: Java Edition服务器。可以通过以下环境变量进行定制：</p><p>VERSION：指定服务器版本<br>TYPE：指定服务器类型(如原版、Forge、Paper等)<br>MEMORY：限制容器内存（防卡顿）<br>ONLINE_MODE：关闭正版验证（离线模式）</p><p>例如：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">environment:</span></span><br><span class="line">  <span class="attr">EULA:</span> <span class="string">&quot;TRUE&quot;</span></span><br><span class="line">  <span class="attr">VERSION:</span> <span class="string">&quot;1.20.1&quot;</span></span><br><span class="line">  <span class="attr">TYPE:</span> <span class="string">&quot;PAPER&quot;</span></span><br><span class="line">  <span class="attr">MEMORY:</span> <span class="string">&quot;2G&quot;</span></span><br><span class="line">  <span class="attr">ONLINE_MODE:</span> <span class="string">&quot;FALSE&quot;</span></span><br></pre></td></tr></table></figure><h4 id="数据持久化"><a href="#数据持久化" class="headerlink" title="数据持久化"></a>数据持久化</h4><p>示例中的.&#x2F;data:&#x2F;data挂载将服务器数据保存在宿主机的data目录中，确保服务器重启后数据不会丢失。</p><h1 id="最佳实践建议"><a href="#最佳实践建议" class="headerlink" title="最佳实践建议"></a>最佳实践建议</h1><ol><li>资源限制：为容器设置适当的内存限制，避免影响宿主机性能</li><li>定期备份：即使使用了数据卷，也应定期备份重要数据</li><li>安全配置：设置强密码，限制RCON访问</li><li>监控日志：定期检查服务器日志，及时发现并解决问题</li></ol><h1 id="适用场景"><a href="#适用场景" class="headerlink" title="适用场景"></a>适用场景</h1><p>这个Docker镜像非常适合以下场景：</p><ul><li>快速搭建测试服务器</li><li>个人或小团体游戏</li><li>需要频繁切换服务器版本的情况</li><li>自动化部署和CI&#x2F;CD环境<br>通过使用itzg&#x2F;docker-minecraft-server项目，即使是Docker新手也能快速搭建和管理Minecraft服务器，大大降低了技术门槛。</li></ul>]]></content>
    
    
    <summary type="html">通过itzg/docker-minecraft-server镜像快速部署Minecraft服务器的完整指南，包含基础配置、版本控制、性能优化及Docker Compose生产级部署方案。</summary>
    
    
    
    <category term="服务器运维" scheme="https://yuqi.im/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%BF%90%E7%BB%B4/"/>
    
    
    <category term="Minecraft" scheme="https://yuqi.im/tags/Minecraft/"/>
    
  </entry>
  
  <entry>
    <title>Fuwari搭建</title>
    <link href="https://yuqi.im/posts/a99e9fee/"/>
    <id>https://yuqi.im/posts/a99e9fee/</id>
    <published>2025-08-01T16:00:00.000Z</published>
    <updated>2025-08-01T16:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="准备开始"><a href="#准备开始" class="headerlink" title="准备开始"></a>准备开始</h1><ol><li><a href="https://git-scm.com/downloads">安装Git</a>或者<a href="https://github.com/apps/desktop">安装GitHub Desktop</a>来对Github进行操作</li><li><a href="https://nodejs.org/en">安装Node.js</a>来搭建博客</li><li>一个<a href="https://github.com/">Github</a>账号用于存放Fuwari文件</li><li>一个<a href="https://app.netlify.com/">Netlify</a>账号创建一个Pages并且绑定域名支持访问</li><li><a href="https://www.marktext.cc/">安装MarkText</a>或者<a href="https://typoraio.cn/">安装Typora</a>来编辑MarkDown</li></ol><h1 id="本地部署Fuwari"><a href="#本地部署Fuwari" class="headerlink" title="本地部署Fuwari"></a>本地部署Fuwari</h1><ol><li>使用此模板<a href="https://github.com/saicaca/fuwari/generate">生成新仓库</a>或 Fork 此仓库</li><li>Clone 仓库到本地，执行 <code>pnpm install</code> 和 <code>pnpm add sharp</code> 以安装依赖  <ul><li>若未安装 <a href="https://pnpm.io/">pnpm</a>，执行 <code>npm install -g pnpm</code></li></ul></li></ol><h1 id="修改Fuwari的基本信息"><a href="#修改Fuwari的基本信息" class="headerlink" title="修改Fuwari的基本信息"></a>修改Fuwari的基本信息</h1><p>根目录下的 <code>src</code> 文件夹中，你可以找到 <code>config.ts</code> 来修改你的Fuwari基本信息</p><ol><li>站点信息&amp;顶部图</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">export const siteConfig: SiteConfig = &#123;</span><br><span class="line">  title: &#x27;你的标题&#x27;,</span><br><span class="line">  subtitle: &#x27;你的副标题&#x27;,</span><br><span class="line">  lang: &#x27;zh_CN&#x27;,  // &#x27;en&#x27;, &#x27;zh_CN&#x27;, &#x27;zh_TW&#x27;, &#x27;ja&#x27;, &#x27;ko&#x27;</span><br><span class="line">  themeColor: &#123;  // 主题色部分，按个人喜好配置</span><br><span class="line">    hue: 250,</span><br><span class="line">    fixed: false,</span><br><span class="line">  &#125;,</span><br><span class="line">  banner: &#123;</span><br><span class="line">    enable: true,  // 是否开启顶部图</span><br><span class="line">    src: &#x27;assets/images/你的图片&#x27;,  // 顶部图存放路径</span><br><span class="line">    position: &#x27;center&#x27;,  //  defaults或者center</span><br><span class="line">    credit: &#123;</span><br><span class="line">      enable: true,  // 是否显示顶部图文本描述</span><br><span class="line">      text: &#x27;想显示的文本&#x27;,  // 输入文本等描述</span><br><span class="line">      url: &#x27;https://xxxxxxxxxxxxx&#x27;  // 顶部图的来源url等</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure><ol start="2"><li>顶部导航栏github部分</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">export const navBarConfig: NavBarConfig = &#123;</span><br><span class="line">  links: [</span><br><span class="line">    LinkPreset.Home,</span><br><span class="line">    LinkPreset.Archive,</span><br><span class="line">    LinkPreset.About,</span><br><span class="line">    &#123;</span><br><span class="line">      name: &#x27;GitHub&#x27;,</span><br><span class="line">      url: &#x27;https://github.com/saicaca/fuwari&#x27;,  // 想要跳转的url</span><br><span class="line">      external: true,  //是否显示外部链接图标并将在新标签中打开</span><br><span class="line">    &#125;,</span><br><span class="line">  ],</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="3"><li>左侧信息页配置</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">export const profileConfig: ProfileConfig = &#123;</span><br><span class="line">  avatar: &#x27;assets/images/avatar.png&#x27;,  // 头像图片文件路径</span><br><span class="line">  name: &#x27;AULyPc&#x27;,     // 你的昵称</span><br><span class="line">  bio: &#x27;这片大地...&#x27;,  // 你的签名</span><br><span class="line">  links: [           // 社交栏配置</span><br><span class="line">    &#123;</span><br><span class="line">      name: &#x27;Twitter&#x27;,</span><br><span class="line">      icon: &#x27;fa6-brands:twitter&#x27;,  // https://icones.js.org/ icon图标网站</span><br><span class="line">      url: &#x27;https://twitter.com/AULyPc1&#x27;,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      name: &#x27;Steam&#x27;,</span><br><span class="line">      icon: &#x27;fa6-brands:steam&#x27;,</span><br><span class="line">      url: &#x27;https://steamcommunity.com/profiles/76561198813644850/&#x27;,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      name: &#x27;GitHub&#x27;,</span><br><span class="line">      icon: &#x27;fa6-brands:github&#x27;,</span><br><span class="line">      url: &#x27;https://github.com/AULyPc&#x27;,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      name: &#x27;Email&#x27;,</span><br><span class="line">      icon: &#x27;material-symbols:mail&#x27;,</span><br><span class="line">      url: &#x27;mailto:cecilybenson8@gmail.com&#x27;,</span><br><span class="line">    &#125;,</span><br><span class="line">  ],</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="编写文章"><a href="#编写文章" class="headerlink" title="编写文章"></a>编写文章</h1><p>执行 <code>pnpm new-post &lt;filename&gt;</code> 创建新文章页面后<br>就可以在 <code>src/content/posts/</code> 目录中编辑你的第一篇文章了</p><p>文章需包含以下内容</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: My First Blog Post  &lt;!-- 你的文章标题 --&gt;</span><br><span class="line">published: 2023-09-09  &lt;!-- 文章发布时间 --&gt;</span><br><span class="line">description: This is the first post of my new Astro blog.  &lt;!-- 简单描述你的文章，可有可无 --&gt;</span><br><span class="line">image: /images/cover.jpg  &lt;!-- 文章主页的封面，可有可无 --&gt;</span><br><span class="line">tags: [Foo, Bar]  &lt;!-- 文章标签 --&gt;</span><br><span class="line">category: Front-end  &lt;!-- 文章分类 --&gt;</span><br><span class="line">draft: false  &lt;!-- 文文章是否为草稿，默认false；设置为true后部署后不可见，但本地开发预览时仍可见 --&gt;</span><br><span class="line">language: &#x27;&#x27;  &lt;!-- 可有可无，按需设置 --&gt;</span><br><span class="line">---</span><br></pre></td></tr></table></figure><h1 id="本地预览，然后发布到Github"><a href="#本地预览，然后发布到Github" class="headerlink" title="本地预览，然后发布到Github"></a>本地预览，然后发布到Github</h1><ol><li><p>配置好博客信息并编写好文章之后，在项目根目录执行：<code>pnpm dev</code>，稍等片刻，就可以本地预览你的博客了</p></li><li><p>预览之后使用Git将我们所做的更改发布到Github</p></li></ol><h1 id="将博客部署到Netlify"><a href="#将博客部署到Netlify" class="headerlink" title="将博客部署到Netlify"></a>将博客部署到Netlify</h1><ol><li>进入<a href="https://app.netlify.com/">Netlify</a>官网，使用Github账号登陆或者用邮箱进行注册</li><li>点击添加新项目-&gt;导入现有项目</li></ol><p><img src="https://img.zzzg.top/20250802030903812.png" alt="image-20250802025259435"></p><ol start="3"><li>连接到Github</li></ol><p><img src="https://img.zzzg.top/20250802030910929.png" alt="image-20250802025502586"></p><ol start="4"><li>选择你的博客</li></ol><p><img src="https://img.zzzg.top/20250802030924372.png" alt="image-20250802025549333"></p><ol start="5"><li>输入你的项目名称后点击部署</li></ol><p><img src="https://img.zzzg.top/20250802030930935.png" alt="image-20250802025730707"></p><p><img src="https://img.zzzg.top/20250802030936268.png" alt="image-20250802025744743"></p><ol start="6"><li>点击域名管理-&gt;添加域-&gt;添加已拥有的域名</li></ol><p><img src="https://img.zzzg.top/20250802030946310.png" alt="image-20250802030006681"></p><ol start="7"><li>输入域名后点击核实-&gt;添加子域名</li></ol><p><img src="https://img.zzzg.top/20250802030952107.png" alt="image-20250802030107986"></p><p><img src="https://img.zzzg.top/20250802030956194.png" alt="image-20250802030154171"></p><ol start="8"><li>等待添加DNS解析记录，我们去域名管理的地方把DNS解析添加上即可</li></ol><p><img src="https://img.zzzg.top/20250802031001158.png" alt="image-20250802030300114"></p><p><img src="https://img.zzzg.top/20250802031005689.png" alt="image-20250802030319944"></p><p><img src="https://img.zzzg.top/20250802031011750.png" alt="image-20250802030500744"></p><ol start="9"><li>等待SSL&#x2F;TLS证书申请下来后，直接访问设置好的域名就可以进入博客了</li></ol><h1 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h1><p>你只需要在本地编写文章，然后使用Git将更改推送到远程仓库，Netlify就会自动部署，更新你的博客！</p>]]></content>
    
    
    <summary type="html">Fuwari静态博客搭建教程</summary>
    
    
    
    <category term="博客运维" scheme="https://yuqi.im/categories/%E5%8D%9A%E5%AE%A2%E8%BF%90%E7%BB%B4/"/>
    
    
    <category term="Fuwari" scheme="https://yuqi.im/tags/Fuwari/"/>
    
  </entry>
  
  <entry>
    <title>Hexo博客自动更新到1panel</title>
    <link href="https://yuqi.im/posts/21fa371d/"/>
    <id>https://yuqi.im/posts/21fa371d/</id>
    <published>2025-07-24T16:00:00.000Z</published>
    <updated>2025-07-24T16:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="SSH执行拉取"><a href="#SSH执行拉取" class="headerlink" title="SSH执行拉取"></a>SSH执行拉取</h2><p>下面实现通过Github action，链接服务器SSH，并在服务器中执行拉取的命令。</p><h3 id="获取密钥密码"><a href="#获取密钥密码" class="headerlink" title="获取密钥密码"></a>获取密钥密码</h3><p>实现1Panel本地静态文件自动更新，建议使用密钥登录，安全性更高，首先在1Panel中的密钥信息，生成密码和密钥，以便于后面登录：</p><p><img src="https://img.zzzg.top/20250725184844649.png" alt="image-20250725184025195"></p><h3 id="添加变量"><a href="#添加变量" class="headerlink" title="添加变量"></a>添加变量</h3><p>此次添加变量较多，有：SERVER_IP，USERNAME，PASSPHRASE，KEY，PORT五个变量，如下：</p><ul><li>SERVER_IP：服务器IP</li><li>USERNAME：SSH链接用户名，一般为root</li><li>PASSPHRASE：密钥密码，用来提升强度用</li><li>KEY：密钥</li><li>PORT：SSH登录端口，一般为22</li></ul><h3 id="克隆仓库"><a href="#克隆仓库" class="headerlink" title="克隆仓库"></a>克隆仓库</h3><p>此时，需要在服务器手动克隆一次仓库，这样才能获得git配置，后面才可以通过直接在目录下git pull实现增量拉取，相比于克隆一个新的仓库，速度更快。</p><p>先创建静态仓库网站，比如yuqi.im，最终的静态目录如下：</p><p><img src="https://img.zzzg.top/20250725184852593.png" alt="image-20250725184225719"></p><p>在任意目录下克隆一次Blog静态资源仓库，因为1Panel不支持自定义部署目录，所以需要将克隆下来的文件夹内的所有文件，包括.git文件夹，复制到index文件夹内，或者直接在index目录内克隆，这样才能确保后续可以直接在index文件夹内，执行拉取命令，实现文件更新。</p><p>如果在前面你选择的是github存储构建产物静态文件，你可以用ghproxy之类的镜像拉取，后面git pull也会走这个链接，但是不太建议，因为一般这种镜像都不太稳定，可能需要频繁更换。</p><h3 id="添加工作流"><a href="#添加工作流" class="headerlink" title="添加工作流"></a>添加工作流</h3><p>下面就可以修改action实现推送时自动拉取了，在部署的下方添加另一个工作流：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">服务器执行拉取命令</span></span><br><span class="line">  <span class="attr">uses:</span> <span class="string">appleboy/ssh-action@v1</span></span><br><span class="line">  <span class="attr">with:</span></span><br><span class="line">    <span class="attr">host:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.SERVER_IP</span> <span class="string">&#125;&#125;</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.USERNAME</span> <span class="string">&#125;&#125;</span></span><br><span class="line">    <span class="attr">key:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.KEY</span> <span class="string">&#125;&#125;</span></span><br><span class="line">    <span class="attr">passphrase:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.PASSPHRASE</span> <span class="string">&#125;&#125;</span></span><br><span class="line">    <span class="attr">port:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.PORT</span> <span class="string">&#125;&#125;</span></span><br><span class="line">    <span class="attr">script:</span> <span class="string">|</span></span><br><span class="line"><span class="string">      cd /opt/1panel/www/sites/yuqi.im/index/</span></span><br><span class="line"><span class="string">      git config --global --add safe.directory &quot;$(pwd)&quot;</span></span><br><span class="line"><span class="string">      git fetch --all --depth=1</span></span><br><span class="line"><span class="string">      git reset --hard origin/main</span></span><br><span class="line"><span class="string">      git pull --depth=1</span></span><br><span class="line"><span class="string">      echo &quot;✅ 已拉取 page 分支最新内容&quot;</span></span><br></pre></td></tr></table></figure><p>再次尝试修改并触发，如果一切正常，仓库文件自动触发推送到服务器应该就实现了！</p><p>在最下面，这里采用了强制拉取，并且只保留了深度为一的拉取记录，这样可以防止由于文件冲突导致可能拉取不下来的问题，并且控制了拉去的日志文件大小。</p><h2 id="参考出处"><a href="#参考出处" class="headerlink" title="参考出处"></a>参考出处</h2><p><a href="https://blog.liushen.fun/posts/327826ac">https://blog.liushen.fun/posts/327826ac</a></p>]]></content>
    
    
    <summary type="html">Hexo博客通过Github action自动更新到1panel面板静态网页目录。</summary>
    
    
    
    <category term="博客运维" scheme="https://yuqi.im/categories/%E5%8D%9A%E5%AE%A2%E8%BF%90%E7%BB%B4/"/>
    
    
    <category term="Hexo" scheme="https://yuqi.im/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>SEW-MDX61B-同步伺服调试方法</title>
    <link href="https://yuqi.im/posts/ee46e52f/"/>
    <id>https://yuqi.im/posts/ee46e52f/</id>
    <published>2025-07-24T16:00:00.000Z</published>
    <updated>2025-07-24T16:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="一、使用-MOTION-STUDIO-软件配置电机"><a href="#一、使用-MOTION-STUDIO-软件配置电机" class="headerlink" title="一、使用 MOTION STUDIO 软件配置电机"></a>一、使用 MOTION STUDIO 软件配置电机</h1><p>1、打开MOVITOOLS MotionStudio软件，创建项目</p><p><img src="https://img.zzzg.top/20250725155738367.png"></p><p><img src="https://img.zzzg.top/20250725155738368.png"></p><p>2、选择连接方式</p><p><img src="https://img.zzzg.top/20250725155738369.png"></p><p>3、用网线连接电脑和MDX61B控制器网络接口，并设置电脑IP与MDX61B控制器IP处于同一网段，扫描网络上的设备</p><p><img src="https://img.zzzg.top/20250725155738370.png"></p><p>4、需初始化控制器，可在Parameter tree的P802中选择Delivery state，将控制器还原为出厂状态</p><p><img src="https://img.zzzg.top/20250725155738371.png"></p><p><img src="https://img.zzzg.top/20250725155738372.png"></p><p>5、点击Startup中的Perform startup，开始电机初始化</p><p><img src="https://img.zzzg.top/20250725155738373.png"></p><p><img src="https://img.zzzg.top/20250725155738374.png"></p><p>6、本次参考的电机</p><p><img src="https://img.zzzg.top/20250725155738375.png"></p><p>7、点击Startup set-1，进行Parameter set-1设置（ 如果需要两套参数运行，Parameter set-2设置采取同样步骤）</p><p><img src="https://img.zzzg.top/20250725155738377.png"></p><p>8、选择Execute complete start-up（执行完整的初始化）</p><p><img src="https://img.zzzg.top/20250725155738378.png"></p><p>9、选择Stand-alone motor &gt; Vector-controlled&#x2F;Servo（独立电机 &gt; 矢量控制&#x2F;伺服电机）</p><p><img src="https://img.zzzg.top/20250725155738379.png"></p><p>10、所连接的编码器不包含任何电子铭牌数据</p><p><img src="https://img.zzzg.top/20250725155738380.png"></p><p>11、检查电机类型信息</p><p><img src="https://img.zzzg.top/20250725155738381.png"></p><p>12、选择正确的电机型号，输入电机额定电压、额定频率（一般默认），输入电源电压，选择编码器类型，定义参数P530“电机温度传感器类型”（例如TF&#x2F;TH），定义参数P835“电机温度传感器的响应”</p><p><img src="https://img.zzzg.top/20250725155738382.png"></p><p>13、选择Yes, I use the encoder（使用编码器）</p><p><img src="https://img.zzzg.top/20250725155738383.png"></p><p>14、操作模式选择Speed conrol（速度控制模式）</p><p><img src="https://img.zzzg.top/20250725155738384.png"></p><p>15、选择VFC（电压矢量控制）模式</p><p>!<img src="https://img.zzzg.top/20250725155738385.png"></p><p>16、准确填写WEISS计算的Load inertia（负载转动惯量），Brake选择WITH，Z fan选择WITHOUT </p><p><img src="https://img.zzzg.top/20250725155738386.png"></p><p>17、相关参数使用WEISS所提供参数表中的推荐参数，其它参数选择Apply Proposal（使用推荐值）</p><p><img src="https://img.zzzg.top/20250725155738387.png"></p><p>18、转速控制器参数选择Apply Proposal（使用推荐值）</p><p><img src="https://img.zzzg.top/20250725155738388.png"></p><p>19、主电机P100设定值源和P101控制信号源选择FIELDBUS，从电机P100设定值源选择MASTER-SBUS 1、P101控制信号源选择FIELDBUS，其它相关参数使用WEISS所提供参数表中的建议参数，剩余参数选择Apply Proposal（使用推荐值）</p><p>主电机</p><p><img src="https://img.zzzg.top/20250725155738389.png"></p><p>从电机</p><p><img src="https://img.zzzg.top/20250725155738390.png"></p><p>20、点击完成，将初始化信息下载至控制器。如需配置parameter set-2，点击Download，再进行参数包2的配置</p><p><img src="https://img.zzzg.top/20250725155738391.png"></p><p>21、初始化完全完成后，会跳出提示框，点击确定</p><p><img src="https://img.zzzg.top/20250725155738392.png"></p><h1 id="二、使用-MOTION-STUDIOS-软件-手动操作模拟器直接驱动电机运行，以检测电机接线，编码器接线，电机特性配置是否良好"><a href="#二、使用-MOTION-STUDIOS-软件-手动操作模拟器直接驱动电机运行，以检测电机接线，编码器接线，电机特性配置是否良好" class="headerlink" title="二、使用 MOTION STUDIOS 软件-手动操作模拟器直接驱动电机运行，以检测电机接线，编码器接线，电机特性配置是否良好"></a>二、使用 MOTION STUDIOS 软件-手动操作模拟器直接驱动电机运行，以检测电机接线，编码器接线，电机特性配置是否良好</h1><p>1、进入手动操作页面</p><p><img src="https://img.zzzg.top/20250725155738393.png"></p><p>2、点击Activate manual mode，激活手动模式</p><p><img src="https://img.zzzg.top/20250725155738394.png"></p><p>3、选择控制速度，旋转方向，点击start或stop进行启停控制</p><p><img src="https://img.zzzg.top/20250725155738395.png"></p><p>4、手动模式下，转台运行正常后，点击Deactivate manual mode，选择是，退出手动模式</p><p><img src="https://img.zzzg.top/20250725155738396.png"></p><h1 id="三、使用-MOTION-STUDIO-软件设定参数"><a href="#三、使用-MOTION-STUDIO-软件设定参数" class="headerlink" title="三、使用 MOTION STUDIO 软件设定参数"></a>三、使用 MOTION STUDIO 软件设定参数</h1><h2 id="总线位置控制-6PD-Profinet-IO-双驱力矩分配升降-带增量型编码器"><a href="#总线位置控制-6PD-Profinet-IO-双驱力矩分配升降-带增量型编码器" class="headerlink" title="总线位置控制-6PD-Profinet IO-双驱力矩分配升降-带增量型编码器"></a>总线位置控制-6PD-Profinet IO-双驱力矩分配升降-带增量型编码器</h2><h3 id="1、主机参数"><a href="#1、主机参数" class="headerlink" title="1、主机参数"></a>1、主机参数</h3><table><thead><tr><th></th><th></th><th></th></tr></thead><tbody><tr><td>100</td><td>设为 Fieldbus</td><td>总线控制</td></tr><tr><td>101</td><td>设为 Fieldbus</td><td>总线控制</td></tr><tr><td>130</td><td>设为所需值</td><td>速度控制时 CW 顺时针运行加速斜坡时间</td></tr><tr><td>131</td><td>设为所需值</td><td>速度控制时 CW 顺时针运行减速斜坡时间</td></tr><tr><td>132</td><td>设为所需值</td><td>速度控制时 CCW 逆时针运行加速斜坡时间</td></tr><tr><td>133</td><td>设为所需值</td><td>速度控制时 CCW 逆时针运行减速斜坡时间</td></tr><tr><td>136</td><td>设为所需值</td><td>当 ENABLE&#x2F;RAP.STOP 端子由 1 变为 0 时，电机的停转时间</td></tr><tr><td>200</td><td>设为所需值</td><td>电机的速度环增益，系统会按电机配置时，输入的负载情况，设定建议值</td></tr><tr><td>301</td><td>设为 0</td><td>输出最小转速</td></tr><tr><td>302</td><td>设为所需值</td><td>输出最大转速</td></tr><tr><td>303</td><td>设为所需值</td><td>输出最大电流限幅</td></tr><tr><td>304</td><td>设为所需值</td><td>输出最大力矩限幅</td></tr><tr><td>500</td><td>设为 MOT. &amp; REGEN.MODE</td><td>电机过载保护功能打开</td></tr><tr><td>501</td><td>设为所需值</td><td>电机过载，达到参数 303 设定值后，多长时间才停机报警</td></tr><tr><td>600</td><td>设为 Enable&#x2F;stop</td><td>输出使能</td></tr><tr><td>601</td><td>设为 Fault reset</td><td>故障复位</td></tr><tr><td>602</td><td>设为 NO FUNCTION</td><td>无功能</td></tr><tr><td>603</td><td>设为 NO FUNCTION</td><td>无功能</td></tr><tr><td>604</td><td>设为&#x2F;External fault</td><td>从机故障通知</td></tr><tr><td>622</td><td>设为 Rotating field ON</td><td>电机是否运行</td></tr><tr><td>623</td><td>设为 IPOS in position</td><td>目标位置到位</td></tr><tr><td>624</td><td>设为&#x2F;Fault</td><td>故障报警</td></tr><tr><td>700</td><td>设为 Servo &amp; IPOS</td><td>伺服位置控制模式</td></tr><tr><td>731</td><td>制动器释放时间，升降驱动时：设为 0.25s</td><td><strong>升降控制时，起动时防溜车时间</strong></td></tr><tr><td>732</td><td>制动器应用时间，升降驱动时：设为 0.25s</td><td><strong>升降控制时，停止时防溜车时间</strong></td></tr><tr><td>750</td><td>设为 Torque SBus</td><td>力矩控制从机模式</td></tr><tr><td>830</td><td>设为 Rapid stop&#x2F;fault</td><td>从机故障时立即停止输出，持续报警，等待复位信号</td></tr><tr><td>831</td><td>设为 Rapid stop&#x2F;fault</td><td>PN 总线故障时立即停止输出，持续报警，等待复位信号</td></tr><tr><td>836</td><td>设为 Rapid stop&#x2F;fault</td><td>SBUS 总线故障时立即停止输出，持续报警，等待复位信号</td></tr><tr><td>870</td><td>设为 IPOS PO data</td><td>总线 PO1 定义，控制零点坐标系建立；发送速度值</td></tr><tr><td>871</td><td>设为 Setpoint position high</td><td>总线 PO2 定义，发送要到达目标位置脉冲值高位</td></tr><tr><td>872</td><td>设为 Setpoint position low</td><td>总线 PO3 定义，发送要到达目标位置脉冲值低位</td></tr><tr><td>873</td><td>设为 Status word 1</td><td>总线 PI1 定义，反馈驱动器状态；到位信息</td></tr><tr><td>874</td><td>设为 Actual position high</td><td>总线 PI2 定义，反馈当前位置脉冲值高位</td></tr><tr><td>875</td><td>设为 Actual position low</td><td>总线 PI3 定义，反馈当前位置脉冲值低位</td></tr><tr><td>876</td><td>设为 Yes</td><td>允许总线数据传输</td></tr><tr><td>881</td><td>设为 1</td><td>主机 SBUS 总线地址</td></tr><tr><td>882</td><td>设为 1</td><td>主从机 SBUS 总线组地址</td></tr><tr><td>883</td><td>设为 0.1</td><td>主从机 SBUS 总线通讯监控时间</td></tr><tr><td>910</td><td>设为所需值</td><td>位置控制运行时，电机的位置环增益，建议 <strong>0.1-0.4</strong></td></tr><tr><td>911</td><td>设为所需值</td><td>位置控制运行时电机的加速时间</td></tr><tr><td>912</td><td>设为所需值</td><td>位置控制运行时电机的减速时间</td></tr><tr><td>922</td><td>设为所需值</td><td>目标位置到位窗口，<strong>默认值 50</strong></td></tr><tr><td>923</td><td>设为所需值</td><td>位置运行曲线跟踪窗口，<strong>默认值 5000</strong></td></tr></tbody></table><h3 id="2、从机参数"><a href="#2、从机参数" class="headerlink" title="2、从机参数"></a>2、从机参数</h3><table><thead><tr><th></th><th></th><th></th></tr></thead><tbody><tr><td>100</td><td>设为 Master SBus 1</td><td>SBUS 总线控制</td></tr><tr><td>101</td><td>设为 Terminals</td><td>端子控制</td></tr><tr><td>130</td><td>设为所需值</td><td>速度控制时 CW 顺时针运行加速斜坡时间</td></tr><tr><td>131</td><td>设为所需值</td><td>速度控制时 CW 顺时针运行减速斜坡时间</td></tr><tr><td>132</td><td>设为所需值</td><td>速度控制时 CCW 逆时针运行加速斜坡时间</td></tr><tr><td>133</td><td>设为所需值</td><td>速度控制时 CCW 逆时针运行减速斜坡时间</td></tr><tr><td>136</td><td>设为所需值</td><td>当 ENABLE&#x2F;RAP.STOP 端子由 1 变为 0 时，电机的停转时间</td></tr><tr><td>200</td><td>设为所需值</td><td>电机的速度环增益，系统会按电机配置时，输入的负载情况，设定建议值</td></tr><tr><td>301</td><td>设为 0</td><td>输出最小转速</td></tr><tr><td>302</td><td>设为所需值</td><td>输出最大转速</td></tr><tr><td>303</td><td>设为所需值</td><td>输出最大电流限幅</td></tr><tr><td>304</td><td>设为所需值</td><td>输出最大力矩限幅</td></tr><tr><td>500</td><td>设为 MOT. &amp; REGEN.MODE</td><td>电机过载保护功能打开</td></tr><tr><td>501</td><td>设为所需值</td><td>电机过载，达到参数 303 设定值后，多长时间才停机报警</td></tr><tr><td>600</td><td>设为 No function</td><td>无功能</td></tr><tr><td>601</td><td>设为 Fault reset</td><td>故障复位</td></tr><tr><td>602</td><td>设为 NO FUNCTION</td><td>无功能</td></tr><tr><td>603</td><td>设为 NO FUNCTION</td><td>无功能</td></tr><tr><td>604</td><td>设为 NO FUNCTION</td><td>无功能</td></tr><tr><td>621</td><td>设为&#x2F;Fault</td><td>故障报警</td></tr><tr><td>622</td><td>设为 Rotating field ON</td><td>电机是否运行</td></tr><tr><td>623</td><td>设为 No function</td><td>无功能</td></tr><tr><td>624</td><td>设为&#x2F;Fault</td><td>故障报警</td></tr><tr><td>700</td><td>设为 Servo &amp; torque control</td><td>伺服力矩控制模式</td></tr><tr><td>731</td><td>制动器释放时间，升降驱动时：设为 0.25s</td><td><strong>升降控制时，起动时防溜车时间</strong></td></tr><tr><td>732</td><td>制动器应用时间，升降驱动时：设为 0.25s</td><td><strong>升降控制时，停止时防溜车时间</strong></td></tr><tr><td>750</td><td>设为 Master&#x2F;slave off</td><td>主机功能关闭</td></tr><tr><td>830</td><td>设为 Rapid stop&#x2F;fault</td><td>从机故障时立即停止输出，持续报警，等待复位信号</td></tr><tr><td>831</td><td>设为 Rapid stop&#x2F;fault</td><td>PN 总线故障时立即停止输出，持续报警，等待复位信号</td></tr><tr><td>836</td><td>设为 Rapid stop&#x2F;fault</td><td>SBUS 总线故障时立即停止输出，持续报警，等待复位信号</td></tr><tr><td>870</td><td>设为 Control word 1</td><td>总线 PO1 定义，控制电机启动，停止</td></tr><tr><td>871</td><td>设为 Setpoint current</td><td>总线 PO2 定义，发送从机需要输出的力矩值</td></tr><tr><td>872</td><td>设为 IPOS PO data</td><td>总线 PO3 定义，保留未使用</td></tr><tr><td>873</td><td>设为 Status word 1</td><td>总线 PI1 定义，反馈驱动器状态</td></tr><tr><td>874</td><td>设为 Actual speed</td><td>总线 PI2 定义，反馈当前电机运行的速度</td></tr><tr><td>875</td><td>设为 IPOS PI data</td><td>总线 PI3 定义，保留未使用</td></tr><tr><td>876</td><td>设为 Yes</td><td>允许总线数据传输</td></tr><tr><td>881</td><td>设为 2</td><td>主机 SBUS 总线地址</td></tr><tr><td>882</td><td>设为 1</td><td>主从机 SBUS 总线组地址</td></tr><tr><td>883</td><td>设为 0.1</td><td>主从机 SBUS 总线通讯监控时间</td></tr></tbody></table><h2 id="总线速度控制-6PD-Profinet-IO-双驱板链-带增量型编码器"><a href="#总线速度控制-6PD-Profinet-IO-双驱板链-带增量型编码器" class="headerlink" title="总线速度控制-6PD-Profinet IO-双驱板链-带增量型编码器"></a>总线速度控制-6PD-Profinet IO-双驱板链-带增量型编码器</h2><h3 id="1、主机参数-1"><a href="#1、主机参数-1" class="headerlink" title="1、主机参数"></a>1、主机参数</h3><table><thead><tr><th></th><th></th><th></th></tr></thead><tbody><tr><td>100</td><td>设为 Fieldbus</td><td>总线控制</td></tr><tr><td>101</td><td>设为 Fieldbus</td><td>总线控制</td></tr><tr><td>130</td><td>设为所需值</td><td>速度控制时 CW 顺时针运行加速斜坡时间</td></tr><tr><td>131</td><td>设为所需值</td><td>速度控制时 CW 顺时针运行减速斜坡时间</td></tr><tr><td>132</td><td>设为所需值</td><td>速度控制时 CCW 逆时针运行加速斜坡时间</td></tr><tr><td>133</td><td>设为所需值</td><td>速度控制时 CCW 逆时针运行减速斜坡时间</td></tr><tr><td>136</td><td>设为所需值</td><td>当 ENABLE&#x2F;RAP.STOP 端子由 1 变为 0 时，电机的停转时间</td></tr><tr><td>200</td><td>设为所需值</td><td>电机的速度环增益，系统会按电机配置时，输入的负载情况，设定建议值</td></tr><tr><td>301</td><td>设为 0</td><td>输出最小转速</td></tr><tr><td>302</td><td>设为所需值</td><td>输出最大转速</td></tr><tr><td>303</td><td>设为所需值</td><td>输出最大电流限幅</td></tr><tr><td>304</td><td>设为所需值</td><td>输出最大力矩限幅</td></tr><tr><td>500</td><td>设为 MOTOR&#x2F;REGENERATIVE</td><td>电机过载保护功能打开</td></tr><tr><td>501</td><td>设为所需值</td><td>电机过载，达到参数 303 设定值后，多长时间才停机报警</td></tr><tr><td>602</td><td>设为 Enable&#x2F;stop</td><td>输出使能</td></tr><tr><td>700</td><td>设为 CFC</td><td>电压矢量控制</td></tr><tr><td>731</td><td>制动器释放时间，升降驱动时：设为 0.15s</td><td><strong>起动时防溜车时间</strong></td></tr><tr><td>732</td><td>制动器应用时间，升降驱动时：设为 0.3s</td><td><strong>停止时防溜车时间</strong></td></tr><tr><td>750</td><td>设为 Speed SBus</td><td>速度控制从机模式</td></tr><tr><td>870</td><td>设为 Control word 1</td><td>总线 PO1 定义，启动&#x2F;停止用的控制信号</td></tr><tr><td>871</td><td>设为 Setpoint speed</td><td>总线 PO2 定义，转速设定值</td></tr><tr><td>872</td><td>设为 Ramp</td><td>总线 PO3 定义，斜坡时间</td></tr><tr><td>873</td><td>设为 Status word 1</td><td>总线 PI1 定义，变频器的状态信息</td></tr><tr><td>874</td><td>设为 Actual speed</td><td>总线 PI2 定义，当前实际转速</td></tr><tr><td>875</td><td>设为 Output curent</td><td>总线 PI3 定义，输出电流</td></tr><tr><td>876</td><td>设为 Yes</td><td>允许总线数据传输</td></tr><tr><td>881</td><td>设为 2</td><td>主机 SBUS 总线地址</td></tr><tr><td>882</td><td>设为 1</td><td>主从机 SBUS 总线组地址</td></tr><tr><td>883</td><td>设为 0.0</td><td>主从机 SBUS 总线通讯监控时间</td></tr></tbody></table><h3 id="2、从机参数-1"><a href="#2、从机参数-1" class="headerlink" title="2、从机参数"></a>2、从机参数</h3><table><thead><tr><th></th><th></th><th></th></tr></thead><tbody><tr><td>100</td><td>设为 Master SBus 1</td><td>SBUS 总线控制</td></tr><tr><td>101</td><td>设为 Fieldbus</td><td>总线控制</td></tr><tr><td>130</td><td>设为所需值</td><td>速度控制时 CW 顺时针运行加速斜坡时间</td></tr><tr><td>131</td><td>设为所需值</td><td>速度控制时 CW 顺时针运行减速斜坡时间</td></tr><tr><td>132</td><td>设为所需值</td><td>速度控制时 CCW 逆时针运行加速斜坡时间</td></tr><tr><td>133</td><td>设为所需值</td><td>速度控制时 CCW 逆时针运行减速斜坡时间</td></tr><tr><td>136</td><td>设为所需值</td><td>当 ENABLE&#x2F;RAP.STOP 端子由 1 变为 0 时，电机的停转时间</td></tr><tr><td>200</td><td>设为所需值</td><td>电机的速度环增益，系统会按电机配置时，输入的负载情况，设定建议值</td></tr><tr><td>301</td><td>设为 0</td><td>输出最小转速</td></tr><tr><td>302</td><td>设为所需值</td><td>输出最大转速</td></tr><tr><td>303</td><td>设为所需值</td><td>输出最大电流限幅</td></tr><tr><td>304</td><td>设为所需值</td><td>输出最大力矩限幅</td></tr><tr><td>500</td><td>设为 MOTOR&#x2F;REGENERATIVE</td><td>电机过载保护功能打开</td></tr><tr><td>501</td><td>设为所需值</td><td>电机过载，达到参数 303 设定值后，多长时间才停机报警</td></tr><tr><td>602</td><td>设为 Enable&#x2F;stop</td><td>输出使能</td></tr><tr><td>700</td><td>设为 CFC</td><td>电压矢量控制</td></tr><tr><td>731</td><td>制动器释放时间，升降驱动时：设为 0.15s</td><td><strong>起动时防溜车时间</strong></td></tr><tr><td>732</td><td>制动器应用时间，升降驱动时：设为 0.3s</td><td><strong>停止时防溜车时间</strong></td></tr><tr><td>750</td><td>设为 Master&#x2F;slave off</td><td>主机功能关闭</td></tr><tr><td>870</td><td>设为 Control word 1</td><td>总线 PO1 定义，启动&#x2F;停止用的控制信号</td></tr><tr><td>871</td><td>设为 Setpoint speed</td><td>总线 PO2 定义，转速设定值</td></tr><tr><td>872</td><td>设为 Ramp</td><td>总线 PO3 定义，斜坡时间</td></tr><tr><td>873</td><td>设为 Status word 1</td><td>总线 PI1 定义，变频器的状态信息</td></tr><tr><td>874</td><td>设为 Actual speed</td><td>总线 PI2 定义，当前实际转速</td></tr><tr><td>875</td><td>设为 Output curent</td><td>总线 PI3 定义，输出电流</td></tr><tr><td>876</td><td>设为 Yes</td><td>允许总线数据传输</td></tr><tr><td>881</td><td>设为 1</td><td>主机 SBUS 总线地址</td></tr><tr><td>882</td><td>设为 1</td><td>主从机 SBUS 总线组地址</td></tr><tr><td>883</td><td>设为 0.0</td><td>主从机 SBUS 总线通讯监控时间</td></tr></tbody></table><h1 id="四、接线"><a href="#四、接线" class="headerlink" title="四、接线"></a>四、接线</h1><p><strong>主机与从机的X12端口需对接</strong></p><table><thead><tr><th>主机端子</th><th>从机端子</th></tr></thead><tbody><tr><td>DGND</td><td>DGBD</td></tr><tr><td>SC11</td><td>SC11</td></tr><tr><td>SC12</td><td>SC12</td></tr></tbody></table><h1 id="五、拨码"><a href="#五、拨码" class="headerlink" title="五、拨码"></a>五、拨码</h1><p><strong>从机 S12 需置于 ON 处</strong></p><p><img src="https://img.zzzg.top/20250725155738397.png"></p><h1 id="六、总线使用说明"><a href="#六、总线使用说明" class="headerlink" title="六、总线使用说明"></a>六、总线使用说明</h1><h2 id="总线位置控制-6PD-Profinet-IO-双驱力矩分配升降-带增量型编码器-1"><a href="#总线位置控制-6PD-Profinet-IO-双驱力矩分配升降-带增量型编码器-1" class="headerlink" title="总线位置控制-6PD-Profinet IO-双驱力矩分配升降-带增量型编码器"></a>总线位置控制-6PD-Profinet IO-双驱力矩分配升降-带增量型编码器</h2><h3 id="PLC-设定至变频器值"><a href="#PLC-设定至变频器值" class="headerlink" title="PLC 设定至变频器值"></a>PLC 设定至变频器值</h3><p><strong>PO1 :</strong> IPOS PO-DATA  </p><p>第一个 PO 字发 1 至驱动器，表示将当前位置的坐标清零，建立机械坐标系；发其它数值至驱动器，表示设定所需的速度，比例为 0.1，如需按 500rpm 运行，发 5000 即可</p><p>如 PO1 对应 QW256，直接赋值到 QW256 即可</p><p><strong>PO2 :</strong> Setpoint position high ；<strong>PO3 :</strong> Setpoint position low</p><p>所需电机要到达的位置可通过总线第二和第三个 PO字双字格式进行控制</p><p>如 PO2 对应 QW258；PO3 对应 QW260；</p><p>想让电机运行到 1000000 脉冲（电机 4096 脉冲&#x2F;转）的目标位置，直接赋值到 QD258 即可  </p><p><strong>PO4 :</strong> IMAX  </p><p>表示设定所需输出的最大力矩，比例为 0.1，如需按 70%输出限幅，发 700 即可</p><p>如 PO4 对应 QW262，直接赋值到 QW262 即可</p><p><strong>PO5 :</strong> Accelerating ramp  </p><p>表示设定所需加速斜坡时间，比例为 1:1ms，如需按 3s斜坡加速，发 3000 即可</p><p>如 PO5 对应 QW264，直接赋值到 QW264 即可  </p><p><strong>PO6 :</strong> Deceleration ramp  </p><p>表示设定所需减速斜坡时间，比例为 1:1ms，如需按 2s斜坡加速，发 2000 即可<br>如 PO6 对应 QW266，直接赋值到 QW266 即可</p><h3 id="变频器反馈至-PLC-值"><a href="#变频器反馈至-PLC-值" class="headerlink" title="变频器反馈至 PLC 值"></a>变频器反馈至 PLC 值</h3><p><strong>PI1 :</strong> Status word 1 （状态字 1）</p><p><img src="https://img.zzzg.top/20250725155738398.png"></p><p><img src="https://img.zzzg.top/20250725155738399.png"></p><p>当第 5 位为 1 时，表示变频器有报警；高 8 位（8-15 位）的整型数值为报警代码（代码含义请看 SEW_MDX61B 驱动控制器系统手册英文版 Edition2010.8 第620-636 页）<br>当第 5 位为 0 时，表示变频器没有报警；高 8 位（8-15 位）的整型数值为变频器运行状态代码（代码含义请看 SEW_MDX61B 驱动控制器系统手册英文版Edition2010.8 第 609 页）<br>如 PI1 对应 IW256<br>想知道系统的相应状态，直接从 IW256 读值即可</p><p><strong>PI2 :</strong> Actual position high ；<strong>PI3 :</strong> Actual position low  </p><p>伺服系统的当前位置坐标可通过总线第二和第三个 PI 字双字格式读上来<br>如 PI2 对应 IW258；PI3 对应 IW260；<br>想知道电机运行到什么位置，直接从 ID258 读值即可</p><p><strong>PI4 :</strong> Actual speed<br>如 PI4 对应 IW262<br>想知道电机运行的速度，直接从 IW262 读值即可<br>比例为 0.1，如读取值为 6000，则实际值为 600rpm</p><p><strong>PI5 :</strong> Actual current<br>如 PI5 对应 IW264<br>想知道电机实际输出的有功电流（力矩），直接从 IW264 读值即可</p><p><strong>PI6 :</strong> OUTPUTS<br>如 PI6 对应 IW266<br>想知道驱动器的 DO 输出状态，直接从 IW266 读值即可</p><h2 id="总线速度控制-6PD-Profinet-IO-双驱板链-带增量型编码器-1"><a href="#总线速度控制-6PD-Profinet-IO-双驱板链-带增量型编码器-1" class="headerlink" title="总线速度控制-6PD-Profinet IO-双驱板链-带增量型编码器"></a>总线速度控制-6PD-Profinet IO-双驱板链-带增量型编码器</h2><h3 id="PLC-设定至变频器值-1"><a href="#PLC-设定至变频器值-1" class="headerlink" title="PLC 设定至变频器值"></a>PLC 设定至变频器值</h3><h3 id="变频器反馈至-PLC-值-1"><a href="#变频器反馈至-PLC-值-1" class="headerlink" title="变频器反馈至 PLC 值"></a>变频器反馈至 PLC 值</h3><h1 id="七、使用-MOTION-STUDIO-软件，输入驱动器内位控程序"><a href="#七、使用-MOTION-STUDIO-软件，输入驱动器内位控程序" class="headerlink" title="七、使用 MOTION STUDIO 软件，输入驱动器内位控程序"></a>七、使用 MOTION STUDIO 软件，输入驱动器内位控程序</h1><h2 id="总线位置控制-6PD-Profinet-IO-双驱力矩分配升降-带增量型编码器-2"><a href="#总线位置控制-6PD-Profinet-IO-双驱力矩分配升降-带增量型编码器-2" class="headerlink" title="总线位置控制-6PD-Profinet IO-双驱力矩分配升降-带增量型编码器"></a>总线位置控制-6PD-Profinet IO-双驱力矩分配升降-带增量型编码器</h2><p>总线位控模式运行时，伺服控制器内接口程序  </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">SET H200 = 3 //设定接口格式：外部总线数据传输</span><br><span class="line">SET H201 = 6 //设定接口格式：6 个PO</span><br><span class="line">SET H211 = 6 //设定接口格式：6 个PI</span><br><span class="line">M2: GETSYS H200 = PO-DATA //接收 PO 数据值</span><br><span class="line">SET H222 = H202</span><br><span class="line">SET H223 = H202</span><br><span class="line">SETSYS POP.SPEED C(CW) = H222 //对运行速度赋值</span><br><span class="line">SETSYS IMAX = H205 //对最大输出力矩赋值</span><br><span class="line">SET H226 = H206</span><br><span class="line">SET H227 = H207</span><br><span class="line">SETSYS POP.RAMP = H226 //对加减速时间赋值</span><br><span class="line">SET H492 = H499 //对运行的目标位置赋值</span><br><span class="line">SETSYS PI-DATA = H211 //读取 PI 数据值</span><br><span class="line">GETSYS H215 = ACT . SPEED //读取实际运行速度值</span><br><span class="line">GETSYS H216 = ACTUAL . CURRENT //读取实际输出力矩值</span><br><span class="line">SET H217 = H521 //读取输出点的状态值</span><br><span class="line">JMP H202 == 1, M1 //置零点坐标条件；</span><br><span class="line">RET</span><br><span class="line">M1: SET H511 = 0 //如果总线传送的第一个字值为 1，将当前的位置坐标置为 0（建立坐标系）；</span><br><span class="line">WAIT 100ms</span><br><span class="line">JMP UNCONDITIONED , M2</span><br><span class="line">RET</span><br><span class="line">END</span><br></pre></td></tr></table></figure><p>由于此程序利用总线第一个传送字既作为速度传送，也作为置坐标指令传送，因此在发送时应根据实际情况进行：</p><p>由于此程序利用总线第一个传送字既作为速度传送，也作为置坐标指令传送，因此在发送时应根据实际情况进行：</p><p>如：总线第一个传送字发送 1 到伺服系统内，伺服系统将按 0.1rpm（0.1的比例），以及第二和第三个传送字发来的目标坐标值进行定位运行；但由于也同时将当前的位置坐标置为 0，如果第二和第三个传送字发来的目标坐标值与 0不同，伺服系统将按 0.1rpm 不断朝一个方向运行；</p><p>在需要进行回零操作时，应先将系统运行到机械零点位置，然后将ENABLE&#x2F;RAP.STOP 端子置为 0，等待 50ms 后在给第一个传送字发送 1，则伺服驱动器坐标系清零；<br>然后在给第一个传送字发 送 0，第二和第三个传送字发送 0，然后 将ENABLE&#x2F;RAP.STOP 端子置为 1，伺服系统进入 0 速力矩保持状态，等待运行；</p><p>如果仅将第一个传送字发送 0，第二和第三个传送字发送的坐标值与当前的坐标值不同，在将 ENABLE&#x2F;RAP.STOP 端子置为 1 后，伺服系统会以极低的速度朝第二和第三个传送字发送的坐标值运行，而不会以 0 速停在原地。</p><p>当 ENABLE&#x2F;RAP.STOP 端子为 1 时，不能发送回零指令，不恰当的操作会导致系统报警停机。</p><p>当①系统断电又重新上电，②系统报警停机复位，以及③对伺服系统作初始化配置后，系统内部的坐标系都会被更改，应重新做回零运行，建立正确的系统坐标系。</p><h1 id="电磁干扰屏蔽安装要求"><a href="#电磁干扰屏蔽安装要求" class="headerlink" title="电磁干扰屏蔽安装要求"></a>电磁干扰屏蔽安装要求</h1><p>伺服控制器至伺服电机的动力电缆需采用带屏蔽层，屏蔽层从头至尾不应有断层，并用金属夹可靠紧固，大面积接地  </p><p><img src="https://img.zzzg.top/20250725155738400.png"></p><p>编码器线需采用专用带屏蔽层双绞线，并用金属夹将屏蔽层可靠紧固接地，屏蔽层从头至尾不应有断层。  </p><p><img src="https://img.zzzg.top/20250725155738401.png"></p><p><img src="https://img.zzzg.top/20250725155738402.png"></p><p><img src="https://img.zzzg.top/20250725155738403.png"></p><p>电磁干扰屏蔽处理不当：<strong>会出现总线易受干扰掉线；编码器脉冲信号接受错误，定位精度差；对电机进行零速控制时，电机会自行转动等故障现象。</strong></p><h1 id="资料下载"><a href="#资料下载" class="headerlink" title="资料下载"></a>资料下载</h1><p>MOVIDRIVE® MDX60B &#x2F; 61B 操作手册：<a href="https://download.sew-eurodrive.com/download/pdf/11300558.pdf">https://download.sew-eurodrive.com/download/pdf/11300558.pdf</a><br>MOVITOOLS MotionStudio：<a href="https://www.sew-eurodrive.cn/os/dud/?tab=software&country=CN&language=zh_cn&search=MotionStudio">https://www.sew-eurodrive.cn/os/dud/?tab=software&amp;country=CN&amp;language=zh_cn&amp;search=MotionStudio</a><br>参考程序以及变频器备份：<a href="https://cloud.189.cn/t/EnQRr23QvQ7v%EF%BC%88%E8%AE%BF%E9%97%AE%E7%A0%81%EF%BC%9A2g6b%EF%BC%89">https://cloud.189.cn/t/EnQRr23QvQ7v（访问码：2g6b）</a></p>]]></content>
    
    
    <summary type="html">详细解析SEW-MDX61B变频器的同步控制调试流程，包含参数设置、硬件接线、软件配置及常见问题解决方案。</summary>
    
    
    
    <category term="工业自动化" scheme="https://yuqi.im/categories/%E5%B7%A5%E4%B8%9A%E8%87%AA%E5%8A%A8%E5%8C%96/"/>
    
    
    <category term="MOVIDRIVE" scheme="https://yuqi.im/tags/MOVIDRIVE/"/>
    
  </entry>
  
  <entry>
    <title>Balluff-IOLINK模块在TIA软件上调试</title>
    <link href="https://yuqi.im/posts/ff857dd0/"/>
    <id>https://yuqi.im/posts/ff857dd0/</id>
    <published>2025-07-17T16:00:00.000Z</published>
    <updated>2025-07-17T16:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="样例连接"><a href="#样例连接" class="headerlink" title="样例连接"></a><strong>样例连接</strong></h2><p><img src="https://img.zzzg.top/20250718122225962.png" alt="image-20241226101741875"></p><h2 id="产品清单"><a href="#产品清单" class="headerlink" title="产品清单"></a><strong>产品清单</strong></h2><table><thead><tr><th><strong>产品名称</strong></th><th><strong>名称及订货号</strong></th><th><strong>描述</strong></th><th><strong>产品图片</strong></th></tr></thead><tbody><tr><td>主站模块</td><td>BNI PNT-508-105-Z015（BNI005H）</td><td>Profinet通讯，16<em>PNP DI&#x2F;DO， 8</em>IO-Link, I&#x2F;O端口：M12, IO-Link端口:M12,最大负载电流9A。</td><td><img src="https://img.zzzg.top/20250718122242282.png" alt="image-20241226102504353"></td></tr><tr><td>IO-Link子模块</td><td>BNI IOL-302-000-Z012（BNI003U）</td><td>IO-Link通讯，16*PNP DI&#x2F;DO, I&#x2F;O端口:M12,IO-Link端口：M12, 最大负载电流1.4A。</td><td><img src="https://img.zzzg.top/20250718122250402.png" alt="image-20241226102517607"></td></tr><tr><td>IO-Link子模块</td><td>BNI IOL-302-002-K006 （BNI007Z）</td><td>IO-Link通讯，16*PNP DI&#x2F;DO, I&#x2F;O端口：M12,IO-Link端口：M12, 最大负载电流1.6A。</td><td><img src="https://img.zzzg.top/20250718122257285.png" alt="image-20241226102536990"></td></tr><tr><td>IO-Link阀岛适配器</td><td>BNI IOL-750-V02-K007 (BNI001E)</td><td>IO-Link通讯，电缆长度 0.6米， 适配器端口：25-pole, female , IO-Link端口：M12。</td><td><img src="https://img.zzzg.top/20250718122304284.png" alt="image-20241226102559155"></td></tr><tr><td>IO-Link HUB</td><td>BNI IOL-310-000-K025 (BNI004L)</td><td>IO-Link通讯，16*PNP DI&#x2F;DO, I&#x2F;O端口：端子式,IO-Link端口： 端子式, 最大负载电流1.4A。</td><td><img src="https://img.zzzg.top/20250718122311160.png" alt="image-20241226102622683"></td></tr><tr><td>IO-Link 紧凑型RFID</td><td>BIS M-451-045-001-07-S4 (BIS00LM)</td><td>IO-Link通讯，IO-Link端口：M12,读写数据长度10byte。</td><td><img src="https://img.zzzg.top/20250718122317331.png" alt="image-20241226102639188"></td></tr><tr><td>IO-Link 微脉冲位移 传感器</td><td>BTL6-U110-M0300-PF-S4 （BTL1HWR）</td><td>IO-Link通讯，IO-Link端口：M12, 测量范围：300mm,最小精度：1vm，最大传感器数量：1。</td><td><img src="https://img.zzzg.top/20250718122324726.png" alt="image-20241226102652405"></td></tr><tr><td>IO-link Smart Light</td><td>BNI IOL-802-102-Z037 (BNI0085)</td><td>IO-link通讯，IO-Link端口：M12， 颜色数量:7，分段数量：5段， 显示模式：3种。</td><td><img src="https://img.zzzg.top/20250718122331419.png" alt="image-20241226102706935"></td></tr><tr><td>M12直型公头&#x2F;RJ45直型公头 总线电缆</td><td>BCC04K7</td><td>4针电缆，M12-RJ45，长度2米。</td><td><img src="https://img.zzzg.top/20250718122338347.png" alt="image-20241226102718276"></td></tr><tr><td>7&#x2F;8英寸 单头母头 电源线</td><td>BCC06HE</td><td>7&#x2F;8英寸单头母头电缆，5针，长度5米。</td><td><img src="https://img.zzzg.top/20250718122343590.png" alt="image-20241226102738790"></td></tr><tr><td>M12直型母头—M12直型公头</td><td>BCC03FT</td><td>M12双头电缆，5针，长度3米。</td><td><img src="https://img.zzzg.top/20250718122348789.png" alt="image-20241226102748588"></td></tr><tr><td>直流电源</td><td>BAE0006</td><td>额定电流5A，额定电压24V，最大功率120W。</td><td><img src="https://img.zzzg.top/20250718122353333.png" alt="image-20241226102757885"></td></tr></tbody></table><blockquote><p>注意：508主站模块端口和IO-Link设备连接，不要使用带LED灯的电缆，否则整个508主站的IO-Link通讯会受到影响。</p></blockquote><h2 id="样例连接-1"><a href="#样例连接-1" class="headerlink" title="样例连接"></a><strong>样例连接</strong></h2><p>BNI PNT 508模块&gt;&gt;接口针脚定义。</p><p><img src="https://img.zzzg.top/20250718122402727.png" alt="image-20241226103025507"></p><h2 id="BNI-PNT-508-105-Z015-样例组态调试"><a href="#BNI-PNT-508-105-Z015-样例组态调试" class="headerlink" title="BNI PNT-508-105-Z015 样例组态调试"></a><strong>BNI PNT-508-105-Z015 样例组态调试</strong></h2><h4 id="建立新项目-版本：TIA-V14"><a href="#建立新项目-版本：TIA-V14" class="headerlink" title="建立新项目(版本：TIA V14)"></a><strong>建立新项目(版本：TIA V14)</strong></h4><p><img src="https://img.zzzg.top/20250718122408519.png" alt="image-20241226103218739"></p><h4 id="添加PLC"><a href="#添加PLC" class="headerlink" title="添加PLC"></a><strong>添加PLC</strong></h4><p>根据实物选择对应的PLC型号进行添加。</p><p><img src="https://img.zzzg.top/20250718122416222.png" alt="image-20241226103513850"></p><p><img src="https://img.zzzg.top/20250718122427122.png" alt="image-20241226103237452"></p><h4 id="添加PROFINET子网"><a href="#添加PROFINET子网" class="headerlink" title="添加PROFINET子网"></a><strong>添加PROFINET子网</strong></h4><ol><li>右键单击PLC上 RJ45绿色图标。</li><li>点击添加子网。</li><li>配置PLC IP地址。</li></ol><p><img src="https://img.zzzg.top/20250718122434644.png" alt="image-20241226103700820"></p><h4 id="添加GSD文件"><a href="#添加GSD文件" class="headerlink" title="添加GSD文件"></a><strong>添加GSD文件</strong></h4><p>模块GSD文件登陆<a href="http://www.balluff.com.cn/">www.Balluff.com.cn</a>下载。</p><p><img src="https://img.zzzg.top/20250718122443443.png" alt="image-20241226104135539"></p><p><img src="https://img.zzzg.top/20250718122451480.png" alt="image-20241226103825062"></p><h4 id="GSD-安装完成"><a href="#GSD-安装完成" class="headerlink" title="GSD 安装完成"></a><strong>GSD 安装完成</strong></h4><p><img src="https://img.zzzg.top/20250718122458328.png" alt="image-20241226104300153"></p><h4 id="连接PLC网络"><a href="#连接PLC网络" class="headerlink" title="连接PLC网络"></a><strong>连接PLC网络</strong></h4><p><img src="https://img.zzzg.top/20250718122503344.png" alt="image-20241226104355718"></p><p><img src="https://img.zzzg.top/20250718122509833.png" alt="image-20241226104424323"></p><h4 id="配置IO-Link模块地址"><a href="#配置IO-Link模块地址" class="headerlink" title="配置IO-Link模块地址"></a><strong>配置IO-Link模块地址</strong></h4><p>BALLUFF产品的相关样册登录<a href="http://www.balluff.com.cn/">www.Balluff.com.cn</a>官网进行查找。</p><blockquote><p>以302模块为例。</p></blockquote><p><img src="https://img.zzzg.top/20250718122517376.png" alt="image-20241226105039817"></p><p><img src="https://img.zzzg.top/20250718122524123.png" alt="image-20241226105247766"></p><h4 id="设置IO-Link地址长度"><a href="#设置IO-Link地址长度" class="headerlink" title="设置IO-Link地址长度"></a><strong>设置IO-Link地址长度</strong></h4><p>查找该手册关于过程数据的描述，地址长度为2 Bytes 输入，2 Bytes 输出。</p><p><img src="https://img.zzzg.top/20250718122531122.png" alt="image-20241226105330415"></p><h4 id="组态配置说明"><a href="#组态配置说明" class="headerlink" title="组态配置说明"></a><strong>组态配置说明</strong></h4><p>BALLUFF IO-Link 新产品的模块在硬件目录的“Device Module”中可以找到。旧产品先在手册中找到过程数据长度，然后在“Basic modules”中配置。</p><p>**注意：**在“Basic Module”中配置的硬件，地址长度必须长于IO-Link设备本身的长度，例如，IO-Link设备地址长度为1 Byte 输入，3 Bytes 输出，那么在“Basic Module”中配置的模块地址长度为2 Bytes 输入，4 Bytes 输出，由此类推。</p><p><img src="https://img.zzzg.top/20250718122536755.png" alt="image-20241226105448647"></p><h4 id="添加过程数据"><a href="#添加过程数据" class="headerlink" title="添加过程数据"></a><strong>添加过程数据</strong></h4><h5 id="添加BNI-IOL-302-000-Z012过程数据"><a href="#添加BNI-IOL-302-000-Z012过程数据" class="headerlink" title="添加BNI IOL-302-000-Z012过程数据"></a><strong>添加BNI IOL-302-000-Z012过程数据</strong></h5><table><thead><tr><th><strong><img src="https://img.zzzg.top/20250718122554609.png" alt="image-20241226105701582"></strong></th><th><strong><img src="https://img.zzzg.top/20250718122542608.png" alt="image-20241226105728884"></strong></th></tr></thead><tbody><tr><td></td><td></td></tr></tbody></table><h5 id="添加BNI-IOL-750-V02-K007过程数据"><a href="#添加BNI-IOL-750-V02-K007过程数据" class="headerlink" title="添加BNI IOL-750-V02-K007过程数据"></a><strong>添加BNI IOL-750-V02-K007过程数据</strong></h5><table><thead><tr><th><strong><img src="https://img.zzzg.top/20250718122602160.png" alt="image-20241226102559155"></strong></th><th><strong><img src="https://img.zzzg.top/20250718122606600.png" alt="image-20241226110423771"></strong></th></tr></thead><tbody><tr><td></td><td></td></tr></tbody></table><h5 id="添加BNI-IOL-310-000-K025过程数据"><a href="#添加BNI-IOL-310-000-K025过程数据" class="headerlink" title="添加BNI IOL-310-000-K025过程数据"></a><strong>添加BNI IOL-310-000-K025过程数据</strong></h5><table><thead><tr><th><strong><img src="https://img.zzzg.top/20250718122612355.png" alt="image-20241226102622683"></strong></th><th><strong><img src="https://img.zzzg.top/20250718122617597.png" alt="image-20241226110607437"></strong></th></tr></thead><tbody><tr><td></td><td></td></tr></tbody></table><h5 id="添加BIS-M-451-045-001-07-S4过程数据"><a href="#添加BIS-M-451-045-001-07-S4过程数据" class="headerlink" title="添加BIS M-451-045-001-07-S4过程数据"></a><strong>添加BIS M-451-045-001-07-S4过程数据</strong></h5><table><thead><tr><th><strong><img src="https://img.zzzg.top/20250718122624046.png" alt="image-20241226102639188"></strong></th><th><strong><img src="https://img.zzzg.top/20250718122631359.png" alt="image-20241226110741462"></strong></th></tr></thead><tbody><tr><td></td><td></td></tr></tbody></table><h5 id="添加BNI-IOL-802-102-Z037过程数据"><a href="#添加BNI-IOL-802-102-Z037过程数据" class="headerlink" title="添加BNI IOL-802-102-Z037过程数据"></a><strong>添加BNI IOL-802-102-Z037过程数据</strong></h5><table><thead><tr><th><strong><img src="https://img.zzzg.top/20250718122639910.png" alt="image-20241226102706935"></strong></th><th><strong><img src="https://img.zzzg.top/20250718122645955.png" alt="image-20241226125557005"></strong></th></tr></thead><tbody><tr><td></td><td></td></tr></tbody></table><h5 id="添加508模块I-O"><a href="#添加508模块I-O" class="headerlink" title="添加508模块I&#x2F;O"></a><strong>添加508模块I&#x2F;O</strong></h5><table><thead><tr><th><strong><img src="https://img.zzzg.top/20250718122653501.png" alt="image-20241226102504353"></strong></th><th><strong><img src="https://img.zzzg.top/20250718122658585.png" alt="image-20241226125813271"></strong></th></tr></thead><tbody><tr><td></td><td></td></tr></tbody></table><h4 id="BNI-PNT-508项目保存下载"><a href="#BNI-PNT-508项目保存下载" class="headerlink" title="BNI PNT-508项目保存下载"></a><strong>BNI PNT-508项目保存下载</strong></h4><p>搜索PLC，并点击下载。</p><p><img src="https://img.zzzg.top/20250718122705642.png" alt="image-20241226125903645"></p><p><img src="https://img.zzzg.top/20250718122712863.png" alt="image-20241226130004397"></p><h4 id="分配设备名称及IP"><a href="#分配设备名称及IP" class="headerlink" title="分配设备名称及IP"></a><strong>分配设备名称及IP</strong></h4><p>如果PLC下载完成，模块网络通讯仍然存在故障，可以先排查502模块“分配设备名称”状态是否已OK。</p><p><img src="https://img.zzzg.top/20250718122719006.png" alt="image-20241226130245401"></p><p><img src="https://img.zzzg.top/20250718122724200.png" alt="image-20241226130316836"></p><h4 id="在508模块上设置IO-Link连接"><a href="#在508模块上设置IO-Link连接" class="headerlink" title="在508模块上设置IO-Link连接"></a><strong>在508模块上设置IO-Link连接</strong></h4><p>如图所示，可以配置508模块针脚的功能。若I&#x2F;O-Link 端口连接I&#x2F;O-Link设备 使用，PIN4默认为NO input即可。</p><p><img src="https://img.zzzg.top/20250718122729357.png" alt="image-20241226130559648"></p><h4 id="在508模块上设置IO-Link-子模块UA"><a href="#在508模块上设置IO-Link-子模块UA" class="headerlink" title="在508模块上设置IO-Link 子模块UA"></a><strong>在508模块上设置IO-Link 子模块UA</strong></h4><p><strong>BNI IOL-302-000-Z012</strong>，<strong>BNI IOL-302-002-K006</strong>， <strong>BNI IOL-310-000-K025</strong>是16I&#x2F;O可配置子模块，因此该子模块在使用时除了需要控制电压US外，还需要工作电压UA，而该电压可以由主站模块PIN2提供。如图中，配置主站模块Port0，Port2，Port4的PIN2为输出，为子模块提供UA供电接口，设置完成后下载。</p><p><img src="https://img.zzzg.top/20250718122735642.png" alt="image-20241226130900931"></p><h4 id="点亮模块“UA”绿色指示灯"><a href="#点亮模块“UA”绿色指示灯" class="headerlink" title="点亮模块“UA”绿色指示灯"></a><strong>点亮模块“UA”绿色指示灯</strong></h4><p>下图输出地址为508主站模块PIN2的组态地址。</p><p><img src="https://img.zzzg.top/20250718122745270.png" alt="image-20241226131256000"></p><h4 id="模块配置为16DO"><a href="#模块配置为16DO" class="headerlink" title="模块配置为16DO"></a><strong>模块配置为16DO</strong></h4><p>如图所示，将302模块所有端口的PIN配置为”Ausgang”，设置完成后下载组态。</p><p><img src="https://img.zzzg.top/20250718122754620.png" alt="image-20241226131612669"></p><p>测试模块输出</p><p><img src="https://img.zzzg.top/20250718122801680.png" alt="image-20241226131711420"></p><h4 id="两个BNI-IOL-302-002-K006模块扩展调试"><a href="#两个BNI-IOL-302-002-K006模块扩展调试" class="headerlink" title="两个BNI IOL-302-002-K006模块扩展调试"></a><strong>两个BNI IOL-302-002-K006模块扩展调试</strong></h4><p>此处测试的是BNI IOL-302-002-K006的另外一种常用情形，在508主站模块Port2端口所连的1个BNI IOL-302-002-K006 模块基础上，扩展连接一个BNI IOL-302-002-K006 模块，连接方法如图所示。如果该情况您不会用到，请直接略过以下内容。</p><p>下面将进行两个BNI IOL-302-002-K006扩展使用的调试。</p><p><img src="https://img.zzzg.top/20250718122807044.png" alt="image-20241226132028687"></p><h5 id="模块扩展连接硬件组态"><a href="#模块扩展连接硬件组态" class="headerlink" title="模块扩展连接硬件组态"></a><strong>模块扩展连接硬件组态</strong></h5><p>重新配置组态地址长度，用主站模块同时连接两个BNI IOL-302-002-K006的模块，此处硬件组态地址长度用4 Bytes输入，4 Bytes 输出替换之前的2 Bytes输入，2 Bytes 输出（如图所示），配置完成后下载。</p><p><img src="https://img.zzzg.top/20250718122813336.png" alt="image-20241226132156596"></p><h5 id="配置302模块Port7扩展类型"><a href="#配置302模块Port7扩展类型" class="headerlink" title="配置302模块Port7扩展类型"></a><strong>配置302模块Port7扩展类型</strong></h5><p>在浏览器中输入主站模块IP地址，登录密码:<strong>BNIPNT</strong>，登录Webserver服务器，在图所示的Parameter Data中填入Index为”0x55”, Subindex为 ” 0” ，可以在“Data”中配置上一级302模块Port7的扩展接口类型，写入“0”为不扩展，写入“1”为扩展下一级302模块，如果写入“1”成功，上一级302模块Port7针脚暂时不能再作为I&#x2F;O使用，扩展参考下图。</p><p><img src="https://img.zzzg.top/20250718122821574.png" alt="image-20241226132654719"></p><p><img src="https://img.zzzg.top/20250718122828565.png" alt="image-20241226132725536"></p><p>设置成功后，上一级302模块Port7的扩展接口会显示绿灯常亮。</p><blockquote><p>注意：如果上一级302模块的Index“0x55”被设置为“1”，下级302模块的Index“0x55” 必须为“0”，否则上一级302模块Port7端口会出现故障报警。</p></blockquote><h5 id="激活供电UA"><a href="#激活供电UA" class="headerlink" title="激活供电UA"></a><strong>激活供电UA</strong></h5><p>为模块提供UA供电。</p><p>下图的组态地址为508主站模块PIN2的地址。</p><p><img src="https://img.zzzg.top/20250718122835828.png" alt="image-20241226133148154"></p><h5 id="模块扩展连接"><a href="#模块扩展连接" class="headerlink" title="模块扩展连接"></a><strong>模块扩展连接</strong></h5><p>在下图所示的Parameter Data中填入Index为”0x41”, Subindex为 ” 0” ，在“Data”中对两个302模块进行I&#x2F;O配置，可以根据需要定义合适的I&#x2F;O点数。</p><p>例如：配置两块8DI&#x2F;8DO的模块，将“FF 00 FF 00” 填入“Data” ，选择”Write”，点击“Apply” 。</p><p>下面举例说明，将“FF FF FF FF” 写入“Data”成功后配置为两块输出模块(上一级302模块Port7因为定义为扩展端口，该端口不能再进行I&#x2F;O信号定义)。</p><p><img src="https://img.zzzg.top/20250718122843020.png" alt="image-20241226133449484"></p><h5 id="模块输出DO"><a href="#模块输出DO" class="headerlink" title="模块输出DO"></a><strong>模块输出DO</strong></h5><p><img src="https://img.zzzg.top/20250718122848683.png" alt="image-20241226133539536"></p><h4 id="WebServer服务器"><a href="#WebServer服务器" class="headerlink" title="WebServer服务器"></a><strong>WebServer服务器</strong></h4><p>如图所示，在浏览器网址栏中输入508模块的IP地址（在模块显示屏上可以看到）,例如：192.168.0.2,登录右图所示界面。</p><p>Web Server有以下功能：</p><ol><li>显示主站模块和端口状态信息。</li><li>IO-Link设备的配置。</li><li>IODD设备的配置。</li><li>配置现场总线网关。</li><li>报警日志和诊断信息。</li><li>帮助信息。</li></ol><p>附件关于Webserver的使用有详细的介绍。</p><p>产品手册链接： <a href="https://assets.balluff.com.cn/WebBinary1/DRW_881678_00_000.pdf">https://assets.balluff.com.cn/WebBinary1/DRW_881678_00_000.pdf</a></p>]]></content>
    
    
    <summary type="html">详细解析Balluff IO-Link模块在西门子TIA Portal环境中的配置流程，包含硬件组态、参数设置、诊断方法及常见问题解决方案。</summary>
    
    
    
    <category term="工业自动化" scheme="https://yuqi.im/categories/%E5%B7%A5%E4%B8%9A%E8%87%AA%E5%8A%A8%E5%8C%96/"/>
    
    
    <category term="Balluff" scheme="https://yuqi.im/tags/Balluff/"/>
    
  </entry>
  
  <entry>
    <title>S120伺服断开STO会掉位置的解决方法</title>
    <link href="https://yuqi.im/posts/db238e4c/"/>
    <id>https://yuqi.im/posts/db238e4c/</id>
    <published>2025-07-17T16:00:00.000Z</published>
    <updated>2025-07-17T16:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="原因分析"><a href="#原因分析" class="headerlink" title="原因分析"></a><strong>原因分析</strong></h1><p>西门子S120伺服断开STO在作为上下移动的移动应用时，可能会因为负载较重，当断开STO安全信号，或者断开电源，伺服抱闸启用时仍然会往下掉位置。</p><p>当遇到这种情况，通常是因为伺服电机断电时，电机抱闸还没有动作到位；我们可以适当调整抱闸释放时间和STO关断时伺服断电时间。</p><h1 id="调整参数"><a href="#调整参数" class="headerlink" title="调整参数"></a><strong>调整参数</strong></h1><p>我们可以通过STARTER软件调整抱闸释放时间和STO关断时伺服断电时间。</p><blockquote><p>注意伺服抱闸释放时间不宜延时过久，不然伺服断电后可能停止过慢。</p></blockquote><h2 id="连接S120伺服"><a href="#连接S120伺服" class="headerlink" title="连接S120伺服"></a><strong>连接S120伺服</strong></h2><p>打开SARTER软件，选择该项目文件，然后点击在线，并上载参数。</p><p><img src="https://img.zzzg.top/20250718123650798.png" alt="image-20241227194431060"></p><h2 id="调整抱闸关闭时间"><a href="#调整抱闸关闭时间" class="headerlink" title="调整抱闸关闭时间"></a><strong>调整抱闸关闭时间</strong></h2><p>在项目设备中找到需要修改的伺服，并找到伺服抱闸参数设置。</p><p><img src="https://img.zzzg.top/20250718123702632.png" alt="image-20241227194912262"></p><p>根据实际情况调整伺服抱闸参数</p><blockquote><p>注意：调整伺服参数后，请及时保存数据到ROM中，以防数据丢失。</p></blockquote><p><img src="https://img.zzzg.top/20250718123709501.png" alt="image-20241227194957428"></p><h2 id="调整STO关断时的停止时间"><a href="#调整STO关断时的停止时间" class="headerlink" title="调整STO关断时的停止时间"></a><strong>调整STO关断时的停止时间</strong></h2><p>在项目设备中找到需要修改的伺服，并找到伺服安全参数设置。</p><p><img src="https://img.zzzg.top/20250718123718419.png" alt="image-20241227195418276"></p><p>点击激活安全设置，然后再点击安全基本设置。</p><p><img src="https://img.zzzg.top/20250718123725709.png" alt="image-20241227195656570"></p><p>进入STO安全设置，点击STO，SBC，SS1.</p><p><img src="https://img.zzzg.top/20250718123733043.png" alt="image-20241228155222419"></p><p>如图所示，修改安全停止时间，修改完成后关闭该页面。</p><blockquote><p>注意：安全停止时间不能设置过长，建议比抱闸延时长10MS左右即可。</p></blockquote><p><img src="https://img.zzzg.top/20250718123739141.png" alt="image-20241228155335455"></p><p>关闭设置页面后，返回安全设置页面。再次点击激活设置。</p><p><img src="https://img.zzzg.top/20250718123746528.png" alt="image-20241228155628566"></p><p>提示需验证密码。</p><p><img src="https://img.zzzg.top/20250718123754848.png" alt="image-20241228155702905"></p><p>在该页面中重新验证密码。</p><blockquote><p>注意：第一个为旧密码，默认0；第二个、第三个为新密码，如果无需修改密码，可仍然填0.</p></blockquote><p><img src="https://img.zzzg.top/20250718123800622.png" alt="image-20241228155754050"></p><p>点击OK，确认保存。</p><p><img src="https://img.zzzg.top/20250718123811054.png" alt="image-20241228155918043"></p><p>最后点击该按钮，将配置保存到ROM中。</p>]]></content>
    
    
    <summary type="html">针对SINAMICS S120伺服系统在STO触发后位置丢失问题的完整解决策略，包含参数配置、硬件选型和备份电源方案。</summary>
    
    
    
    <category term="工业自动化" scheme="https://yuqi.im/categories/%E5%B7%A5%E4%B8%9A%E8%87%AA%E5%8A%A8%E5%8C%96/"/>
    
    
    <category term="SINAMICS" scheme="https://yuqi.im/tags/SINAMICS/"/>
    
  </entry>
  
  <entry>
    <title>手搓xray配置文件</title>
    <link href="https://yuqi.im/posts/9b626a72/"/>
    <id>https://yuqi.im/posts/9b626a72/</id>
    <published>2025-07-17T16:00:00.000Z</published>
    <updated>2025-09-01T16:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>手搓xray很简单</p><p>1.安装xray</p><p>bash -c “$(curl -L <a href="https://github.com/XTLS/Xray-install/raw/main/install-release.sh">https://github.com/XTLS/Xray-install/raw/main/install-release.sh</a>)” @ install</p><p>2.配置文件</p><p>nano &#x2F;usr&#x2F;local&#x2F;etc&#x2F;xray&#x2F;config.json</p><p>3.配置示例</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;log&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;loglevel&quot;</span><span class="punctuation">:</span> <span class="string">&quot;warning&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;routing&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;domainStrategy&quot;</span><span class="punctuation">:</span> <span class="string">&quot;AsIs&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;rules&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">            <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;field&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;ip&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                    <span class="string">&quot;geoip:private&quot;</span></span><br><span class="line">                <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;outboundTag&quot;</span><span class="punctuation">:</span> <span class="string">&quot;block&quot;</span></span><br><span class="line">            <span class="punctuation">&#125;</span></span><br><span class="line">        <span class="punctuation">]</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;inbounds&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;tag&quot;</span><span class="punctuation">:</span> <span class="string">&quot;VLESS-REALITY-56265&quot;</span><span class="punctuation">,</span><span class="comment">//命名</span></span><br><span class="line">      <span class="attr">&quot;port&quot;</span><span class="punctuation">:</span> <span class="number">56265</span><span class="punctuation">,</span><span class="comment">//端口</span></span><br><span class="line">      <span class="attr">&quot;listen&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0.0.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;protocol&quot;</span><span class="punctuation">:</span> <span class="string">&quot;vless&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;settings&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;clients&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">          <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="string">&quot; &quot;</span><span class="punctuation">,</span><span class="comment">// 装好xray后，执行 xray uuid 生成</span></span><br><span class="line">            <span class="attr">&quot;flow&quot;</span><span class="punctuation">:</span> <span class="string">&quot;xtls-rprx-vision&quot;</span></span><br><span class="line">          <span class="punctuation">&#125;</span></span><br><span class="line">        <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;decryption&quot;</span><span class="punctuation">:</span> <span class="string">&quot;none&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;streamSettings&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;network&quot;</span><span class="punctuation">:</span> <span class="string">&quot;tcp&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;security&quot;</span><span class="punctuation">:</span> <span class="string">&quot;reality&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;realitySettings&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">          <span class="attr">&quot;dest&quot;</span><span class="punctuation">:</span> <span class="string">&quot;yahoo.com:443&quot;</span><span class="punctuation">,</span><span class="comment">//选择自己要偷的域名</span></span><br><span class="line">          <span class="attr">&quot;serverNames&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">            <span class="string">&quot;yahoo.com&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;&quot;</span></span><br><span class="line">          <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;publicKey&quot;</span><span class="punctuation">:</span> <span class="string">&quot; &quot;</span><span class="punctuation">,</span><span class="comment">//xray x25519生成</span></span><br><span class="line">          <span class="attr">&quot;privateKey&quot;</span><span class="punctuation">:</span> <span class="string">&quot; &quot;</span><span class="punctuation">,</span><span class="comment">//同上</span></span><br><span class="line">          <span class="attr">&quot;shortIds&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">            <span class="string">&quot;135a&quot;</span>  <span class="comment">//openssl rand -hex 8生成，或者留空</span></span><br><span class="line">          <span class="punctuation">]</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;sniffing&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;enabled&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;destOverride&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">          <span class="string">&quot;http&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="string">&quot;tls&quot;</span></span><br><span class="line">        <span class="punctuation">]</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;outbounds&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;protocol&quot;</span><span class="punctuation">:</span> <span class="string">&quot;freedom&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;tag&quot;</span><span class="punctuation">:</span> <span class="string">&quot;direct&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;protocol&quot;</span><span class="punctuation">:</span> <span class="string">&quot;blackhole&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;tag&quot;</span><span class="punctuation">:</span> <span class="string">&quot;block&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>4.重启xray</p><p>systemctl restart xray</p><p>5.查看xray状态</p><p>systemctl status xray</p><p>6.设置开机启动</p><p>systemctl enable xray</p><h1 id="不会被偷跑流量的-REALITY"><a href="#不会被偷跑流量的-REALITY" class="headerlink" title="不会被偷跑流量的 REALITY"></a>不会被偷跑流量的 REALITY</h1><p><a href="https://github.com/XTLS/Xray-examples/tree/main/VLESS-TCP-REALITY%20(without%20being%20stolen)">https://github.com/XTLS/Xray-examples/tree/main/VLESS-TCP-REALITY%20(without%20being%20stolen)</a></p><p>自用配置示例</p><p>config_server.jsonc</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;log&quot;:</span> &#123;</span><br><span class="line">        <span class="attr">&quot;loglevel&quot;:</span> <span class="string">&quot;debug&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">&quot;inbounds&quot;:</span> [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">&quot;tag&quot;:</span> <span class="string">&quot;dokodemo-in&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;port&quot;:</span> <span class="number">16666</span>,</span><br><span class="line">            <span class="attr">&quot;protocol&quot;:</span> <span class="string">&quot;dokodemo-door&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;settings&quot;:</span> &#123;</span><br><span class="line">                <span class="attr">&quot;address&quot;:</span> <span class="string">&quot;127.0.0.1&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;port&quot;:</span> <span class="number">16666</span>,  <span class="string">//</span> <span class="string">指向内网中的</span> <span class="string">reality</span> <span class="string">端口，示例是这个端口，如果要自己修改了记得这里和下面的</span> <span class="string">reality</span> <span class="string">入站都要修改</span></span><br><span class="line">                <span class="attr">&quot;network&quot;:</span> <span class="string">&quot;tcp&quot;</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">&quot;sniffing&quot;:</span> &#123; <span class="string">//</span> <span class="string">这里的</span> <span class="string">sniffing</span> <span class="string">不是多余的，别乱动</span></span><br><span class="line">                <span class="attr">&quot;enabled&quot;:</span> <span class="literal">true</span>,</span><br><span class="line">                <span class="attr">&quot;destOverride&quot;:</span> [</span><br><span class="line">                    <span class="string">&quot;tls&quot;</span></span><br><span class="line">                ],</span><br><span class="line">                <span class="attr">&quot;routeOnly&quot;:</span> <span class="literal">true</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">&quot;listen&quot;:</span> <span class="string">&quot;127.0.0.1&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;port&quot;:</span> <span class="number">16666</span>, <span class="string">//</span> <span class="string">见上</span> <span class="string">如果和其他服务冲突了可以换</span></span><br><span class="line">            <span class="attr">&quot;protocol&quot;:</span> <span class="string">&quot;vless&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;settings&quot;:</span> &#123;</span><br><span class="line">                <span class="attr">&quot;clients&quot;:</span> [</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="attr">&quot;id&quot;:</span> <span class="string">&quot;658a9fd3-3740-4df1-9f2c-846b199c9461&quot;</span>, <span class="string">//</span> <span class="string">uuid，装好xray后，执行</span> <span class="string">xray</span> <span class="string">uuid</span> <span class="string">生成</span></span><br><span class="line">                        <span class="attr">&quot;flow&quot;:</span> <span class="string">&quot;xtls-rprx-vision&quot;</span></span><br><span class="line">                    &#125;</span><br><span class="line">                ],</span><br><span class="line">                <span class="attr">&quot;decryption&quot;:</span> <span class="string">&quot;none&quot;</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">&quot;streamSettings&quot;:</span> &#123;</span><br><span class="line">                <span class="attr">&quot;network&quot;:</span> <span class="string">&quot;tcp&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;security&quot;:</span> <span class="string">&quot;reality&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;realitySettings&quot;:</span> &#123;</span><br><span class="line">                    <span class="string">//</span> <span class="string">下方要求和普通</span> <span class="string">reality</span> <span class="string">一致，这里演示</span> <span class="string">dest</span> <span class="string">设置为</span> <span class="string">cloudflare</span> <span class="string">不被偷跑流量所以设置为</span> <span class="string">yahoo.com</span> <span class="string">了</span></span><br><span class="line">                    <span class="string">//</span> <span class="string">你可以设置为其他</span> <span class="string">CF</span> <span class="string">网站，如果你的</span> <span class="string">dest</span> <span class="string">不是这种网站你也不用点了进来不是吗</span></span><br><span class="line">                    <span class="attr">&quot;dest&quot;:</span> <span class="string">&quot;yahoo.com:443&quot;</span>,</span><br><span class="line">                    <span class="attr">&quot;serverNames&quot;:</span> [</span><br><span class="line">                        <span class="string">&quot;yahoo.com&quot;</span></span><br><span class="line">                    ],</span><br><span class="line">                    <span class="attr">&quot;privateKey&quot;:</span> <span class="string">&quot;wK8S16fAwx18fTlUW-kqBbFsx40Je898es1F0j_DWWw&quot;</span>, <span class="string">//</span> <span class="string">运行</span> <span class="string">`xray</span> <span class="string">x25519`</span> <span class="string">生成</span></span><br><span class="line">                    <span class="attr">&quot;publicKey&quot;:</span> <span class="string">&quot;dGOEx_o20MJDAedTN6K3Ri7v2j6KH2KvlxhK3UluWEc&quot;</span>,<span class="string">//</span> <span class="string">同上</span></span><br><span class="line">                    <span class="attr">&quot;shortIds&quot;:</span> [</span><br><span class="line">                        <span class="string">&quot;&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;8bc9dcb3a49c4270&quot;</span><span class="string">//openssl</span> <span class="string">rand</span> <span class="string">-hex</span> <span class="number">8</span><span class="string">生成，或者留空</span></span><br><span class="line">                    ]</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">&quot;sniffing&quot;:</span> &#123;</span><br><span class="line">                <span class="attr">&quot;enabled&quot;:</span> <span class="literal">true</span>,</span><br><span class="line">                <span class="attr">&quot;destOverride&quot;:</span> [</span><br><span class="line">                    <span class="string">&quot;http&quot;</span>,</span><br><span class="line">                    <span class="string">&quot;tls&quot;</span>,</span><br><span class="line">                    <span class="string">&quot;quic&quot;</span></span><br><span class="line">                ],</span><br><span class="line">                <span class="attr">&quot;routeOnly&quot;:</span> <span class="literal">true</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">&quot;outbounds&quot;:</span> [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">&quot;protocol&quot;:</span> <span class="string">&quot;freedom&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;tag&quot;:</span> <span class="string">&quot;direct&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">&quot;protocol&quot;:</span> <span class="string">&quot;blackhole&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;tag&quot;:</span> <span class="string">&quot;block&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">&quot;routing&quot;:</span> &#123;</span><br><span class="line">        <span class="attr">&quot;rules&quot;:</span> [</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">&quot;inboundTag&quot;:</span> [</span><br><span class="line">                    <span class="string">&quot;dokodemo-in&quot;</span></span><br><span class="line">                ],</span><br><span class="line">                <span class="string">//</span> <span class="string">重要，这个域名列表需要和</span> <span class="string">realitySettings</span> <span class="string">的</span> <span class="string">serverNames</span> <span class="string">保持一致</span></span><br><span class="line">                <span class="attr">&quot;domain&quot;:</span> [</span><br><span class="line">                    <span class="string">&quot;yahoo.com&quot;</span></span><br><span class="line">                ],</span><br><span class="line">                <span class="attr">&quot;outboundTag&quot;:</span> <span class="string">&quot;direct&quot;</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">&quot;inboundTag&quot;:</span> [</span><br><span class="line">                    <span class="string">&quot;dokodemo-in&quot;</span></span><br><span class="line">                ],</span><br><span class="line">                <span class="attr">&quot;outboundTag&quot;:</span> <span class="string">&quot;block&quot;</span></span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>分享链接</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">vless://658a9fd3-3740-4df1-9f2c-846b199c9461@你的IP地址或域名:16666?encryption=none&amp;flow=xtls-rprx-vision&amp;security=reality&amp;sni=yahoo.com&amp;fp=chrome&amp;pbk=dGOEx_o20MJDAedTN6K3Ri7v2j6KH2KvlxhK3UluWEc&amp;sid=8bc9dcb3a49c4270&amp;spx=%2F&amp;type=tcp&amp;headerType=none#dokodemo-in</span></span><br></pre></td></tr></table></figure><p>自己修改了服务端的哪些东西，对应的分享链接也需要对应修改</p><h1 id="一键脚本"><a href="#一键脚本" class="headerlink" title="一键脚本"></a>一键脚本</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -N --no-check-certificate -q -O install.sh &quot;https://raw.githubusercontent.com/2253845067/Xray_install/main/install.sh&quot; &amp;&amp; chmod +x install.sh &amp;&amp; bash install.sh</span><br></pre></td></tr></table></figure><p>github地址：<a href="https://www.github.com/2253845067/Xray_install">https://www.github.com/2253845067/Xray_install</a></p>]]></content>
    
    
    <summary type="html">从零开始手动编写Xray配置文件的完整教程，包含核心参数解析、协议选择、路由规则及性能优化技巧，适合高级用户定制化需求。</summary>
    
    
    
    <category term="网络技术" scheme="https://yuqi.im/categories/%E7%BD%91%E7%BB%9C%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="网络代理" scheme="https://yuqi.im/tags/%E7%BD%91%E7%BB%9C%E4%BB%A3%E7%90%86/"/>
    
  </entry>
  
  <entry>
    <title>SEW MOVIDRIVE MDX61B调试步骤</title>
    <link href="https://yuqi.im/posts/175f8f8b/"/>
    <id>https://yuqi.im/posts/175f8f8b/</id>
    <published>2025-05-23T16:00:00.000Z</published>
    <updated>2025-05-23T16:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="通用配置"><a href="#通用配置" class="headerlink" title="通用配置"></a>通用配置</h1><p>1、打开MOVITOOLS MotionStudio软件，创建项目；</p><p><img src="https://img.zzzg.top/20250524222200677.png" alt="image-20250524222158605"></p><p>2、用USB11A连接电脑和MDX61B控制器的XT插槽，扫描网络上的设备；</p><p><img src="https://img.zzzg.top/20250524214422270.png" alt="image-20250524211702428"></p><p>3、选择“configure device”，对连接到的设备进行硬件配置；</p><p><img src="https://img.zzzg.top/20250524222219097.png" alt="image-20250524222217162"></p><p>4、定义硬件名称，点击“finish”开始硬件配置；</p><p><img src="https://img.zzzg.top/20250524214515558.png" alt="image-20250524211926639"></p><p>5、硬件配置中；</p><p><img src="https://img.zzzg.top/20250524222233810.png" alt="image-20250524222232341"></p><p>6、硬件配置完成后，去除控制器X13&#x2F;DIΦΦ“控制器禁止”端子的二进制输入，然后点击“startup”；</p><p><img src="https://img.zzzg.top/20250524214629567.png" alt="image-20250524211945592"></p><p>7、点击“perform startup”，开始初始化；</p><p><img src="https://img.zzzg.top/20250524222248819.png" alt="image-20250524222247221"></p><p>8、点击“startup set-1”,进行parameter set-1设置（ 如果需要两套参数运行，parameter set-2设置采取同样步骤）；</p><p><img src="https://img.zzzg.top/20250524214718661.png" alt="image-20250524212003793"></p><p>9、选择“Execute complete start-up（执行完整的初始化）”；</p><p><img src="https://img.zzzg.top/20250524214754774.png" alt="image-20250524212013954"></p><p>10、选择“Stand-alone motor &gt; Vector-controlled&#x2F;Servo（独立电机 &gt; 矢量控制&#x2F;伺服电机）”；</p><p><img src="https://img.zzzg.top/20250524222306518.png" alt="image-20250524222301415"></p><p>11、参照电机铭牌，检查电机及编码器信息是否准确；</p><p><img src="https://img.zzzg.top/20250524214839482.png" alt="image-20250524212033383"></p><p>12、检查电机类型信息；</p><p><img src="https://img.zzzg.top/20250524214901384.png" alt="image-20250524212042192"></p><p>13、输入电源电压，定义参数P835“电机温度传感器的响应”，定义参数P530“电机温度传感器类型”（例如TF&#x2F;TH）；</p><p><img src="https://img.zzzg.top/20250524222319681.png" alt="image-20250524222318491"></p><p>14、选择“Yes, I use the encoder.（使用编码器）”；</p><p><img src="https://img.zzzg.top/20250524222329566.png" alt="image-20250524222328165"></p><p>15、操作模式选择“Positioning with IPOS（IPOS程序定位模式）”；</p><p><img src="https://img.zzzg.top/20250524222338371.png" alt="image-20250524222337164"></p><p>16、选择“CFC（电流矢量控制）模式”；</p><p><img src="https://img.zzzg.top/20250524215033099.png" alt="image-20250524212118749"></p><p>17、准确填写WEISS计算的load inertia（负载转动惯量），drive选择“With Backlash”；</p><p><img src="https://img.zzzg.top/20250524222357175.png" alt="image-20250524222356136"></p><p>18、相关参数使用WEISS所提供参数表中的推荐参数（另P501&#x3D;0.2），其它参数选择“Apply Proposal（使用推荐值）”；</p><p><img src="https://img.zzzg.top/20250524222404328.png" alt="image-20250524212137433"></p><p>19、转速控制器参数选择“Apply Proposal（使用推荐值）”；</p><p><img src="https://img.zzzg.top/20250524222410408.png" alt="image-20250524212146117"></p><p>20、 P100“设定值源”和P101“控制信号源”选择“FIELDBUS”，其它相关参数使用WEISS所提供参数表中的建议参数，剩余参数选择“Apply Proposal（使用推荐值）”；</p><p><img src="https://img.zzzg.top/20250524222422069.png" alt="image-20250524212156638"></p><p>21、点击“完成”，将初始化信息下载至控制器。如需配置parameter set-2，点击“download”，再进行参数包2的配置；</p><p><img src="https://img.zzzg.top/20250524222458272.png" alt="image-20250524212205450"></p><p>22、初始化完全完成后，会跳出提示框，点击“确定”；</p><p><img src="https://img.zzzg.top/20250524222523810.png" alt="image-20250524212214711"></p><p>23、点击“parameter tree”，进行WEISS所提供参数表中其它相关参数的设置；</p><p><img src="https://img.zzzg.top/20250524222531028.png" alt="image-20250524212224521"></p><p>24、例如，P911定位斜坡1，P913&#x2F;P914运转转速CW&#x2F;CCW，P916斜坡形式需设为“Jerk-Limited”；</p><p><img src="https://img.zzzg.top/20250524222539252.png" alt="image-20250524212234215"></p><p>25、例如，P933突变时间0.3；</p><p><img src="https://img.zzzg.top/20250524222546210.png" alt="image-20250524212244471"></p><p>26、参数配置为在线实时进行，完成后，点击“manual mode”手动模式；</p><p><img src="https://img.zzzg.top/20250524222553364.png" alt="image-20250524212254703"></p><p>27、点击“Activate manual mode”，激活手动模式；</p><p><img src="https://img.zzzg.top/20250524222604903.png" alt="image-20250524212314539"></p><p>28、连接控制器X13&#x2F;DIΦΦ“控制器禁止”端子的二进制输入；</p><p><img src="https://img.zzzg.top/20250524222615343.png" alt="image-20250524212325422"></p><p>29、选择控制速度，旋转方向，点击“start”或“stop”进行启停控制；</p><p><img src="https://img.zzzg.top/20250524222625158.png" alt="image-20250524212334707"></p><p>30、手动模式下，转台运行正常后，点击“Deactivate manual mode”;</p><p><img src="https://img.zzzg.top/20250524222633542.png" alt="image-20250524212344985"></p><p>31、选择“是”，退出手动模式；</p><p><img src="https://img.zzzg.top/20250524222641778.png" alt="image-20250524212354086"></p><h1 id="variable-setpoint-0801"><a href="#variable-setpoint-0801" class="headerlink" title="variable setpoint-0801"></a>variable setpoint-0801</h1><p>32、创建AMA0801模块；</p><p><img src="https://img.zzzg.top/20250524222649124.png" alt="image-20250524212632424"></p><p>33、去除控制器X13&#x2F;DIΦΦ“控制器禁止”端子的二进制输入，点击“next”，开始初始化AMA0801模块；</p><p><img src="https://img.zzzg.top/20250524222656438.png" alt="image-20250524212642466"></p><p>34、总线参数和控制器配置页面，建议使用其默认参数；</p><p><img src="https://img.zzzg.top/20250524222707316.png" alt="image-20250524212651974"></p><p>35、刻度计算页面，“Diameter&#x2F;spindle pitch”的单位选择“inc”；</p><p><img src="https://img.zzzg.top/20250524222716007.png" alt="image-20250524212701771"></p><p>36、参数和极限页面，若使用硬件限位开关，需将CW和CCW限位开关分别接到控制器X13&#x2F;DI Φ 4和X13&#x2F;DI Φ 5端子，同时在软件上选择“YES”，“parameter tree”中将P603和P604端子功能设置为相应的限位功能；如果没有原点传感器，寻找参考点模式选择5，即将当前点作为原点；</p><p><img src="https://img.zzzg.top/20250524222723909.png" alt="image-20250524212710360"></p><p>37、监控设置页面，建议使用其默认参数；</p><p><img src="https://img.zzzg.top/20250524222733109.png" alt="image-20250524212722391"></p><p>38、点击“download”，将AMA模块设置下载到控制器；</p><p><img src="https://img.zzzg.top/20250524222740535.png" alt="image-20250524212739438"></p><p>39、下载完成后，软件自动跳至总线控制监视器；</p><p><img src="https://img.zzzg.top/20250524222749673.png" alt="image-20250524212744631"></p><p>40、更改二进制输入设置，若不使用二进制输入控制X13&#x2F;DI Φ 1“ENABLE&#x2F;STOP”，必须将“parameter tree”中P600设为“NO FUNCTION”，若不使用原点传感器，将P602“Reference Cam”设为“NO FUNCTION”，若不使用硬件限位开关，将P603和P604设为“NO FUNCTION”;</p><p><img src="https://img.zzzg.top/20250524222755552.png" alt="image-20250524212757219"></p><p>41、点击“control”，确定弹出对话框；</p><p><img src="https://img.zzzg.top/20250524222802302.png" alt="image-20250524212807300"></p><p>42、连接控制器X13&#x2F;DIΦΦ“控制器禁止”端子的二进制输入（若使用控制器X13&#x2F;DIΦ1“ENABLE&#x2F;STOP”端子，同时需连接其二进制输入），选择控制信号进行模拟总线控制，测试转台；</p><p><img src="https://img.zzzg.top/20250524222810802.png" alt="image-20250524212816806"></p><p>43、模拟总线控制正常后，退出此模式。选择“Export”，将配置的参数导出到文件，之后可将其导入到相似的控制系统中；</p><p><img src="https://img.zzzg.top/20250524222817521.png" alt="image-20250524212826315"></p><p>44、可选择“project &gt; save(as)”，保存项目；</p><p><img src="https://img.zzzg.top/20250524222823830.png" alt="image-20250524212836779"></p><p>45、可选择“project &gt; export”，导出项目到压缩文件；</p><p><img src="https://img.zzzg.top/20250524222830169.png" alt="image-20250524212846979"></p><p>46、若后期设备应用有更改，需初始化控制器，可在“parameter tree”P802中选择“delivery state”，将控制器还原为出厂状态。</p><p><img src="https://img.zzzg.top/20250524222838525.png" alt="image-20250524212857194"></p><h1 id="binary-setpoint-0801"><a href="#binary-setpoint-0801" class="headerlink" title="binary setpoint-0801"></a>binary setpoint-0801</h1><p>32、创建AMA0801模块；</p><p><img src="https://img.zzzg.top/20250524222649124.png" alt="image-20250524212632424"></p><p>33、去除控制器X13&#x2F;DIΦΦ“控制器禁止”端子的二进制输入，点击“next”，开始初始化AMA0801模块；</p><p><img src="https://img.zzzg.top/20250524222656438.png" alt="image-20250524212642466"></p><p>34、总线参数和控制器配置页面，application mode选择“binary setpoint”，其它建议使用其默认参数；</p><p><img src="https://img.zzzg.top/20250524222939640.png" alt="image-20250524213430979"></p><p>35、刻度计算页面，“Diameter&#x2F;spindle pitch”的单位选择“inc”；</p><p><img src="https://img.zzzg.top/20250524222943220.png" alt="image-20250524213441697"></p><p>36、参数和极限页面，若使用硬件限位开关，需将CW和CCW限位开关分别接到控制器X13&#x2F;DI Φ 4和X13&#x2F;DI Φ 5端子，同时在软件上选择“YES”，“parameter tree”中将P603和P604端子功能设置为相应的限位功能；如果没有原点传感器，寻找参考点模式选择5，即将当前点作为原点；</p><p><img src="https://img.zzzg.top/20250524222955853.png" alt="image-20250524213451117"></p><p>37、binary drive parameter页面， positioning mode parameter菜单下设置定位模式高速，低速及加减速时间。Jog mode菜单下设置点动模式高速，低速及加减速时间（默认即可）。Parameter positions菜单下设置低速类型，和每个位置的速度及加减速时间；</p><p><img src="https://img.zzzg.top/20250524223004046.png" alt="image-20250524213500200"></p><p>38、binary positions页面，设置定位窗口，及各个位置对应的脉冲值；</p><p><img src="https://img.zzzg.top/20250524223010702.png" alt="image-20250524213509244"></p><p>39、cam switch页面，可以根据需要设置电子凸轮输出；</p><p><img src="https://img.zzzg.top/20250524223017843.png" alt="image-20250524213517976"></p><p>40、监控设置页面，建议使用其默认参数；</p><p><img src="https://img.zzzg.top/20250524223023736.png" alt="image-20250524213526703"></p><p>41、点击“download”，将AMA模块设置下载到控制器；</p><p><img src="https://img.zzzg.top/20250524223030369.png" alt="image-20250524213535882"></p><p>42、下载完成后，软件自动跳至总线控制监视器；</p><p><img src="https://img.zzzg.top/20250524223036608.png" alt="image-20250524213543946"></p><p>43、更改二进制输入设置，若不使用二进制输入控制X13&#x2F;DI Φ 1“ENABLE&#x2F;STOP”，必须将“parameter tree”中P600设为“NO FUNCTION”，若不使用原点传感器，将P602“Reference Cam”设为“NO FUNCTION”，若不使用硬件限位开关，将P603和P604设为“NO FUNCTION”;</p><p><img src="https://img.zzzg.top/20250524223043954.png" alt="image-20250524213553082"></p><p>44、点击“control”，确定弹出对话框；</p><p><img src="https://img.zzzg.top/20250524223050371.png" alt="image-20250524213601980"></p><p>45、连接控制器X13&#x2F;DIΦΦ“控制器禁止”端子的二进制输入（若使用控制器X13&#x2F;DIΦ1“ENABLE&#x2F;STOP”端子，同时需连接其二进制输入），选择控制信号进行模拟总线控制，运转转台；</p><p><img src="https://img.zzzg.top/20250524223056920.png" alt="image-20250524213610505"></p><p>46、模拟总线控制正常后，退出此模式。选择“Export”，将配置的参数导出到文件，之后可将其导入到相似的控制系统中；</p><p><img src="https://img.zzzg.top/20250524223104812.png" alt="image-20250524213624044"></p><p>47、可选择“project &gt; save(as)”，保存项目；</p><p><img src="https://img.zzzg.top/20250524223110515.png" alt="image-20250524213632422"></p><p>48、可选择“project &gt; export”，导出项目到压缩文件；</p><p><img src="https://img.zzzg.top/20250524223117373.png" alt="image-20250524213640973"></p><p>49、若后期设备应用有更改，需初始化控制器，可在“parameter tree”P802中选择“delivery state”，将控制器还原为出厂状态。</p><p><img src="https://img.zzzg.top/20250524223125031.png" alt="image-20250524213649646"></p><h1 id="modulo-positioning-0801"><a href="#modulo-positioning-0801" class="headerlink" title="modulo positioning-0801"></a>modulo positioning-0801</h1><p>32、去除控制器X13&#x2F;DIΦΦ“控制器禁止”端子的二进制输入，开始创建modulo positioning定位模块；</p><p><img src="https://img.zzzg.top/20250524223131691.png" alt="image-20250524213728571"></p><p>33、上位机若为总线控制，选择“bus”；若为I&#x2F;O端子控制，选择“terminals”;</p><p><img src="https://img.zzzg.top/20250524223138021.png" alt="image-20250524213737345"></p><p>34、选择角度单位（脉冲&#x2F;度&#x2F;0.1度三种可选）；输入整数形式的齿轮箱和外部减速比，然后点击“caculation”；选择位置信息来源（电机编码器&#x2F;外部增量式编码器&#x2F;外部绝对式编码器三种可选，一般为电机编码器）；选择寻零方式（5和8均为设置当前点为电气零点）；</p><p><img src="https://img.zzzg.top/20250524223145296.png" alt="image-20250524213746623"></p><p>35、设置自动模式最高速度，点动模式最高速度和速度控制（所有模式）最高速度；</p><p><img src="https://img.zzzg.top/20250524223152806.png" alt="image-20250524213756528"></p><p>36、将模块下载到变频器中；</p><p><img src="https://img.zzzg.top/20250524223158888.png" alt="image-20250524213805596"></p><p>37、模块下载到变频器后，点击“是”进入模块的监视模式；</p><p><img src="https://img.zzzg.top/20250524223204888.png" alt="image-20250524213815689"></p><p>38、模块的监视画面如下。上位机发命令时，命令信息在此画面都可以监视到；</p><p><img src="https://img.zzzg.top/20250524223210999.png" alt="image-20250524213824716"></p><p>39、点击“control”，进入模块的控制模式。注意：进入控制模式后，上位机的命令就会失效；</p><p><img src="https://img.zzzg.top/20250524223218155.png" alt="image-20250524213833544"></p><p>40、更改二进制输入设置，若不使用二进制输入控制X13&#x2F;DI Φ 1“ENABLE&#x2F;STOP”，必须将“parameter tree”中P600设为“NO FUNCTION”，若不使用原点传感器，将P602“Reference Cam”设为“NO FUNCTION”，若不使用硬件限位开关，将P603和P604设为“NO FUNCTION”;</p><p><img src="https://img.zzzg.top/20250524223224784.png" alt="image-20250524213842052"></p><p>41、模块的控制画面如下。激活控制器X13&#x2F;DIΦΦ“控制器禁止”端子的二进制输入，即可通过此画面编辑命令，发送命令给设备；同时设备的状态也可反馈出来；</p><p><img src="https://img.zzzg.top/20250524223231542.png" alt="image-20250524213850363"></p><p>42、模拟控制设备完成后，需要退出控制模式，否则上位机的命令无效。退出时需要首先去除控制器X13&#x2F;DIΦΦ“控制器禁止”端子的二进制输入；</p><p><img src="https://img.zzzg.top/20250524223238289.png" alt="image-20250524213859973"></p><p>43、注意，退出到监视模式，激活控制器X13&#x2F;DIΦΦ“控制器禁止”端子的二进制输入后，上位机的命令就会生效；</p><p><img src="https://img.zzzg.top/20250524223244280.png" alt="image-20250524213907974"></p><p>44、注意，退出到监视模式，激活控制器X13&#x2F;DIΦΦ“控制器禁止”端子的二进制输入后，上位机的命令就会生效。此时可编写上位机程序，通过程序来控制设备运行；</p><p><img src="https://img.zzzg.top/20250524223252008.png" alt="image-20250524213917553"></p><p>45、选择“Export”，将配置的参数导出到文件，之后可将其导入到相似的控制系统中；</p><p><img src="https://img.zzzg.top/20250524223259199.png" alt="image-20250524213925898"></p><p>46、可选择“project &gt; save(as)”，保存项目；</p><p><img src="https://img.zzzg.top/20250524223305688.png" alt="image-20250524213933807"></p><p>47、可选择“project &gt; export”，导出项目到压缩文件；</p><p><img src="https://img.zzzg.top/20250524223312296.png" alt="image-20250524213941933"></p><p>48、若后期设备应用有更改，需初始化控制器，可在“parameter tree”P802中选择“delivery state”，将控制器还原为出厂状态。</p><p><img src="https://img.zzzg.top/20250524223317731.png" alt="image-20250524213949868"></p>]]></content>
    
    
    <summary type="html">SEW MOVIDRIVE MDX61B系列变频器从参数初始化到运动控制的逐步调试指南，包含基础接线、MOVITOOLS软件配置及常见报警解决方案。</summary>
    
    
    
    <category term="工业自动化" scheme="https://yuqi.im/categories/%E5%B7%A5%E4%B8%9A%E8%87%AA%E5%8A%A8%E5%8C%96/"/>
    
    
    <category term="MOVIDRIVE" scheme="https://yuqi.im/tags/MOVIDRIVE/"/>
    
  </entry>
  
  <entry>
    <title>SEW-MC07B变频器-MOTION--STUDIO软件调试步骤、方法和技巧</title>
    <link href="https://yuqi.im/posts/421934fd/"/>
    <id>https://yuqi.im/posts/421934fd/</id>
    <published>2025-05-23T16:00:00.000Z</published>
    <updated>2025-05-23T16:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://img.zzzg.top/20250524205528464.PNG" alt="4"></p><p><img src="https://img.zzzg.top/20250524205547050.PNG" alt="5"></p><p><img src="https://img.zzzg.top/20250524205627985.PNG" alt="6"></p><p><img src="https://img.zzzg.top/20250524205645010.PNG" alt="7"></p><p><img src="https://img.zzzg.top/20250524205656950.PNG" alt="8"></p><p><img src="https://img.zzzg.top/20250524205709394.PNG" alt="9"></p><p><img src="https://img.zzzg.top/20250524205720726.PNG" alt="10"></p><p><img src="https://img.zzzg.top/20250524205733378.PNG" alt="11"></p><p><img src="https://img.zzzg.top/20250524205754775.PNG" alt="12"></p><p><img src="https://img.zzzg.top/20250524205811663.PNG" alt="13"></p><p><img src="https://img.zzzg.top/20250524205821221.PNG" alt="14"></p><p><img src="https://img.zzzg.top/20250524205834316.PNG" alt="15"></p><p><img src="https://img.zzzg.top/20250524205843533.PNG" alt="16"></p><p><img src="https://img.zzzg.top/20250524205901797.PNG" alt="17"></p><p><img src="https://img.zzzg.top/20250524205914973.PNG" alt="18"></p><p><img src="https://img.zzzg.top/20250524205928160.PNG" alt="19"></p><p><img src="https://img.zzzg.top/20250524205940302.PNG" alt="20"></p><p><img src="https://img.zzzg.top/20250524205950644.PNG" alt="21"></p><p><img src="https://img.zzzg.top/20250524210006913.PNG" alt="22"></p><p><img src="https://img.zzzg.top/20250524210029075.PNG" alt="23"></p><p><img src="https://img.zzzg.top/20250524210042996.PNG" alt="24"></p><p><img src="https://img.zzzg.top/20250524210105981.PNG" alt="25"></p><p><img src="https://img.zzzg.top/20250524210122505.PNG" alt="26"></p><p><img src="https://img.zzzg.top/20250524210136340.PNG" alt="27"></p><p><img src="https://img.zzzg.top/20250524210145600.PNG" alt="28"></p><p><img src="https://img.zzzg.top/20250524210156379.PNG" alt="29"></p><p><img src="https://img.zzzg.top/20250524210210502.PNG" alt="30"></p><p><img src="https://img.zzzg.top/20250524210234883.PNG" alt="31"></p><p><img src="https://img.zzzg.top/20250524210248367.PNG" alt="32"></p><p><img src="https://img.zzzg.top/20250524210258079.PNG" alt="33"></p><p><img src="https://img.zzzg.top/20250524210309675.PNG" alt="34"></p><p><img src="https://img.zzzg.top/20250524210319649.PNG" alt="35"></p><p><img src="https://img.zzzg.top/20250524210333008.PNG" alt="36"></p><p><img src="https://img.zzzg.top/20250524210342988.PNG" alt="37"></p><p><img src="https://img.zzzg.top/20250524210354944.PNG" alt="38"></p><p><img src="https://img.zzzg.top/20250524210407861.PNG" alt="39"></p><p><img src="https://img.zzzg.top/20250524210423100.PNG" alt="40"></p><p><img src="https://img.zzzg.top/20250524210434359.PNG" alt="41"></p><p><img src="https://img.zzzg.top/20250524210450567.PNG" alt="42"></p><p><img src="https://img.zzzg.top/20250524210503106.PNG" alt="43"></p><p><img src="https://img.zzzg.top/20250524210515428.PNG" alt="44"></p><p><img src="https://img.zzzg.top/20250524210527098.PNG" alt="45"></p><p><img src="https://img.zzzg.top/20250524210537936.PNG" alt="46"></p><p><img src="https://img.zzzg.top/20250524210549531.PNG" alt="47"></p><p><img src="https://img.zzzg.top/20250524210601981.PNG" alt="48"></p><p><img src="https://img.zzzg.top/20250524210614094.PNG" alt="49"></p><p><img src="https://img.zzzg.top/20250524210627091.PNG" alt="50"></p><p><img src="https://img.zzzg.top/20250524210637201.PNG" alt="51"></p><p><img src="https://img.zzzg.top/20250524210647926.PNG" alt="52"></p>]]></content>
    
    
    <summary type="html">SEW-MC07B变频器通过MOTION STUDIO软件的完整调试流程，包含参数配置、运动曲线设置、在线监控及故障诊断技巧。</summary>
    
    
    
    <category term="工业自动化" scheme="https://yuqi.im/categories/%E5%B7%A5%E4%B8%9A%E8%87%AA%E5%8A%A8%E5%8C%96/"/>
    
    
    <category term="MOVIDRIVE" scheme="https://yuqi.im/tags/MOVIDRIVE/"/>
    
  </entry>
  
  <entry>
    <title>SINAMICS G120D CU250-2PN速度控制调试步骤</title>
    <link href="https://yuqi.im/posts/908d3d13/"/>
    <id>https://yuqi.im/posts/908d3d13/</id>
    <published>2025-05-22T16:00:00.000Z</published>
    <updated>2025-05-22T16:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>1、打开SINAMICS STARTER软件，创建项目；<br>选择菜单Project -&gt; New…<br>或使用快捷按钮创建新项目。<br><img src="https://img.zzzg.top/20250523225816269.png" alt="image-20250523222741743"><br><img src="https://img.zzzg.top/20250523225840938.png" alt="image-20250523222747691"></p><p>2、用USB电缆连接电脑和CU240D控制器，设置<strong>PG&#x2F;PC</strong>接口。<br><img src="https://img.zzzg.top/20250523225903522.png" alt="image-20250523222804999"></p><p>3、使用网线连接PLC，通过PROFINET总线方式连接CU240D控制器，设置<strong>PG&#x2F;PC</strong>接口方式同USB连接。<br><img src="https://img.zzzg.top/20250523225926726.png" alt="image-20250523222819925"></p><p>4、使用如下方式搜索并连接变频器控制器。<br>(1).选择菜单”Project -&gt; Accessible node”  或使用快捷按钮    搜索变频器，如果没有搜索到变频器会显示“No further active partner can be found”(没有找到节点)请执行第(2)步，如果搜 索到变频器跳到第(6)步。<br><img src="https://img.zzzg.top/20250523225955108.png" alt="image-20250523222859036"></p><p>(2).点击”Access Point”按钮。<br><img src="https://img.zzzg.top/20250523230015877.png" alt="image-20250523222908513"></p><p>(3). 在Set Access Point for Accessible nodes页面选择正确的连接方式。<br><img src="https://img.zzzg.top/20250523230027484.png" alt="image-20250523222917891"><br><img src="https://img.zzzg.top/20250523230034591.png" alt="image-20250523222921962"></p><p>(4).点击”Update”按钮，开始搜索变频器。<br>(5).搜索到变频器在右侧Accessible nodes区域显示如下信息C显示内容与控制 单元型号有关)。 如果没有搜索到变频器请根据提示查找具体原因，或查看帮助文件。<br><img src="https://img.zzzg.top/20250523230042623.png" alt="image-20250523223006082"></p><p>(6).勾选搜索到的控制单元。<br>(7).点击“Accept”按钮。<br>(8).STARTER会自动把该变频器插入到项目中。<br>(9).点击按钮，进入 STARTER 在线模式。<br><img src="https://img.zzzg.top/20250523230127394.png"><br><img src="https://img.zzzg.top/20250523230049689.png" alt="image-20250523223107422"></p><p>(10). 点击”Connect to assigned devices”按钮，连接到驱动器。<br><img src="https://img.zzzg.top/20250523230101397.png" alt="image-20250523223117348"></p><p>(11). STARTER进入在线模式，右下角状态栏指示黄色”Online mode”状态。<br>(12).点击控制单元树形菜单下”Expert list”功能，右侧窗口打开专家列表，熟悉 SINAMICS G120D参数的人员，可以直接使用专家列表查看并修改变频器参数。<br><img src="https://img.zzzg.top/20250523230108744.png" alt="image-20250523223131065"></p><p>5、其他基本操作。<br><img src="https://img.zzzg.top/20250523230117107.png" alt="image-20250523223200504"></p><p>5.1、恢复工厂设置。<br>(1).点击     按钮，进入 STARTER 在线模式。<br><img src="https://img.zzzg.top/20250523230127394.png"></p><p>(2).点击”Restore factory settings”    按钮，变频器参数恢复出厂设置。<br><img src="https://img.zzzg.top/20250523230202306.png" alt="image-20250523223233618"></p><p>5.2、上传参数:变频器 -&gt; PG&#x2F;PC。<br>(1).点击     按钮，进入 STARTER 在线模式。<br><img src="https://img.zzzg.top/20250523230127394.png"></p><p>(2).点击“Load project to PG”     按钮。<br><img src="https://img.zzzg.top/20250523230207642.png" alt="image-20250523223343414"></p><p>(3).点击     按钮，将数据保存在 PG&#x2F;PC 中。<br><img src="https://img.zzzg.top/20250523230214796.png" alt="image-20250523223349703"></p><p>5.3、下载参数: PG&#x2F;PC -&gt; 变频器。<br>(1).点击     按钮，进入 STARTER 在线模式。<br><img src="https://img.zzzg.top/20250523230127394.png"></p><p>(2).点击“Download project to target system”     按钮，将项目下载到变频中。<br><img src="https://img.zzzg.top/20250523230220440.png" alt="image-20250523223407782"></p><p>(3).点击“Copy RAM to ROM”     按钮，将数据保存到变频器中。<br><img src="https://img.zzzg.top/20250523230228156.png" alt="image-20250523223416658"></p><p> <strong>注意：许多参数是可以在线修改的，在线修改完参数后需要重新上载到离线参数中，否则点击下载的话会将离线参数下载到变频器中。</strong></p><p>6、参数设置。<br>6.1、使用配置向导配置变频器系统基本参数。<br>(1).点击“Configuration” 。<br>(2).点击工作区内的“Wizard …”，弹出向导对话框，点击“Next”逐步进行配置。<br><img src="https://img.zzzg.top/20250523230237648.png" alt="image-20250523223430045"></p><p>(3).设置控制结构。<br><img src="https://img.zzzg.top/20250523230248176.png" alt="image-20250523223440470"></p><p>(4).定义命令源和设定值来源。<br><img src="https://img.zzzg.top/20250523230256863.png" alt="image-20250523223450414"></p><p>(5).驱动器设置。<br><img src="https://img.zzzg.top/20250523230303276.png" alt="image-20250523223458640"></p><p>(6).选择电机类型。<br><img src="https://img.zzzg.top/20250523230309577.png" alt="image-20250523223506895"></p><p>(7).输入与铭牌对应的电机数据。<br><img src="https://img.zzzg.top/20250523230315284.png" alt="image-20250523223516044"></p><p>(8).为电机数据识别选择“Identify motor data at standstill” 。<br><img src="https://img.zzzg.top/20250523230321833.png" alt="image-20250523223525334"></p><p>(9).输入最大电流，最小和最大转速，加、减速时间和 OFF3 紧急关闭减速时间。<br><img src="https://img.zzzg.top/20250523230331437.png" alt="image-20250523223534198"></p><p>(10).点击“Next”，将开始计算电机数据。这样便通过配置向导完成了参数设置。您现在将收到一份有关输入的所有参数值汇总。按“Copy text to clipboard”按键即可将汇总添加到文本文件。最后选择“Copy RAM to ROM”，将参数设置保存到变频器 ROM 存储器内，然后点击“Finish”关闭窗口。<br><img src="https://img.zzzg.top/20250523230338683.png" alt="image-20250523223542937"></p><p>6.2、若使用总线接口，应将默认外部I&#x2F;O配置清除（X07\X08\X09）。<br>(1).点击“Inputs&#x2F;Outputs”。<br>(2).点击工作区内X07\X08\X09对应引脚参数的按钮，弹出向导I&#x2F;O分配对话框。<br>(3).将该引脚对应参数前面的勾选去掉，并点击“OK”按钮，该引脚分配显示“—”。<br><img src="https://img.zzzg.top/20250523230345952.png" alt="image-20250523223552253"></p><p>6.3、其它基本参数设置。<br>(1).设置“Ramp-function generator”。<br><img src="https://img.zzzg.top/20250523230353888.png" alt="image-20250523223604732"></p><p>(2).设置“Motor potentiometer”。<br><img src="https://img.zzzg.top/20250523230400015.png" alt="image-20250523223613817"></p><p>(3).设置“P gain factor”和“Integration time”。<br><img src="https://img.zzzg.top/20250523230406143.png" alt="image-20250523223624398"></p><p>(4).设置“Upper torque limit”。<br><img src="https://img.zzzg.top/20250523230413146.png" alt="image-20250523223632096"></p><p>(5).设置“Current limitation ”。<br><img src="https://img.zzzg.top/20250523230419657.png" alt="image-20250523223641924"></p><p>(6).设置“Power limit ”。<br><img src="https://img.zzzg.top/20250523230425656.png" alt="image-20250523223649828"> </p><p>(7).设置“Low torque limit”。<br><img src="https://img.zzzg.top/20250523230431431.png" alt="image-20250523223702783"></p><p>6.4、电机抱闸设置。在步骤2处设置电机抱闸方式，调试时可通过步骤3-5来强制打开关闭抱闸功能。<br><img src="https://img.zzzg.top/20250523230438399.png" alt="image-20250523223710923"></p><p>设置G120D变频器的安全响应时间。P9659设置成最大值9000<br><img src="https://img.zzzg.top/20250523230445945.png" alt="image-20250523223720556"></p><p>6.5、配置安全功能。配置完成后将配置下载到变频器中即可，安全功能需断电重启。<br><img src="https://img.zzzg.top/20250523230452866.png" alt="image-20250523223729738"></p><p>PLC硬件组态中G120D变频器的安全地址值。<br><img src="https://img.zzzg.top/20250523230501004.png" alt="image-20250523223738733"></p><p>6.6、配置报文，即分配G120D变频器与PLC在PROFINET总线通信下的接口信号(包括PROFIsafe安全功能）。<br>(1).点击“Communication -&gt; Field bus”。<br>(2).配置报文类型。G120D变频器的报文有多种类型，对应着不同的接口信息，根据需要通过下拉菜单可选择不同种类的报文。除999自由报文外，其他种类报文为默认报文，其对应的接口信息无法修改，自由报文可以任意定义接口信息。沃尔沃项目采用的是999自由报文以及30 PROFIsafe标准安全报文。配置G120D变频器报文时，应保持与PLC硬件组态中配置报文类型一致。<br><img src="https://img.zzzg.top/20250523230508841.png" alt="image-20250523223747844"><br><img src="https://img.zzzg.top/20250523230515043.png" alt="image-20250523223752899"></p><p>(3).配置变频器安全报文控制字。<br><img src="https://img.zzzg.top/20250523230521428.png" alt="image-20250523223801670"></p><p>(4).配置变频器自由报文控制字。<br><img src="https://img.zzzg.top/20250523230528073.png" alt="image-20250523223811435"></p><p>(5).配置变频器安全报文状态字。<br><img src="https://img.zzzg.top/20250523230534628.png" alt="image-20250523223819506"></p><p>(6).配置变频器自由报文状态字。<br><img src="https://img.zzzg.top/20250523230543575.png" alt="image-20250523223827945"></p><p>(7).配置变频器自由报文控制字&#x2F;状态字监控。<br><img src="https://img.zzzg.top/20250523230550183.png" alt="image-20250523223837007"></p><p>7、电机试运行。<br>(1).在线模式下点击“Commissioning -&gt; Control panel”。<br>(2).点击工作台区域的“Assume control priority”。<br>(3).输入设置值，并点击“Accept”按钮。<br><img src="https://img.zzzg.top/20250523230559371.png" alt="image-20250523223845302"></p><p>(4).选中工作台区域中“Enables”旁的复选框。<br>(5).设置试运行速度。<br>(6).通过绿色&#x2F;红色按钮来启停电机，或使用JOG点动控制电机运行。<br><img src="https://img.zzzg.top/20250523230606413.png" alt="image-20250523223855097"></p><p>8、状态 LED 一览。<br>控制单元上有一排双色 LED 来指明变频器的运行状态。 具体而言，这些状态有：<br>● 一般故障状态<br>● 通讯状态<br>● 输入和输出的状态<br>● Safety Integrated 安全功能的状态<br>下图展示了各个 LED 在控制单元上的位置。<br><img src="https://img.zzzg.top/20250523230617834.png" alt="image-20250523223904225"></p><p>(1).一般状态 LED 的说明。<br><img src="https://img.zzzg.top/20250523230636359.png" alt="image-20250523223915427"></p><p>(2). PROFIBUS 通讯 LED 的说明。<br><img src="https://img.zzzg.top/20250523230641679.png" alt="image-20250523223923215"></p><p>(3). SAFE LED 的说明。<br><img src="https://img.zzzg.top/20250523230649731.png" alt="image-20250523223934820"></p><p>(4). PROFINET 通讯 LED 的说明。<br><img src="https://img.zzzg.top/20250523230655139.png" alt="image-20250523223943566"></p><p>(5).数字量输入输出状态 LED 的说明。<br><img src="https://img.zzzg.top/20250523230700922.png" alt="image-20250523223951803"></p><p>9、故障和警告列表。<br>详见附件列表。</p><p><strong>G120D Fault and Warning List.pdf</strong>：<a class="btn-beautify pink larger" href="https://pan.yuqi.fun/d/%E5%A4%A9%E7%BF%BC%E4%BA%91%E7%9B%98/%E8%B5%84%E6%96%99/%E6%96%87%E6%A1%A3/G120D%20Fault%20and%20Warning%20List.pdf" title="点击下载"><i class="far fa-hand-point-right"></i><span>点击下载</span></a></p>]]></content>
    
    
    <summary type="html">详细解析西门子SINAMICS G120D CU250D-2PN变频器的速度控制模式调试步骤，包含基础参数设置、BOP面板操作、STARTER软件配置及优化技巧。</summary>
    
    
    
    <category term="工业自动化" scheme="https://yuqi.im/categories/%E5%B7%A5%E4%B8%9A%E8%87%AA%E5%8A%A8%E5%8C%96/"/>
    
    
    <category term="SINAMICS" scheme="https://yuqi.im/tags/SINAMICS/"/>
    
  </entry>
  
  <entry>
    <title>MOVIFIT参数配置</title>
    <link href="https://yuqi.im/posts/7f12cab4/"/>
    <id>https://yuqi.im/posts/7f12cab4/</id>
    <published>2025-05-21T16:00:00.000Z</published>
    <updated>2025-05-21T16:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>1、 链接变频器，待变频器配置扫描到motion studio。如下图：<br><img src="https://img.zzzg.top/20250522194120280.jpg" alt="img"></p><p>2、右键点击： 变频器IP+Default 在弹出对话框中选择 Parameter Tree弹出上图对话框。</p><p>3、在参数树种点击Parameter AND functions 。选择FieldBus 中 Other Parameter。<br><img src="https://img.zzzg.top/20250522194126670.jpg" alt="img"><br>在F-target Address 中设置变频器安全参数（由PLC硬件组态中设置决定)</p><p>4、注意：只有变频器安全使能上电后我们才能扫描到变频器的功率单元。</p><p>5、右键点击DefaultLT 弹出如下画面：开始START UP<br><img src="https://img.zzzg.top/20250522194132967.jpg" alt="img"></p><p>6、点击右下角NEXT开始设置参数：下图为变频默认设置参数，直接点击NEXT<br><img src="https://img.zzzg.top/20250522194140114.jpg" alt="img"></p><p>7、选择变频器负载拖动型式。<br>FIXED 固定一台变频器<br>Switch able为可切换的电机<br>然后点击NEXT<br><img src="https://img.zzzg.top/20250522194148634.jpg" alt="img"></p><p>8.选择电机拖动负载数量 。选择ONE Motor 然后电机NEXT<br><img src="https://img.zzzg.top/20250522194154252.jpg" alt="img"></p><p>9、选择电机控制方式 标准V&#x2F;F控制 然后电机NEXT<br><img src="https://img.zzzg.top/clip_image014.jpg" alt="img"></p><p>10、选择运用模式：选择速度模式 然后选择NEXT<br><img src="https://img.zzzg.top/20250522194209980.jpg" alt="img"></p><p>11、选择电机型号。水平滚床电机为DRE100L4 然后电机NEXT<br><img src="https://img.zzzg.top/20250522194215214.jpg" alt="img"></p><p>12、选择电机信号，接线方式、温度保护、强冷风扇（一般没有）。点击NEXT<br><img src="https://img.zzzg.top/20250522194223443.jpg" alt="img"></p><p>13、选择抱闸类型 BE5A 400V 然后电机NEXT<br><img src="https://img.zzzg.top/20250522194228521.jpg" alt="img"></p><p>14、设置变频器电流、速度限制值。选择 accect SEW suggestion SEW建议值（<strong>不推荐使用建议值</strong>）。然后电机NEXT<br><img src="https://img.zzzg.top/20250522194245643.jpg" alt="img"></p><p>下一页需要设置转速为铭牌额定转速，最小转速60改为0，其他的不动</p><p>15、以上参数设置完成后电机FINISH将参数下载到变频器中。变频器参数设置完成<br><img src="https://img.zzzg.top/20250522194233764.jpg" alt="img"></p>]]></content>
    
    
    <summary type="html">详细解析MOVIFIT变频器参数配置方法，包含基础参数设置、高级功能调试及典型应用场景配置示例，适用于FC/SC系列变频器的工程应用。</summary>
    
    
    
    <category term="工业自动化" scheme="https://yuqi.im/categories/%E5%B7%A5%E4%B8%9A%E8%87%AA%E5%8A%A8%E5%8C%96/"/>
    
    
    <category term="MOVIDRIVE" scheme="https://yuqi.im/tags/MOVIDRIVE/"/>
    
  </entry>
  
  <entry>
    <title>移载机SEW MOVIDRIVE 变频器配置手册（双编码器）</title>
    <link href="https://yuqi.im/posts/4f7419e2/"/>
    <id>https://yuqi.im/posts/4f7419e2/</id>
    <published>2025-05-21T16:00:00.000Z</published>
    <updated>2025-05-21T16:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="一、SEW变频器Startup"><a href="#一、SEW变频器Startup" class="headerlink" title="一、SEW变频器Startup"></a>一、SEW变频器Startup</h1><p>安装好MOVITOOL软件</p><p><img src="https://img.zzzg.top/20250522211420768.png" alt="image-20250522204456926"></p><p>打开创建好的项目开始配置通信连接</p><p><img src="https://img.zzzg.top/20250522211428346.png" alt="image-20250522204525245"></p><p>下面以以太网连接为例</p><p><img src="https://img.zzzg.top/20250522211435174.png" alt="image-20250522204553577"></p><p><img src="https://img.zzzg.top/20250522211440753.png" alt="image-20250522204622864"></p><p>当设置完成后，请一路OK回到软件管理画面</p><p><img src="https://img.zzzg.top/20250522211452463.png" alt="image-20250522204646120"></p><p>通信配置正确的软件界面状态</p><p><img src="https://img.zzzg.top/20250522211500726.png" alt="image-20250522204707808"></p><p>单击红色刷新图标</p><p><img src="https://img.zzzg.top/20250522211506743.png" alt="image-20250522204732227"></p><p>一切准备就绪后，单击已连接的变频器。会在软件管理中罗列出当前各项功能菜单。</p><p><img src="https://img.zzzg.top/20250522211526791.png" alt="image-20250522204750498"></p><p>下面我们开始参数配置：</p><p>参数设置一</p><p>单击参数列表</p><p><img src="https://img.zzzg.top/20250522211536263.png" alt="image-20250522204832268"></p><p><img src="https://img.zzzg.top/20250522211545286.png" alt="image-20250522204848233"></p><p>变频器参数重置完成后，回到SEW管理器画面选择</p><p><img src="https://img.zzzg.top/20250522211551830.png" alt="image-20250522204903815"></p><p>开始电机参数配置。</p><p>第一步配置电机基本参数参数</p><p>第二步配置变频器参数</p><p>第三步配置IPOS参数</p><p>出现下图配置画面：</p><p><img src="https://img.zzzg.top/20250522211556970.png" alt="image-20250522204922056"></p><p><img src="https://img.zzzg.top/20250522211605460.png" alt="image-20250522204935064"></p><p><img src="https://img.zzzg.top/20250522211612151.png" alt="image-20250522204948929"></p><p>选择矢量\伺服控制</p><p><img src="https://img.zzzg.top/20250522211636487.png" alt="image-20250522205011792"></p><p>选择下一步。</p><p><img src="https://img.zzzg.top/20250522211621582.png" alt="image-20250522205025251"></p><p>选择电机类型。</p><p><img src="https://img.zzzg.top/20250522211648706.png" alt="image-20250522205042278"></p><p>选择电机对应的型号和输入电源的额定电压和频率值</p><p><img src="https://img.zzzg.top/20250522211659160.png" alt="image-20250522205058945"></p><p>选择使用的编码器</p><p><img src="https://img.zzzg.top/20250522211705047.png" alt="image-20250522205115647"></p><p>选择变频器IPOS工作模式。</p><p><img src="https://img.zzzg.top/20250522211711639.png" alt="image-20250522205143590"></p><p>选择压频控制（VFC）模式</p><p><img src="https://img.zzzg.top/20250522211718088.png" alt="image-20250522205154059"></p><p>惯性选择</p><p>弹出下图</p><p><img src="https://img.zzzg.top/20250522211739760.png" alt="image-20250522205329862"></p><p>选择是否启用电机抱闸。</p><p><img src="https://img.zzzg.top/20250522211747415.png" alt="image-20250522205348345"></p><p>参数设置part1</p><p><img src="https://img.zzzg.top/20250522211819997.png" alt="image-20250522205423812"></p><p>参数设置part2</p><p><img src="https://img.zzzg.top/20250522211831478.png" alt="image-20250522205442378"></p><p>参数设置part3</p><p><img src="https://img.zzzg.top/20250522211836809.png" alt="image-20250522205459889"></p><p>点击“下载”，然后单击“设置变频器，“完成”</p><p><img src="https://img.zzzg.top/20250522211843403.png" alt="image-20250522205518921"></p><h1 id="二、SEW变频器总线扩展定位设置"><a href="#二、SEW变频器总线扩展定位设置" class="headerlink" title="二、SEW变频器总线扩展定位设置"></a>二、SEW变频器总线扩展定位设置</h1><p>点击2.SEW总线扩展定位，定位块设置。</p><p><img src="https://img.zzzg.top/20250522211849177.png" alt="image-20250522205619412"></p><p><img src="https://img.zzzg.top/20250522205630853.png" alt="image-20250522205630853"></p><p><img src="https://img.zzzg.top/20250522211912978.png" alt="image-20250522205642616"></p><p>选择位移编码器类型</p><p><img src="https://img.zzzg.top/20250522211919035.png" alt="image-20250522205658095"></p><p><img src="https://img.zzzg.top/20250522211934232.png" alt="image-20250522205706074"></p><p><img src="https://img.zzzg.top/20250522211923657.png" alt="image-20250522205711381"></p><p><img src="https://img.zzzg.top/20250522211941581.png" alt="image-20250522205717432"></p><p>移载机内置编码器和外置编码器匹配。</p><p><img src="https://img.zzzg.top/20250522211948129.png" alt="image-20250522205733747"></p><p>提示：做这一步时，如果出现电机不能转动，或产生报警不能通过编码器匹配。需要检查以下内容：</p><p>1电机不能转动：</p><p>a可能是由于变频器的安全24V未给</p><p>b电机抱闸未打开</p><p>c机械设备运动到极限位置或被锁定</p><p>2变频器报警：a速度故障编码器线缆有接触不良或错误如同下图</p><p><img src="https://img.zzzg.top/20250522211957143.png" alt="image-20250522205831537"></p><p>单击下一步</p><p><img src="https://img.zzzg.top/20250522212003541.png" alt="image-20250522205846506"></p><p>单击下一步</p><p><img src="https://img.zzzg.top/20250522212010638.png" alt="image-20250522205903857"></p><p>单击下一步</p><p><img src="https://img.zzzg.top/20250522212020133.png" alt="image-20250522205929872"></p><p>编码器匹配通过后点击下一步，进入下图画面传送参考位置。</p><p>提示：传送参考位置前请断开变频器安全24V电源，否则会弹出禁止修改提示框；修改成功后也会弹出提示框，根据提示继续配置。</p><p><img src="https://img.zzzg.top/20250522212026198.png" alt="image-20250522205951899"></p><p>单击“完成”。</p><p><img src="https://img.zzzg.top/20250522212032184.png" alt="image-20250522210003836"></p><h1 id="三、-IPOS配置"><a href="#三、-IPOS配置" class="headerlink" title="三、 IPOS配置"></a>三、 IPOS配置</h1><p><img src="https://img.zzzg.top/20250522212039234.png" alt="image-20250522210033621"></p><p>设置通信总线类型为Profinet，单击下一步</p><p><img src="https://img.zzzg.top/20250522212044956.png" alt="image-20250522210130165"></p><p>参数设置单击下一步</p><p><img src="https://img.zzzg.top/20250522212052156.png" alt="image-20250522210205472"></p><p>变频器软限位，及参考类型设置单击下一步</p><p><img src="https://img.zzzg.top/20250522212058553.png" alt="image-20250522210229213"></p><p><img src="https://img.zzzg.top/20250522212105838.png" alt="image-20250522210236898"></p><p>选择“否“不保存</p><p>下载配置的参数，提示：下载参数需要断开变频器的安全24V电源</p><p><img src="https://img.zzzg.top/20250522212111341.png" alt="image-20250522210301645"></p><p>点“yes”监控状态</p><p><img src="https://img.zzzg.top/20250522212118310.png" alt="image-20250522210316464"></p><p><img src="https://img.zzzg.top/20250522212125742.png" alt="image-20250522210352603"></p><p>参考设置No.1</p><p><img src="https://img.zzzg.top/20250522212132048.png" alt="image-20250522210417474"></p><p>参考设置No.2</p><p><img src="https://img.zzzg.top/20250522212143689.png" alt="image-20250522210438966"></p><p>参考设置No.3</p><p>选择PO1 第2,3,9,13 位，点击“SendPA”Start reference，编码器反馈值为0（PI2&#x2F;3 Actual position&#x3D;0）</p><p><img src="https://img.zzzg.top/20250522212151212.png" alt="image-20250522210537816"></p><p>设置完成这些参数，可以测试运行电机。</p><p><img src="https://img.zzzg.top/20250522212158850.png" alt="image-20250522210558705"></p>]]></content>
    
    
    <summary type="html">SEW MOVIDRIVE系列变频器双编码器系统完整配置手册，包含硬件接线、参数设置及调试方法，适用于高精度运动控制场景。</summary>
    
    
    
    <category term="工业自动化" scheme="https://yuqi.im/categories/%E5%B7%A5%E4%B8%9A%E8%87%AA%E5%8A%A8%E5%8C%96/"/>
    
    
    <category term="MOVIDRIVE" scheme="https://yuqi.im/tags/MOVIDRIVE/"/>
    
  </entry>
  
  <entry>
    <title>SEW MOVIPRO调试步骤</title>
    <link href="https://yuqi.im/posts/f5fecf87/"/>
    <id>https://yuqi.im/posts/f5fecf87/</id>
    <published>2025-05-19T16:00:00.000Z</published>
    <updated>2025-05-19T16:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="创建项目-添加设备并配置"><a href="#创建项目-添加设备并配置" class="headerlink" title="创建项目-添加设备并配置"></a>创建项目-添加设备并配置</h1><p>1、打开MOVITOOLS MotionStudio软件，创建项目；<br><img src="https://img.zzzg.top/20250520230954862.png" alt="image-20250520230940811"></p><p>2、用Ethernet线缆连接电脑和MoviPro控制器的service unit。点击“communication”，创建通讯方式；<br><img src="https://img.zzzg.top/20250520231006027.png" alt="image-20250520230948605"></p><p>3、设备初始IP地址为192.168.10.4，将电脑IP地址与其设在同一网段下，点击“OK”即可建立Ethernet连接；如果设备IP地址已被更改，点击“edit”；<br><img src="https://img.zzzg.top/20250520231113431.png" alt="image-20250520224324421"></p><p>4、添加新的IP地址；<br><img src="https://img.zzzg.top/20250520231011496.png" alt="image-20250520224341744"></p><p>5、网络连接建立完成；<br><img src="https://img.zzzg.top/20250520231122633.png" alt="image-20250520224354597"></p><p>6、扫描网络中的设备；<br><img src="https://img.zzzg.top/20250520231131139.png" alt="image-20250520224412310"></p><p>7、设备扫描完成；<br><img src="https://img.zzzg.top/20250520231137902.png" alt="image-20250520224428869"></p><p>8、点击设备属性；<br><img src="https://img.zzzg.top/20250520231146176.png" alt="image-20250520224518855"></p><p>9、设置设备名称；<br><img src="https://img.zzzg.top/20250520231200252.png" alt="image-20250520224532942"></p><p>8、进行设备硬件配置；<br><img src="https://img.zzzg.top/20250520231153579.png" alt="image-20250520224548176"></p><p>11、选择需要配置的设备；<br><img src="https://img.zzzg.top/20250520231210043.png" alt="image-20250520224559520"></p><p>12、点击“确定”；<br><img src="https://img.zzzg.top/20250520231221238.png" alt="image-20250520224613368"></p><p>13、硬件配置完成；<br><img src="https://img.zzzg.top/20250520231228687.png" alt="image-20250520224629428"></p><h1 id="配置电机参数"><a href="#配置电机参数" class="headerlink" title="配置电机参数"></a>配置电机参数</h1><p>14、进行power section初始化；<br><img src="https://img.zzzg.top/20250520231239923.png" alt="image-20250520224645469"></p><p>15、点击“perform startup”，开始初始化；<br><img src="https://img.zzzg.top/20250520231248547.png" alt="image-20250520224657723"></p><p>16、如果编码器中有电机的电子铭牌。选择接受编码器铭牌信息，点击“next”;<br><img src="https://img.zzzg.top/20250520231257891.png" alt="image-20250520224711463"></p><p>17、如果编码器中没有电机的电子铭牌。需要对照电机铭牌，将编码器的电子铭牌手动输入 ；<br><img src="https://img.zzzg.top/20250520231305618.png" alt="image-20250520224722270"></p><p>18、对照电机铭牌，确认编码器型号，之后点击“next”；<br><img src="https://img.zzzg.top/20250520231315922.png" alt="image-20250520224736776"></p><p>19、编码器配置完成，点击“next”，开始电机初始化；<br><img src="https://img.zzzg.top/20250520231327038.png" alt="image-20250520224747069"></p><p>20、点击“startup set-1”,进行parameter set-1设置；<br><img src="https://img.zzzg.top/20250520231334194.png" alt="image-20250520224801440"></p><p>21、选择“Execute complete start-up（执行完整的初始化）”；<br><img src="https://img.zzzg.top/20250520231349687.png" alt="image-20250520224813064"></p><p>22、选择“Stand-alone motor &gt; Vector-controlled&#x2F;Servo（独立电机 &gt; 矢量控制&#x2F;伺服电机）”；<br><img src="https://img.zzzg.top/20250520231358793.png" alt="image-20250520224822876"></p><p>23、参照电机铭牌，检查电机及编码器信息是否准确；<br><img src="https://img.zzzg.top/20250520231410958.png" alt="image-20250520224837420"></p><p>24、检查电机类型信息；<br><img src="https://img.zzzg.top/20250520231419435.png" alt="image-20250520224848845"></p><p>25、输入电源电压，定义参数P835“电机温度传感器的响应”，定义参数P530“电机温度传感器类型”（例如TF&#x2F;TH）；<br><img src="https://img.zzzg.top/20250520231428193.png" alt="image-20250520224926604"></p><p>26、选择“Yes, I use the encoder.（使用编码器）”；<br><img src="https://img.zzzg.top/20250520231436016.png" alt="image-20250520224938904"></p><p>27、操作模式选择“Positioning with IPOS（IPOS程序定位模式）”；<br><img src="https://img.zzzg.top/20250520231442842.png" alt="image-20250520225002622"></p><p>28、选择“CFC（电流矢量控制）模式”；<br><img src="https://img.zzzg.top/20250520231449119.png" alt="image-20250520225015957"></p><p>29、准确填写WEISS计算的load inertia（负载转动惯量），drive选择“With Backlash”；<br><img src="https://img.zzzg.top/20250520231503423.png" alt="image-20250520225026004"></p><p>30、相关参数使用WEISS所提供参数表中的建议参数，其它参数选择“Apply Proposal（使用推荐值）”；<br><img src="https://img.zzzg.top/20250520231511679.png" alt="image-20250520225036799"></p><p>31、转速控制器参数选择“Apply Proposal（使用推荐值）”；<br><img src="https://img.zzzg.top/20250520231536940.png" alt="image-20250520225058582"></p><p>32、 相关参数使用WEISS所提供参数表中的建议参数，剩余参数选择“Apply Proposal（使用推荐值）”；<br><img src="https://img.zzzg.top/20250520231544207.png" alt="image-20250520225108975"></p><p>33、点击“完成”，将初始化信息下载至控制器。如需配置parameter set-2，点击“download”，再进行参数包2的配置；<br><img src="https://img.zzzg.top/20250520231552525.png" alt="image-20250520225121142"></p><p>34、初始化完全完成后，会跳出提示框，点击“确定”；<br><img src="https://img.zzzg.top/20250520231600145.png" alt="image-20250520225138383"></p><h1 id="设置其他参数"><a href="#设置其他参数" class="headerlink" title="设置其他参数"></a>设置其他参数</h1><p>35、点击“parameter tree”，进行WEISS所提供参数表中其它相关参数的设置；<br><img src="https://img.zzzg.top/20250520231606894.png" alt="image-20250520225149596"></p><p>36、例如，P911定位斜坡1，P913&#x2F;P914运转转速CW&#x2F;CCW，P916斜坡形式需设为“Jerk-Limited”；<br><img src="https://img.zzzg.top/20250520231616480.png" alt="image-20250520225202404"></p><p>37、例如，P933突变时间；<br><img src="https://img.zzzg.top/20250520231626629.png" alt="image-20250520225213331"></p><h1 id="手动控制"><a href="#手动控制" class="headerlink" title="手动控制"></a>手动控制</h1><p>38、参数配置为在线实时进行，完成后，点击“manual mode”手动模式；<br><img src="https://img.zzzg.top/20250520231642297.png" alt="image-20250520225223204"></p><p>39、点击“Activate manual mode”，激活手动模式。此时插上jumper plug，设置速度，方向，即可进行转台正反停控制；<br><img src="https://img.zzzg.top/20250520231656405.png" alt="image-20250520225234230"></p><p>40、手动模式下，转台运行正常后，将转台旋转至机械零点位置，点击“Deactivate manual mode”，退出手动模式，拔下jumper plug;<br><img src="https://img.zzzg.top/20250520231705779.png" alt="image-20250520225246305"></p><h1 id="模块应用配置"><a href="#模块应用配置" class="headerlink" title="模块应用配置"></a>模块应用配置</h1><p>41、点击“Application Configurator”，进行模块应用配置；<br><img src="https://img.zzzg.top/20250520231712618.png" alt="image-20250520225301025"></p><p>42、点击“Create new configuration”,创建新的模块应用配置；<br><img src="https://img.zzzg.top/20250520231719182.png" alt="image-20250520225312698"></p><p>43、Application module 选择“transparent 6PD”;<br><img src="https://img.zzzg.top/20250520231726816.png" alt="image-20250520225325321"></p><p>44、点击“configuration”，完成后标志变绿色，点击“next”；<br><img src="https://img.zzzg.top/20250520231734076.png" alt="image-20250520225340848"></p><p>45、点击“Save complete configuration”，可保存应用配置文件；<br><img src="https://img.zzzg.top/20250520231740533.png" alt="image-20250520225402973"></p><p>46、点击“Document configuration”,可将应用配置保存为.pdf文件；<br><img src="https://img.zzzg.top/20250520231747555.png" alt="image-20250520225422513"></p><p>47、若应用配置软件版本不同，选择“with controller software”，将软件和应用配置下载至设备。过程持续可能20分钟，注意电脑和设备此时不能断电；<br><img src="https://img.zzzg.top/20250520231757343.png" alt="image-20250520225434600"></p><p>48、点击“确定”，重启设备;<br><img src="https://img.zzzg.top/20250520231804084.png" alt="image-20250520225445136"></p><p>49、应用配置完成；<br><img src="https://img.zzzg.top/20250520231811471.png" alt="image-20250520225459428"></p><h1 id="配置AMA0801"><a href="#配置AMA0801" class="headerlink" title="配置AMA0801"></a>配置AMA0801</h1><p>50、创建AMA0801模块；<br><img src="https://img.zzzg.top/20250520231822010.png" alt="image-20250520225524162"></p><p>51、点击“Load a configuration”，下载已保存的应用模块，或者点击“next”，开始初始化AMA0801模块；<br><img src="https://img.zzzg.top/20250520231828978.png" alt="image-20250520225540943"></p><p>52、总线参数和控制器配置页面，“Application mode”选择“Binary setpoint”;<br><img src="https://img.zzzg.top/20250520231837827.png" alt="image-20250520225551310"></p><p>53、刻度计算页面，“Diameter&#x2F;spindle pitch”的单位选择“inc”;<br><img src="https://img.zzzg.top/20250520231844945.png" alt="image-20250520225604832"></p><p>54、参数和极限页面，若使用硬件限位开关，需将CW和CCW限位开关接到设备X5102_2，同时在软件上选择“YES”，“parameter tree”中将P603和P604端子功能设置为相应的限位功能。如果没有原点传感器，寻找参考点模式选择5，即将当前点作为原点。同时可根据WEISS参数表设置各种模式下极限速度；<br><img src="https://img.zzzg.top/20250520231851607.png" alt="image-20250520225621665"></p><p>55、设置定位和点动模式高低速、加减速时间，以及 至设置设备行走各个位置的速度及加减速时间；<br><img src="https://img.zzzg.top/20250520231859909.png" alt="image-20250520225632316"></p><p>56、设置定位窗口和设备行走的位置；<br><img src="https://img.zzzg.top/20250520231908210.png" alt="image-20250520225645477"></p><p>57、设置cam switch；<br><img src="https://img.zzzg.top/20250520231915883.png" alt="image-20250520225706528"></p><p>58、监控设置页面，建议使用其默认参数；<br><img src="https://img.zzzg.top/20250520231922866.png" alt="image-20250520225717710"></p><p>59、点击“save configutation”，可保存AMA配置文件；<br><img src="https://img.zzzg.top/20250520231930036.png" alt="image-20250520225728063"></p><p>60、点击“create documentation”，可将AMA配置保存为.pdf文件；<br><img src="https://img.zzzg.top/20250520231936652.png" alt="image-20250520225738609"></p><p>61、点击“download”，将AMA应用模块配置下载至设备；<br><img src="https://img.zzzg.top/20250520231948547.png" alt="image-20250520225759312"></p><h1 id="总线控制"><a href="#总线控制" class="headerlink" title="总线控制"></a>总线控制</h1><p>62、下载完成后，软件自动跳至总线控制监视器；<br><img src="https://img.zzzg.top/20250520232005174.png" alt="image-20250520225808792"></p><p>63、点击“control”，确定弹出对话框；<br><img src="https://img.zzzg.top/20250520232013724.png" alt="image-20250520225818826"></p><p>64、插上jumper plug，控制模式选为“reference mode（寻参模式）”，点击“start”，即可将当前机械零点设为电气零点；<br><img src="https://img.zzzg.top/20250520232021615.png" alt="image-20250520225830987"></p><p>65、寻参结束后，PO2状态字中当前位置会变为0 inc;<br><img src="https://img.zzzg.top/20250520232029384.png" alt="image-20250520225841553"></p><p>66、选择“jog mode（点动模式）”，即可模拟总线进行点动控制；<br><img src="https://img.zzzg.top/20250520232037665.png" alt="image-20250520225851198"></p><p>67、选择“positioning mode（定位模式）”，选择位置，即可模拟总线进行定位控制；<br><img src="https://img.zzzg.top/20250520232045036.png" alt="image-20250520225859987"></p><p>68、模拟总线控制转台运转正常之后，取消控制字，拔下jumper plug，点击“monitor”，退出控制模式；<br><img src="https://img.zzzg.top/20250520232051720.png" alt="image-20250520225909761"></p><h1 id="数据管理"><a href="#数据管理" class="headerlink" title="数据管理"></a>数据管理</h1><p>69、点击“Datamanagement”；<br><img src="https://img.zzzg.top/20250520232100983.png" alt="image-20250520225920732"></p><p>70、点击“upload”，将设备中数据备份到SD卡；<br><img src="https://img.zzzg.top/20250520232108798.png" alt="image-20250520225930647"></p><p>71、点击“start upload”，开始备份数据；<br><img src="https://img.zzzg.top/20250520232116388.png" alt="image-20250520225958505"></p><p>72、备份完成；<br><img src="https://img.zzzg.top/20250520232124675.png" alt="image-20250520225942038"></p><p>73、点击“export”，将power section参数导出；<br><img src="https://img.zzzg.top/20250520232133052.png" alt="image-20250520230018000"></p><p>74、点击“export”，将control and communication unit参数导出；<br><img src="https://img.zzzg.top/20250520232141408.png" alt="image-20250520230027041"></p><p>75、点击“save”，保存项目；<br><img src="https://img.zzzg.top/20250520232149043.png" alt="image-20250520230037252"></p><p>76、点击“export”，可将此项目导出为.exe文件；<br><img src="https://img.zzzg.top/20250520232157540.png" alt="image-20250520230047342"></p><h1 id="初始化"><a href="#初始化" class="headerlink" title="初始化"></a>初始化</h1><p>77、若需初始化控制器，可在“parameter tree”P802中选择“delivery state”，将控制器还原为出厂状态。<br><img src="https://img.zzzg.top/20250520232205573.png" alt="image-20250520230056017"></p><h1 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h1><p>1、变频器安全参照MOVIFIT设置右键点击20 Default<br><img src="https://img.zzzg.top/20250522195109917.jpg" alt="img"></p><p>2、变频器硬件组态输入输出数据为 8 WORD.<br><img src="https://img.zzzg.top/20250522195116416.jpg" alt="img"></p><p>3、选择<br><img src="https://img.zzzg.top/20250522195121633.jpg" alt="img"><br>读取编码器中电机参数 ，电机NEXT<br><img src="https://img.zzzg.top/20250522195127315.jpg" alt="img"></p><p>4、开始设置变频器参数 电机START-UP SET1<br><img src="https://img.zzzg.top/20250522195131943.jpg" alt="img"></p><p>5、选择完成执行参数初始化<br><img src="https://img.zzzg.top/20250522195136752.jpg" alt="img"></p><p>6、选择私服控制<br><img src="https://img.zzzg.top/20250522195141348.jpg" alt="img"></p><p>7、选择电机型号。本项目中是读取编码器中电机数据故无需设置<br><img src="https://img.zzzg.top/20250522195149268.jpg" alt="img"></p><p>8、选择PositionWith IPOS<br><img src="https://img.zzzg.top/20250522195155150.jpg" alt="img"> </p><p>9、选择矢量控制<br><img src="https://img.zzzg.top/20250522195201283.jpg" alt="img"></p><p>10、设置电机转动惯量和抱闸应用<br><img src="https://img.zzzg.top/20250522195208507.jpg" alt="img"></p><p>11、电机参数选择SEW建议值， APPLY PROPOSAL电机NEXT<br><img src="https://img.zzzg.top/20250522195215400.jpg" alt="img"></p><p>12、参数设置完成，电机完成将参数下载到变频器、<br><img src="https://img.zzzg.top/20250522195221191.jpg" alt="img"></p><p>13、设置变频器IPOS应用、选择Extened Positioning Via Bus<br><img src="https://img.zzzg.top/20250522195226479.jpg" alt="img"></p><p>14、电机NEXT<br><img src="https://img.zzzg.top/20250522195231631.jpg" alt="img"></p><p>15、设置滚床机械参数。由于采用脉冲定位方式故直接电机NEXT<br><img src="https://img.zzzg.top/20250522195237098.jpg" alt="img"></p><p>16、设置变频器软限位和校零方式<br><img src="https://img.zzzg.top/20250522195242608.jpg" alt="img"></p><p>17、参数设置完成电机DOWN load下载参数<br><img src="https://img.zzzg.top/20250522195249177.jpg" alt="img"></p><p>18、选择YES可以查看变频器控制字和状态字<br><img src="https://img.zzzg.top/20250522195255788.jpg" alt="img"></p><p>19、MONITOR MODE和 CONTROL模式可以监控变频器状态或者控制变频器定位（由PC控制）<br><img src="https://img.zzzg.top/20250522195303798.jpg" alt="img"></p><p>20、巡参模式控制字<br><img src="https://img.zzzg.top/20250522195310346.jpg" alt="img"></p><p>21、定位模式状态字。定位的前提是变频器必须巡参，需要设置目的值、速度、加减速度<br><img src="https://img.zzzg.top/20250522195316220.jpg" alt="img"></p>]]></content>
    
    
    <summary type="html">详细解析SEW MOVIPRO伺服驱动系统的调试步骤，包含硬件连接、参数配置、软件设置及常见故障排查方法，适用于工业自动化项目应用。</summary>
    
    
    
    <category term="工业自动化" scheme="https://yuqi.im/categories/%E5%B7%A5%E4%B8%9A%E8%87%AA%E5%8A%A8%E5%8C%96/"/>
    
    
    <category term="MOVIDRIVE" scheme="https://yuqi.im/tags/MOVIDRIVE/"/>
    
  </entry>
  
  <entry>
    <title>针对Prodiag现场License弹窗的解决方法</title>
    <link href="https://yuqi.im/posts/2622eae5/"/>
    <id>https://yuqi.im/posts/2622eae5/</id>
    <published>2025-05-09T16:00:00.000Z</published>
    <updated>2025-05-09T16:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>问题：触摸屏报缺少相关的License Key</p><p><img src="https://img.zzzg.top/20250510170721371.png" alt="image-20250510165712437"></p><p>打开2018版EKB秘钥（无法找到秘钥，请更换此2018秘钥）</p><p> <img src="https://img.zzzg.top/20250510170736105.png" alt="image-20250510165723510"></p><p>选择此秘钥，安装长秘钥，</p><p><img src="https://img.zzzg.top/20250510170745318.png" alt="image-20250510165728998"></p><p>方法一：</p><p>打开软件</p><p><img src="https://img.zzzg.top/20250510170755265.png" alt="image-20250510165801227"></p><p>选择下图秘钥—</p><p><img src="https://img.zzzg.top/20250510170801052.png" alt="image-20250510165808104"></p><p>找到下图秘钥–右键点击Transfer</p><p>打开Tansfer 窗口，电脑与HMI屏幕连接后，可以找到需要下载的HMI设备（有具体IP地址），OK确认</p><p><img src="https://img.zzzg.top/20250510170807531.png" alt="image-20250510165818850"></p><p>方法二：也可以右键相关HMI的此属性，打开授权许可</p><p><img src="https://img.zzzg.top/20250510170813884.png" alt="image-20250510165826870"></p><p>找到相关HMI设备。</p><p><img src="https://img.zzzg.top/20250510170821004.png" alt="image-20250510165833281"></p><p>注意：授权传送之后会提示成功，传送成功后授权若消失重新使用EKb安装一遍即可出现。</p>]]></content>
    
    
    <summary type="html">Prodiag现场License弹窗问题的完整解决方案，包含临时处理和永久修复方法。</summary>
    
    
    
    <category term="工业自动化" scheme="https://yuqi.im/categories/%E5%B7%A5%E4%B8%9A%E8%87%AA%E5%8A%A8%E5%8C%96/"/>
    
    
    <category term="工业软件" scheme="https://yuqi.im/tags/%E5%B7%A5%E4%B8%9A%E8%BD%AF%E4%BB%B6/"/>
    
  </entry>
  
  <entry>
    <title>SEW Scope曲线监控</title>
    <link href="https://yuqi.im/posts/c4294855/"/>
    <id>https://yuqi.im/posts/c4294855/</id>
    <published>2025-01-04T16:00:00.000Z</published>
    <updated>2025-07-21T16:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="打开备份的SEW文件，点击Scope"><a href="#打开备份的SEW文件，点击Scope" class="headerlink" title="打开备份的SEW文件，点击Scope"></a>打开备份的SEW文件，点击Scope</h3><p><img src="https://img.zzzg.top/202501051439031.png" alt="image-20250105143536600"></p><h3 id="进入Scope界面"><a href="#进入Scope界面" class="headerlink" title="进入Scope界面"></a>进入Scope界面</h3><p><img src="https://img.zzzg.top/202501051439072.png" alt="image-20250105143550152"></p><h3 id="在菜单栏中点击新建文件按钮，并新创建一个模板"><a href="#在菜单栏中点击新建文件按钮，并新创建一个模板" class="headerlink" title="在菜单栏中点击新建文件按钮，并新创建一个模板"></a>在菜单栏中点击新建文件按钮，并新创建一个模板</h3><p><img src="https://img.zzzg.top/202501051439108.png" alt="image-20250105143632298"></p><h3 id="模板中设置好监控选项，并保存为名称为Scope的-sct文件"><a href="#模板中设置好监控选项，并保存为名称为Scope的-sct文件" class="headerlink" title="模板中设置好监控选项，并保存为名称为Scope的.sct文件"></a>模板中设置好监控选项，并保存为名称为Scope的.sct文件</h3><p><img src="https://img.zzzg.top/202501051439154.png" alt="image-20250105143656071"></p><h3 id="再次在Scope菜单栏中点击新建，在模板中选择我们创建的Scope模板，然后点OK，进入Scope监控界面"><a href="#再次在Scope菜单栏中点击新建，在模板中选择我们创建的Scope模板，然后点OK，进入Scope监控界面" class="headerlink" title="再次在Scope菜单栏中点击新建，在模板中选择我们创建的Scope模板，然后点OK，进入Scope监控界面"></a>再次在Scope菜单栏中点击新建，在模板中选择我们创建的Scope模板，然后点OK，进入Scope监控界面</h3><p><img src="https://img.zzzg.top/202501051439188.png" alt="image-20250105143719967"></p><h3 id="进入Scope界面后点击记录设置，出现我们刚才设置的模板，点击Start按钮准备记录Scope曲线。在HMI上手动操作滑台动作就会自动触发记录运行曲线"><a href="#进入Scope界面后点击记录设置，出现我们刚才设置的模板，点击Start按钮准备记录Scope曲线。在HMI上手动操作滑台动作就会自动触发记录运行曲线" class="headerlink" title="进入Scope界面后点击记录设置，出现我们刚才设置的模板，点击Start按钮准备记录Scope曲线。在HMI上手动操作滑台动作就会自动触发记录运行曲线"></a>进入Scope界面后点击记录设置，出现我们刚才设置的模板，点击Start按钮准备记录Scope曲线。在HMI上手动操作滑台动作就会自动触发记录运行曲线</h3><p><strong>注意：根据模板里面的设置，最大记录时间为40.96s，因此来回滑动的时间需要控制在40s以内，否则超时的那部分运行曲线无法获取。如果需要调整最大记录时间，可以调整Sample Time。</strong></p><p><img src="https://img.zzzg.top/202501051439213.png" alt="image-20250105143805277"></p><h2 id="更新"><a href="#更新" class="headerlink" title="更新"></a>更新</h2><h3 id="点击进入SCOPE抓曲线"><a href="#点击进入SCOPE抓曲线" class="headerlink" title="点击进入SCOPE抓曲线"></a>点击进入SCOPE抓曲线</h3><p><img src="https://img.zzzg.top/202501051439031.png" alt="image-20250105143536600"></p><h3 id="点击该设置按钮"><a href="#点击该设置按钮" class="headerlink" title="点击该设置按钮"></a>点击该设置按钮</h3><p><img src="https://img.zzzg.top/20250722124639170.png" alt="image-20250722124630275"></p><h3 id="点击OK"><a href="#点击OK" class="headerlink" title="点击OK"></a>点击OK</h3><p><img src="https://img.zzzg.top/20250722124702720.png" alt="image-20250722124701532"></p><h3 id="出现设置画面"><a href="#出现设置画面" class="headerlink" title="出现设置画面"></a>出现设置画面</h3><p>点击开始准备抓曲线，点击触发结束，总共抓取2048个点绘成一条曲线，所以改变采样间隔就可以改变总采样时间，如下图中采样间隔为19ms*2048&#x3D;总采样时间38912ms，大概39S.</p><p>也就是说点击开始只是准备采样，以点击触发作为结束时间，抓取的为点击触发之前的39S.</p><p>抓的曲线可以设置8组，一般按下方图中所示抓取实际速度，设定速度，做功电流，输出电流4条曲线。</p><p><img src="https://img.zzzg.top/20250722124725170.png" alt="image-20250722124723902"></p><p>上载后会按颜色显示所抓的曲线，可以将光标在曲线上拖动，即可查看对应那一时间纵向每个曲线对应的数据</p><p><img src="https://img.zzzg.top/20250722124743640.png" alt="image-20250722124742576"></p><p>蓝色实际速度与绿色设定速度之间差距越小，速度环参数设定越合理。如出现波动需要重新设置转动惯量。</p>]]></content>
    
    
    <summary type="html">SEW Scope 曲线监控功能的完整使用指南，包含参数设置、触发条件配置、数据采集分析及常见应用场景，帮助优化伺服系统性能。</summary>
    
    
    
    <category term="工业自动化" scheme="https://yuqi.im/categories/%E5%B7%A5%E4%B8%9A%E8%87%AA%E5%8A%A8%E5%8C%96/"/>
    
    
    <category term="MOVIDRIVE" scheme="https://yuqi.im/tags/MOVIDRIVE/"/>
    
  </entry>
  
  <entry>
    <title>1panel面板部署哪吒监控v1</title>
    <link href="https://yuqi.im/posts/aad1ff9e/"/>
    <id>https://yuqi.im/posts/aad1ff9e/</id>
    <published>2025-01-02T16:00:00.000Z</published>
    <updated>2025-01-02T16:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="域名解析"><a href="#域名解析" class="headerlink" title="域名解析"></a>域名解析</h1><p>面板域名以<code>nezha.a.com</code>为例</p><p>Cloudflare中添加A记录<code>nezha.a.com</code>指向Dashboard 服务器 IP，开启小黄云。<code>a.com</code>域名设置页面——网络，选择开启WebSockets 和 gRPC ；SSL&#x2F;TLS模式选择完全（严格）。</p><h1 id="哪吒搭建"><a href="#哪吒搭建" class="headerlink" title="哪吒搭建"></a>哪吒搭建</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo mkdir -p /opt/nezha &amp;&amp; cd /opt/nezha</span><br><span class="line">nano docker-compose.yml</span><br><span class="line">docker compose up -d</span><br></pre></td></tr></table></figure><p>docker-compose.yml文件：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">services:</span><br><span class="line">  dashboard:</span><br><span class="line">    container_name: nezha-dashboard</span><br><span class="line">    image: ghcr.io/nezhahq/nezha:latest</span><br><span class="line">    restart: unless-stopped</span><br><span class="line">    volumes:</span><br><span class="line">      - ./dashboard/data:/dashboard/data</span><br><span class="line">    ports:</span><br><span class="line">      - 8008:8008</span><br></pre></td></tr></table></figure><h1 id="反代设置"><a href="#反代设置" class="headerlink" title="反代设置"></a>反代设置</h1><p>反代设置代码来源：<a href="https://www.nodeseek.com/jump?to=https://misaka.es/archives/42.html">https://misaka.es/archives/42.html</a></p><p>1panel面板中新建反向代理网站，<code>网站 —— 创建网站 —— 反向代理</code>，主域名填写<code>nezha.a.com</code>，代理地址填写<code>127.0.0.1:8008</code></p><p>证书页面自行设置Acme账户、DNS账户为<code>nezha.a.com</code>申请证书。</p><p>网站页面点击<code>nezha.a.com</code>进入网站设置，开启https。</p><p>点击配置文件，最下方添加以下代码，保存并重载。<br><img src="https://img.zzzg.top/202501031701543.png" alt="image"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># upstream 配置</span><br><span class="line">upstream dashboard &#123;</span><br><span class="line">    keepalive 512; </span><br><span class="line">    server 127.0.0.1:8008; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>打开<code>网站 —— 反向代理 —— 源文</code>，使用以下代码替换原内容，点击确认。至此，反向代理设置完成。<br><img src="https://img.zzzg.top/202501031701795.png" alt="image"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">location ^~ / &#123;</span><br><span class="line">    proxy_pass http://127.0.0.1:8008; </span><br><span class="line">    proxy_set_header Host $host; </span><br><span class="line">    proxy_set_header X-Real-IP $remote_addr; </span><br><span class="line">    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; </span><br><span class="line">    proxy_set_header REMOTE-HOST $remote_addr; </span><br><span class="line">    proxy_set_header Upgrade $http_upgrade; </span><br><span class="line">    proxy_set_header nz-realip $http_cf_connecting_ip;</span><br><span class="line">    proxy_set_header Connection &quot;upgrade&quot;;</span><br><span class="line">    proxy_set_header X-Forwarded-Proto $scheme;</span><br><span class="line">    proxy_http_version 1.1; </span><br><span class="line">    proxy_read_timeout 3600s;</span><br><span class="line">    proxy_send_timeout 3600s;</span><br><span class="line">    proxy_buffer_size 128k;</span><br><span class="line">    proxy_buffers 4 128k; </span><br><span class="line">    proxy_busy_buffers_size 256k;</span><br><span class="line">    proxy_max_temp_file_size 0;</span><br><span class="line">    add_header X-Cache $upstream_cache_status; </span><br><span class="line">    add_header Cache-Control no-cache; </span><br><span class="line">    proxy_ssl_server_name off; </span><br><span class="line">    proxy_ssl_name $proxy_host; </span><br><span class="line">    add_header Strict-Transport-Security &quot;max-age=31536000&quot;; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">underscores_in_headers on;</span><br><span class="line">set_real_ip_from 0.0.0.0/0; # CDN 回源 IP 地址段</span><br><span class="line">real_ip_header CF-Connecting-IP; # CDN 私有 header，此处为 CloudFlare 默认</span><br><span class="line"></span><br><span class="line"># gRPC 服务</span><br><span class="line">location ^~ /proto.NezhaService/ &#123;</span><br><span class="line">    grpc_set_header Host $host;</span><br><span class="line">    grpc_set_header nz-realip $http_CF_Connecting_IP; </span><br><span class="line">    grpc_read_timeout 600s;</span><br><span class="line">    grpc_send_timeout 600s;</span><br><span class="line">    grpc_socket_keepalive on;</span><br><span class="line">    client_max_body_size 10m;</span><br><span class="line">    grpc_buffer_size 4m;</span><br><span class="line">    grpc_pass grpc://dashboard;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># WebSocket 服务</span><br><span class="line">location ~* ^/api/v1/ws/(server|terminal|file)(.*)$ &#123;</span><br><span class="line">    proxy_set_header Host $host;</span><br><span class="line">    proxy_set_header nz-realip $http_cf_connecting_ip; </span><br><span class="line">    proxy_set_header Origin https://$host;</span><br><span class="line">    proxy_set_header Upgrade $http_upgrade;</span><br><span class="line">    proxy_set_header Connection &quot;upgrade&quot;;</span><br><span class="line">    proxy_read_timeout 3600s;</span><br><span class="line">    proxy_send_timeout 3600s;</span><br><span class="line">    proxy_pass http://127.0.0.1:8008;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="面板设置"><a href="#面板设置" class="headerlink" title="面板设置"></a>面板设置</h1><p>登录到 Dashboard 配置界面<code>https://nezha.a.com/dashboard</code>，初始用户名、密码均为<code>admin</code>，登录后立即进入管理页面点击<code>头像 —— 个人信息 —— 更新个人资料</code>修改用户名和密码。</p><p>点击<code>头像 —— 系统设置</code>，填写站点名称、设置语言，<code>Agent对接地址【域名/IP:端口】</code>填写<code>nezha.a.com:443</code>，勾选<code>Agent 使用 TLS 连接</code>，点击<code>确认</code>即可。</p><p><strong>添加TCP-Ping延迟测试：</strong></p><p>全国各省份三网 TCP-Ping IPv4 地址：<a href="https://www.nodeseek.com/post-68572-1">https://www.nodeseek.com/post-68572-1</a></p><p>全国各省份三网 TCP-Ping IPv6 地址：<a href="https://www.nodeseek.com/post-129987-1">https://www.nodeseek.com/post-129987-1</a></p><p>以浙江移动为例，<code>服务</code>页面创建服务，名称：浙江移动，目标：<a href="https://www.nodeseek.com/jump?to=http://zj-cm-v4.ip.zstaticcdn.com:80">zj-cm-v4.ip.zstaticcdn.com:80</a>，类型：TCPing</p><p><strong>添加telegram通知：</strong></p><p><code>通知</code>页面点击“+”，创建通知，名称自定，URL填写<code>https://api.telegram.org/bot&lt;你的机器人Token&gt;/sendMessage?chat_id=&lt;你的用户ID&gt;&amp;text=#NEZHA#</code>，将 <code>&lt;你的机器人Token&gt;</code> 和 <code>&lt;你的用户ID&gt;</code> 替换为实际值。</p><p>获取 URL 参数<br>获取机器人 Token：与 <code>@BotFather </code>对话，发送<code>/newbot</code>创建新机器人，获取 Token。<br>获取用户 ID：与 <code>@userinfobot </code>对话，获取你的用户 ID。<br>与机器人对话：先与新创建的机器人发送一条消息，确保机器人可以发送消息给你。</p><p><code>分组</code>——<code>通知</code>，页面点击“+”，编辑通知分组，名称自定，<code>通知</code>勾选提前创建的telegram通知，确认即可。</p><p>警报规则参考<a href="https://www.nodeseek.com/jump?to=https://nezha.wiki/guide/notifications.html">哪吒官方文档</a>，以离线通知为例：</p><p><code>通知</code>——<code>警报规则</code>，点击“+”，创建警报规则，名称：<code>离线通知</code>，规则：<code>[&#123;&quot;Type&quot;: &quot;offline&quot;, &quot;Duration&quot;: 10&#125;]</code>，通知组：勾选</p><p>telegram通知，启用：勾选，点击确认。</p><p>面板设置完成，可至<code>服务器</code>页面，点击<code>安装命令</code>，根据系统选择安装命令前往被控vps运行。</p><p>注：被控端禁用网页SSH</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed -i &#x27;s/disable_command_execute: false/disable_command_execute: true/&#x27; /opt/nezha/agent/config.yml &amp;&amp; systemctl restart nezha-agent</span><br></pre></td></tr></table></figure><h1 id="接入微软登录"><a href="#接入微软登录" class="headerlink" title="接入微软登录"></a>接入微软登录</h1><p>原wiki地址 <a href="https://www.nodeseek.com/jump?to=https://nezha.wiki/guide/q14.html">https://nezha.wiki/guide/q14.html</a></p><p>补充微软登陆</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">oauth2:</span></span><br><span class="line">    <span class="attr">Microsoft:</span></span><br><span class="line">        <span class="attr">clientid:</span> <span class="string">&quot;XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX&quot;</span></span><br><span class="line">        <span class="attr">clientsecret:</span> <span class="string">&quot;XXXXX&quot;</span></span><br><span class="line">        <span class="attr">endpoint:</span></span><br><span class="line">            <span class="attr">authurl:</span> <span class="string">&quot;https://login.microsoftonline.com/consumers/oauth2/v2.0/authorize&quot;</span></span><br><span class="line">            <span class="attr">tokenurl:</span> <span class="string">&quot;https://login.microsoftonline.com/consumers/oauth2/v2.0/token&quot;</span></span><br><span class="line">        <span class="attr">scopes:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">&quot;User.Read&quot;</span></span><br><span class="line">        <span class="attr">userinfourl:</span> <span class="string">&quot;https://graph.microsoft.com/v1.0/me&quot;</span></span><br><span class="line">        <span class="attr">useridpath:</span> <span class="string">&quot;id&quot;</span></span><br></pre></td></tr></table></figure><p>配置格式如上，需要自己注册应用以获得clientid、clientsecret</p><ol><li>注册<br><a href="https://www.nodeseek.com/jump?to=https://entra.microsoft.com/%23view/Microsoft_AAD_RegisteredApps/CreateApplicationBlade/quickStartType~/null/isMSAApp~/false">https://entra.microsoft.com/#view/Microsoft_AAD_RegisteredApps&#x2F;CreateApplicationBlade&#x2F;quickStartType<del>&#x2F;null&#x2F;isMSAApp</del>&#x2F;false</a><br>输入项：<br>名称 – 随便写<br>受支持的帐户类型 – 仅 Microsoft 个人帐户<br>重定向 URI (可选) – WEB <a href="https://www.nodeseek.com/jump?to=https://xx.com/api/v1/oauth2/callback">https://xx.com/api/v1/oauth2/callback</a></li><li>获得clientid<br><a href="https://www.nodeseek.com/jump?to=https://entra.microsoft.com/%23view/Microsoft_AAD_RegisteredApps/ApplicationsListBlade/quickStartType~/null/sourceType/Microsoft_AAD_IAM">https://entra.microsoft.com/#view/Microsoft_AAD_RegisteredApps&#x2F;ApplicationsListBlade&#x2F;quickStartType~&#x2F;null&#x2F;sourceType&#x2F;Microsoft_AAD_IAM</a><br>在最左边 所有应用程序 找到自己刚才注册的 点进去<br>概述页面有个 应用程序(客户端) ID，这个就是。</li><li>获得clientsecret<br><img src="https://img.zzzg.top/202501031707326.png" alt="uS3yGRHdgnCIGTAi9IVkpS"><br>提交后会出现 一个 值，复制，后续会不可见。</li><li>修改配置文件 并且 重启 面板服务</li><li>在个人信息里面绑定即可</li></ol>]]></content>
    
    
    <summary type="html">通过1panel面板快速部署哪吒监控（nezha），实现轻量级服务器性能监控与告警管理。教程涵盖Docker安装、配置优化及仪表板集成，适合运维和开发者提升服务器运维效率。</summary>
    
    
    
    <category term="运维技术" scheme="https://yuqi.im/categories/%E8%BF%90%E7%BB%B4%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="运维工具" scheme="https://yuqi.im/tags/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/"/>
    
  </entry>
  
  <entry>
    <title>常用VPS脚本</title>
    <link href="https://yuqi.im/posts/6469b43f/"/>
    <id>https://yuqi.im/posts/6469b43f/</id>
    <published>2024-12-30T16:00:00.000Z</published>
    <updated>2024-12-30T16:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1、DD重装脚本"><a href="#1、DD重装脚本" class="headerlink" title="1、DD重装脚本"></a>1、DD重装脚本</h2><p>史上最强脚本</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget --no-check-certificate -qO InstallNET.sh &#x27;https://raw.githubusercontent.com/leitbogioro/Tools/master/Linux_reinstall/InstallNET.sh&#x27; &amp;&amp; chmod a+x InstallNET.sh &amp;&amp; bash InstallNET.sh -debian 12 -pwd &#x27;password&#x27;</span><br></pre></td></tr></table></figure><p>萌咖大佬的脚本</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(wget --no-check-certificate -qO- &#x27;https://raw.githubusercontent.com/MoeClub/Note/master/InstallNET.sh&#x27;) -d 11 -v 64 -p 密码 -port 端口 -a -firmware</span><br></pre></td></tr></table></figure><p>beta.gs大佬的脚本</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget --no-check-certificate -O NewReinstall.sh https://raw.githubusercontent.com/fcurrk/reinstall/master/NewReinstall.sh &amp;&amp; chmod a+x NewReinstall.sh &amp;&amp; bash NewReinstall.sh</span><br></pre></td></tr></table></figure><p>DD windows（使用史上最强DD脚本）</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -sSL https://raw.githubusercontent.com/leitbogioro/Tools/master/Linux_reinstall/InstallNET.sh) -windows 10  -lang &quot;cn&quot;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">账户：Administrator</span><br><span class="line">密码：Teddysun.com</span><br></pre></td></tr></table></figure><h2 id="2、综合测试脚本"><a href="#2、综合测试脚本" class="headerlink" title="2、综合测试脚本"></a>2、综合测试脚本</h2><p>LemonBench</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -qO- https://raw.githubusercontent.com/LemonBench/LemonBench/main/LemonBench.sh | bash -s -- --fast</span><br></pre></td></tr></table></figure><p>融合怪</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(wget -qO- --no-check-certificate https://gitlab.com/spiritysdx/za/-/raw/main/ecs.sh)</span><br></pre></td></tr></table></figure><p>NodeBench</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -sL https://raw.githubusercontent.com/LloydAsp/NodeBench/main/NodeBench.sh)</span><br></pre></td></tr></table></figure><h2 id="3、性能测试"><a href="#3、性能测试" class="headerlink" title="3、性能测试"></a>3、性能测试</h2><p>GB6 跑分脚本，附带宽测试：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -sL yabs.sh | bash</span><br></pre></td></tr></table></figure><p>GB6 剔除带宽测试，因为都是国外节点测试，国内跑没多大意义：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -sL yabs.sh | bash -s -- -i</span><br></pre></td></tr></table></figure><p>GB5 跑分脚本，附带宽测试：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -sL yabs.sh | bash -5</span><br></pre></td></tr></table></figure><p>GB5 剔除带宽测试：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -sL yabs.sh | bash -s -- -i -5</span><br></pre></td></tr></table></figure><h2 id="4、流媒体及IP质量测试"><a href="#4、流媒体及IP质量测试" class="headerlink" title="4、流媒体及IP质量测试"></a>4、流媒体及IP质量测试</h2><p>最常用版本</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -L -s check.unlock.media)</span><br></pre></td></tr></table></figure><p>原生检测脚本</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -sL Media.Check.Place)</span><br></pre></td></tr></table></figure><p>准确度最高</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -L -s https://github.com/1-stream/RegionRestrictionCheck/raw/main/check.sh)</span><br></pre></td></tr></table></figure><p>IP质量体检脚本</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -sL IP.Check.Place)</span><br></pre></td></tr></table></figure><h2 id="5、测速脚本"><a href="#5、测速脚本" class="headerlink" title="5、测速脚本"></a>5、测速脚本</h2><p>Speedtest</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -sL bash.icu/speedtest)</span><br></pre></td></tr></table></figure><p>Taier</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -sL res.yserver.ink/taier.sh)</span><br></pre></td></tr></table></figure><p>hyperspeed</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -Lso- https://bench.im/hyperspeed)</span><br></pre></td></tr></table></figure><p>全球测速</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -sL network-speed.xyz | bash</span><br></pre></td></tr></table></figure><h2 id="6、回程测试"><a href="#6、回程测试" class="headerlink" title="6、回程测试"></a>6、回程测试</h2><p>直接显示回程（小白用这个）</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl https://raw.githubusercontent.com/ludashi2020/backtrace/main/install.sh -sSf | sh</span><br></pre></td></tr></table></figure><p>回程详细测试（推荐）</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -N --no-check-certificate https://raw.githubusercontent.com/Chennhaoo/Shell_Bash/master/AutoTrace.sh &amp;&amp; chmod +x AutoTrace.sh &amp;&amp; bash AutoTrace.sh</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://ghproxy.com/https://raw.githubusercontent.com/vpsxb/testrace/main/testrace.sh -O testrace.sh &amp;&amp; bash testrace.sh</span><br></pre></td></tr></table></figure><h2 id="7、功能脚本"><a href="#7、功能脚本" class="headerlink" title="7、功能脚本"></a>7、功能脚本</h2><p>添加SWAP</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://www.moerats.com/usr/shell/swap.sh &amp;&amp; bash swap.sh</span><br></pre></td></tr></table></figure><p>Fail2ban</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget --no-check-certificate https://raw.githubusercontent.com/FunctionClub/Fail2ban/master/fail2ban.sh &amp;&amp; bash fail2ban.sh 2&gt;&amp;1 | tee fail2ban.log</span><br></pre></td></tr></table></figure><p>一键开启BBR，适用于较新的Debian、Ubuntu</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;net.core.default_qdisc=fq&quot; &gt;&gt; /etc/sysctl.conf</span><br><span class="line">echo &quot;net.ipv4.tcp_congestion_control=bbr&quot; &gt;&gt; /etc/sysctl.conf</span><br><span class="line">sysctl -p</span><br><span class="line">sysctl net.ipv4.tcp_available_congestion_control</span><br><span class="line">lsmod | grep bbr</span><br></pre></td></tr></table></figure><p>多功能BBR安装脚本</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -N --no-check-certificate &quot;https://gist.github.com/zeruns/a0ec603f20d1b86de6a774a8ba27588f/raw/4f9957ae23f5efb2bb7c57a198ae2cffebfb1c56/tcp.sh&quot; &amp;&amp; chmod +x tcp.sh &amp;&amp; ./tcp.sh</span><br></pre></td></tr></table></figure><p>锐速&#x2F;BBRPLUS&#x2F;BBR2&#x2F;BBR3</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -O tcpx.sh &quot;https://github.com/ylx2016/Linux-NetSpeed/raw/master/tcpx.sh&quot; &amp;&amp; chmod +x tcpx.sh &amp;&amp; ./tcpx.sh</span><br></pre></td></tr></table></figure><p>TCP窗口调优</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget http://sh.nekoneko.cloud/tools.sh -O tools.sh &amp;&amp; bash tools.sh</span><br></pre></td></tr></table></figure><p>添加warp</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -N https://gitlab.com/fscarmen/warp/-/raw/main/menu.sh &amp;&amp; bash menu.sh [option] [lisence/url/token]</span><br></pre></td></tr></table></figure><p>25端口开放测试</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">telnet smtp.aol.com 25</span><br></pre></td></tr></table></figure><h2 id="8、一键安装常用环境及软件"><a href="#8、一键安装常用环境及软件" class="headerlink" title="8、一键安装常用环境及软件"></a>8、一键安装常用环境及软件</h2><p>docker</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -sSL https://get.daocloud.io/docker | sh</span><br></pre></td></tr></table></figure><p>Python</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -O https://raw.githubusercontent.com/lx969788249/lxspacepy/master/pyinstall.sh &amp;&amp; chmod +x pyinstall.sh &amp;&amp; ./pyinstall.sh</span><br></pre></td></tr></table></figure><p>iperf3</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install iperf3</span><br></pre></td></tr></table></figure><p>realm</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -L https://raw.githubusercontent.com/zhouh047/realm-oneclick-install/main/realm.sh) -i</span><br></pre></td></tr></table></figure><p>gost</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget --no-check-certificate -O gost.sh https://raw.githubusercontent.com/qqrrooty/EZgost/main/gost.sh &amp;&amp; chmod +x gost.sh &amp;&amp; ./gost.sh</span><br></pre></td></tr></table></figure><p>极光面板</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -fsSL https://raw.githubusercontent.com/Aurora-Admin-Panel/deploy/main/install.sh)</span><br></pre></td></tr></table></figure><p>哪吒监控</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -L https://raw.githubusercontent.com/naiba/nezha/master/script/install.sh  -o nezha.sh &amp;&amp; chmod +x nezha.sh &amp;&amp; sudo ./nezha.sh</span><br></pre></td></tr></table></figure><p>WARP</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -N https://gitlab.com/fscarmen/warp/-/raw/main/menu.sh &amp;&amp; bash menu.sh</span><br></pre></td></tr></table></figure><p>Aria2</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -N git.io/aria2.sh &amp;&amp; chmod +x aria2.sh &amp;&amp; ./aria2.sh</span><br></pre></td></tr></table></figure><p>宝塔</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -O install.sh http://v7.hostcli.com/install/install-ubuntu_6.0.sh &amp;&amp; sudo bash install.sh</span><br></pre></td></tr></table></figure><p>PVE虚拟化</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(wget -qO- --no-check-certificate https://raw.githubusercontent.com/oneclickvirt/pve/main/scripts/build_backend.sh)</span><br></pre></td></tr></table></figure><p>Argox</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(wget -qO- https://raw.githubusercontent.com/fscarmen/argox/main/argox.sh)</span><br></pre></td></tr></table></figure><h2 id="9、综合功能脚本"><a href="#9、综合功能脚本" class="headerlink" title="9、综合功能脚本"></a>9、综合功能脚本</h2><p>科技lion</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">apt update -y  &amp;&amp; apt install -y curl</span><br><span class="line"></span><br><span class="line">bash &lt;(curl -sL kejilion.sh)</span><br></pre></td></tr></table></figure><p>SKY-BOX</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -O box.sh https://raw.githubusercontent.com/BlueSkyXN/SKY-BOX/main/box.sh &amp;&amp; chmod +x box.sh &amp;&amp; clear &amp;&amp; ./box.sh</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">收集整理最实用的VPS管理脚本，包括系统优化、性能测试、安全加固和常用服务一键安装，提升服务器管理效率。</summary>
    
    
    
    <category term="运维技术" scheme="https://yuqi.im/categories/%E8%BF%90%E7%BB%B4%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="运维工具" scheme="https://yuqi.im/tags/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/"/>
    
  </entry>
  
  <entry>
    <title>Qexo 一个美观、强大的在线 静态博客 管理器</title>
    <link href="https://yuqi.im/posts/8277e0e6/"/>
    <id>https://yuqi.im/posts/8277e0e6/</id>
    <published>2024-12-28T16:00:00.000Z</published>
    <updated>2024-12-28T16:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p><strong>Hexo</strong> 是一款快速、高效的静态博客框架。通过 <a href="http://daringfireball.net/projects/markdown/">Markdown</a> 语法，只需几秒便可生成高质量的静态网页。</p><p>最近，我成功实现了在多设备间灵活管理博客并发布内容。一位网友提到 <strong>Qexo</strong>，一个为 Hexo 增加后台功能的工具，它让发布博客变得像发微博一样简单。深入了解后，我发现它非常强大，不仅可以用手机随时随地发表文章，还极大提升了操作便捷性。</p><p>尽管安装过程中遇到了一些问题，但最终都顺利解决。我将整理经验分享，希望能帮助更多人。</p><hr><h1 id="Qexo-简介"><a href="#Qexo-简介" class="headerlink" title="Qexo 简介"></a>Qexo 简介</h1><p><strong>Qexo</strong> 是一个快速、美观且功能丰富的在线 Hexo 管理器，支持通过 Vercel 免费部署，仅需配置一个数据库即可使用。</p><h2 id="主要功能"><a href="#主要功能" class="headerlink" title="主要功能"></a>主要功能</h2><ul><li>自定义图床上传图片</li><li>在线编辑与页面管理</li><li>开放 API 接口</li><li>自动检查更新并一键更新</li><li>快速管理友情链接</li><li>短文分享（类似微博功能）</li><li>自动填充文章模板</li></ul><p><strong>项目地址</strong>：<a href="https://www.oplog.cn/qexo/start.html">Qexo 官方文档</a></p><hr><h1 id="一、配置-GitHub-自动化部署"><a href="#一、配置-GitHub-自动化部署" class="headerlink" title="一、配置 GitHub 自动化部署"></a>一、配置 GitHub 自动化部署</h1><h2 id="1-获取-GitHub-Token"><a href="#1-获取-GitHub-Token" class="headerlink" title="1. 获取 GitHub Token"></a>1. 获取 GitHub Token</h2><ol><li>打开 <strong>Personal settings</strong> -&gt; <strong>Developer settings</strong> -&gt; <strong>Personal access tokens</strong></li><li>设置权限为 <strong>repo</strong> 和 <strong>public repo</strong></li></ol><p><img src="https://img.zzzg.top/202412291101351.png" alt="313f2ca0d7d3ea811d7e7be8ad6bcd4b"></p><ol><li>保存生成的 Token（丢失后无法恢复，只能重新生成）</li><li>在博客代码仓库的 <strong>Secrets</strong> 中添加名为 <strong>PERSONAL_TOKEN</strong> 的变量，后续步骤将用到。</li></ol><p><img src="https://img.zzzg.top/202412291102866.png" alt="f69e8dd9266ba1336ddddff00a67ffc6"></p><h2 id="2-创建-GitHub-Actions"><a href="#2-创建-GitHub-Actions" class="headerlink" title="2. 创建 GitHub Actions"></a>2. 创建 GitHub Actions</h2><ol><li>在博客仓库页面，点击 <strong>Actions</strong>。</li><li>选择 <strong>Set up a workflow yourself</strong>。</li></ol><p><a href="https://13fe9ff.webp.li/2024/11/b425061c44375abea8ca5a8a01091038.png"><img src="https://img.zzzg.top/202412291104224.png" alt="img"></a></p><ol><li>输入以下 YAML 配置并点击 <strong>Start commit</strong> ：</li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">Deploy</span> <span class="string">Hexo</span> <span class="string">to</span> <span class="string">GitHub</span> <span class="string">Pages</span></span><br><span class="line"></span><br><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">push:</span></span><br><span class="line">    <span class="attr">branches:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">main</span> <span class="comment"># 或你使用的默认分支名称</span></span><br><span class="line"></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">deploy:</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Checkout</span> <span class="string">blog</span> <span class="string">source</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/checkout@v2</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">path:</span> <span class="string">blog</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Set</span> <span class="string">up</span> <span class="string">Node.js</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/setup-node@v1</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">node-version:</span> <span class="string">&quot;16&quot;</span> <span class="comment"># 设置 Node.js 版本</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Cache</span> <span class="string">dependencies</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/cache@v2</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">path:</span> <span class="string">node_modules</span></span><br><span class="line">          <span class="attr">key:</span> <span class="string">$&#123;&#123;</span> <span class="string">runner.os</span> <span class="string">&#125;&#125;-node-$&#123;&#123;</span> <span class="string">hashFiles(&#x27;**/package-lock.json&#x27;)</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="attr">restore-keys:</span> <span class="string">|</span></span><br><span class="line"><span class="string">            $&#123;&#123; runner.os &#125;&#125;-node-</span></span><br><span class="line"><span class="string"></span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Install</span> <span class="string">dependencies</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">npm</span> <span class="string">install</span></span><br><span class="line">        <span class="attr">working-directory:</span> <span class="string">./blog</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Install</span> <span class="string">Hexo</span> <span class="string">CLI</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">npm</span> <span class="string">install</span> <span class="string">-g</span> <span class="string">hexo-cli</span></span><br><span class="line">        <span class="attr">working-directory:</span> <span class="string">./blog</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Generate</span> <span class="string">static</span> <span class="string">pages</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">hexo</span> <span class="string">generate</span></span><br><span class="line">        <span class="attr">working-directory:</span> <span class="string">./blog</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Deploy</span> <span class="string">to</span> <span class="string">GitHub</span> <span class="string">Pages</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">peaceiris/actions-gh-pages@v3</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">personal_token:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.PERSONAL_TOKEN</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="attr">publish_dir:</span> <span class="string">./blog/public</span></span><br><span class="line">          <span class="attr">external_repository:</span> <span class="string">username/username.github.io</span> <span class="comment"># 更改为你的 GitHub Pages 仓库, username 是你的用户名</span></span><br><span class="line">          <span class="attr">publish_branch:</span> <span class="string">main</span> <span class="comment"># GitHub Pages 分支</span></span><br></pre></td></tr></table></figure><p>参考文档：</p><ul><li><a href="https://www.oplog.cn/archives/24998.html">Hexo 自动化部署教程</a></li><li><a href="https://hackergavin.com/2024/01/11/hexo-automate-deploy/">利用 GitHub Actions 实现自动化部署 Hexo 到 Github Pages</a></li></ul><hr><h1 id="二、通过-Vercel-部署-Qexo"><a href="#二、通过-Vercel-部署-Qexo" class="headerlink" title="二、通过 Vercel 部署 Qexo"></a>二、通过 Vercel 部署 Qexo</h1><h2 id="1-一键部署"><a href="#1-一键部署" class="headerlink" title="1. 一键部署"></a>1. 一键部署</h2><p>点击以下按钮完成一键部署：<a href="https://vercel.com/new/clone?repository-url=https://github.com/am-abudu/Qexo">Vercel 一键部署</a></p><blockquote><p><strong>注意</strong>：首次部署可能会出现错误提示，可忽略并继续后续步骤。</p></blockquote><h2 id="2-修改-Node-js-版本"><a href="#2-修改-Node-js-版本" class="headerlink" title="2. 修改 Node.js 版本"></a>2. 修改 Node.js 版本</h2><p>由于 <strong><a href="https://vercel.com/docs/functions/runtimes/python#python-dependencies">Vercel 的已知问题</a>，需将项目的 Node.js 版本调整为</strong> <strong>18.x</strong>。<br>路径：<strong>Settings -&gt; General -&gt; Node.js Version</strong></p><h2 id="3-创建-Vercel-数据库"><a href="#3-创建-Vercel-数据库" class="headerlink" title="3. 创建 Vercel 数据库"></a>3. 创建 Vercel 数据库</h2><ol><li>进入<a href="https://vercel.com/dashboard/stores">Vercel Storage 页面</a>。</li><li>点击 *<strong>Create Database</strong>，选择 <strong>Neon</strong> ，设置区域为 <strong>Washington, DC., USA - iad1</strong>，创建免费数据库。</li></ol><h2 id="4-绑定项目"><a href="#4-绑定项目" class="headerlink" title="4. 绑定项目"></a>4. 绑定项目</h2><p>在 <strong>Projects</strong> 页面选择对应项目，点击 <strong>Connect Project</strong> 进行绑定。</p><h2 id="5-部署-Qexo"><a href="#5-部署-Qexo" class="headerlink" title="5. 部署 Qexo"></a>5. 部署 Qexo</h2><p>回到项目页面，点击<strong>Redeploy</strong> 开始部署。部署完成后，无报错即可访问域名进入初始化页面。</p><hr><h1 id="初始化配置"><a href="#初始化配置" class="headerlink" title="初始化配置"></a>初始化配置</h1><p><a href="https://13fe9ff.webp.li/2024/11/d14a6a28fa42dc905ad1f9572d280abb.png"><img src="https://13fe9ff.webp.li/2024/11/d14a6a28fa42dc905ad1f9572d280abb.png" alt="img"></a></p><p><a href="https://13fe9ff.webp.li/2024/11/8781b5e062a34509ccf39ed0000e8033.png"><img src="https://img.zzzg.top/202412291104276.png" alt="img"></a></p><h2 id="GitHub-配置"><a href="#GitHub-配置" class="headerlink" title="GitHub 配置"></a>GitHub 配置</h2><p><a href="https://13fe9ff.webp.li/2024/11/7f4e9a472b66f4a2b73ae1c8e035b4ef.png"><img src="https://img.zzzg.top/202412291104301.png" alt="img"></a><br>填写博客源码所在仓库的分支名称，例如：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">plaintext</span><br><span class="line">master</span><br></pre></td></tr></table></figure><h2 id="GitHub-密钥"><a href="#GitHub-密钥" class="headerlink" title="GitHub 密钥"></a>GitHub 密钥</h2><p>填写生成的 GitHub Token，例如：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">plaintext</span><br><span class="line">wrq_P8sYPlYA9fjMlOPEYSKA84xxxxxxxxxxxxxx</span><br></pre></td></tr></table></figure><h2 id="仓库路径"><a href="#仓库路径" class="headerlink" title="仓库路径"></a>仓库路径</h2><p>若 Hexo 源码在仓库根目录，则留空；否则填写路径：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">plaintext</span><br><span class="line">path/</span><br></pre></td></tr></table></figure><p><a href="https://13fe9ff.webp.li/2024/11/f2f7c6b57196afa6652292807698db91.png"><img src="https://img.zzzg.top/202412291104319.png" alt="img"></a></p><p><a href="https://13fe9ff.webp.li/2024/11/5e4c876cd000a6d5f5da45bb256c963e.png"><img src="https://img.zzzg.top/202412291104350.png" alt="img"></a></p><p><a href="https://13fe9ff.webp.li/2024/11/bcc3ab289c7a355ed8116d92faddba80.png"><img src="https://img.zzzg.top/202412291104386.png" alt="img"></a></p><h2 id="Vercel-配置"><a href="#Vercel-配置" class="headerlink" title="Vercel 配置"></a>Vercel 配置</h2><ul><li><strong>VERCEL_TOKEN</strong>：在<a href="https://vercel.com/account/tokens">Vercel 账户设置</a> 中生成。</li><li><strong>PROJECT_ID</strong>：在 <strong>Project Settings -&gt; General -&gt; Project ID</strong> 中找到。</li></ul><p>配置完成后，即可登录后台管理博客内容。</p><p><a href="https://13fe9ff.webp.li/2024/11/df6b8e762d048854683e5e31f6e262f2.png"><img src="https://img.zzzg.top/202412291104412.png" alt="img"></a></p><p><a href="https://13fe9ff.webp.li/2024/11/2fa7cd4b16b469345b8e628d88affae2.png"><img src="https://img.zzzg.top/202412291104441.png" alt="img"></a></p><p><a href="https://13fe9ff.webp.li/2024/11/6a16b8185a435cf9b807dbcc894d92e1.png"><img src="https://img.zzzg.top/202412291104466.png" alt="img"></a></p><h1 id=""><a href="#" class="headerlink" title=""></a></h1>]]></content>
    
    
    <summary type="html">Qexo 是一个美观强大的静态博客在线管理平台，支持 Hexo 等静态博客系统，提供可视化文章编辑、多用户协作和自动化部署功能。</summary>
    
    
    
    <category term="博客运维" scheme="https://yuqi.im/categories/%E5%8D%9A%E5%AE%A2%E8%BF%90%E7%BB%B4/"/>
    
    
    <category term="Hexo" scheme="https://yuqi.im/tags/Hexo/"/>
    
  </entry>
  
</feed>
