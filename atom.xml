<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>与亓のBlog</title>
  
  
  <link href="http://blog.yuqi.fun/atom.xml" rel="self"/>
  
  <link href="http://blog.yuqi.fun/"/>
  <updated>2025-05-24T00:00:00.000Z</updated>
  <id>http://blog.yuqi.fun/</id>
  
  <author>
    <name>与亓</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>SEW MOVIDRIVE MDX61B调试步骤</title>
    <link href="http://blog.yuqi.fun/undefined/175f8f8b.html"/>
    <id>http://blog.yuqi.fun/undefined/175f8f8b.html</id>
    <published>2025-05-24T00:00:00.000Z</published>
    <updated>2025-05-24T00:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="通用配置"><a href="#通用配置" class="headerlink" title="通用配置"></a>通用配置</h1><p>1、打开MOVITOOLS MotionStudio软件，创建项目；</p><p><img src="https://img.051516.xyz/20250524222200677.png" alt="image-20250524222158605"></p><p>2、用USB11A连接电脑和MDX61B控制器的XT插槽，扫描网络上的设备；</p><p><img src="https://img.051516.xyz/20250524214422270.png" alt="image-20250524211702428"></p><p>3、选择“configure device”，对连接到的设备进行硬件配置；</p><p><img src="https://img.051516.xyz/20250524222219097.png" alt="image-20250524222217162"></p><p>4、定义硬件名称，点击“finish”开始硬件配置；</p><p><img src="https://img.051516.xyz/20250524214515558.png" alt="image-20250524211926639"></p><p>5、硬件配置中；</p><p><img src="https://img.051516.xyz/20250524222233810.png" alt="image-20250524222232341"></p><p>6、硬件配置完成后，去除控制器X13&#x2F;DIΦΦ“控制器禁止”端子的二进制输入，然后点击“startup”；</p><p><img src="https://img.051516.xyz/20250524214629567.png" alt="image-20250524211945592"></p><p>7、点击“perform startup”，开始初始化；</p><p><img src="https://img.051516.xyz/20250524222248819.png" alt="image-20250524222247221"></p><p>8、点击“startup set-1”,进行parameter set-1设置（ 如果需要两套参数运行，parameter set-2设置采取同样步骤）；</p><p><img src="https://img.051516.xyz/20250524214718661.png" alt="image-20250524212003793"></p><p>9、选择“Execute complete start-up（执行完整的初始化）”；</p><p><img src="https://img.051516.xyz/20250524214754774.png" alt="image-20250524212013954"></p><p>10、选择“Stand-alone motor &gt; Vector-controlled&#x2F;Servo（独立电机 &gt; 矢量控制&#x2F;伺服电机）”；</p><p><img src="https://img.051516.xyz/20250524222306518.png" alt="image-20250524222301415"></p><p>11、参照电机铭牌，检查电机及编码器信息是否准确；</p><p><img src="https://img.051516.xyz/20250524214839482.png" alt="image-20250524212033383"></p><p>12、检查电机类型信息；</p><p><img src="https://img.051516.xyz/20250524214901384.png" alt="image-20250524212042192"></p><p>13、输入电源电压，定义参数P835“电机温度传感器的响应”，定义参数P530“电机温度传感器类型”（例如TF&#x2F;TH）；</p><p><img src="https://img.051516.xyz/20250524222319681.png" alt="image-20250524222318491"></p><p>14、选择“Yes, I use the encoder.（使用编码器）”；</p><p><img src="https://img.051516.xyz/20250524222329566.png" alt="image-20250524222328165"></p><p>15、操作模式选择“Positioning with IPOS（IPOS程序定位模式）”；</p><p><img src="https://img.051516.xyz/20250524222338371.png" alt="image-20250524222337164"></p><p>16、选择“CFC（电流矢量控制）模式”；</p><p><img src="https://img.051516.xyz/20250524215033099.png" alt="image-20250524212118749"></p><p>17、准确填写WEISS计算的load inertia（负载转动惯量），drive选择“With Backlash”；</p><p><img src="https://img.051516.xyz/20250524222357175.png" alt="image-20250524222356136"></p><p>18、相关参数使用WEISS所提供参数表中的推荐参数（另P501&#x3D;0.2），其它参数选择“Apply Proposal（使用推荐值）”；</p><p><img src="https://img.051516.xyz/20250524222404328.png" alt="image-20250524212137433"></p><p>19、转速控制器参数选择“Apply Proposal（使用推荐值）”；</p><p><img src="https://img.051516.xyz/20250524222410408.png" alt="image-20250524212146117"></p><p>20、 P100“设定值源”和P101“控制信号源”选择“FIELDBUS”，其它相关参数使用WEISS所提供参数表中的建议参数，剩余参数选择“Apply Proposal（使用推荐值）”；</p><p><img src="https://img.051516.xyz/20250524222422069.png" alt="image-20250524212156638"></p><p>21、点击“完成”，将初始化信息下载至控制器。如需配置parameter set-2，点击“download”，再进行参数包2的配置；</p><p><img src="https://img.051516.xyz/20250524222458272.png" alt="image-20250524212205450"></p><p>22、初始化完全完成后，会跳出提示框，点击“确定”；</p><p><img src="https://img.051516.xyz/20250524222523810.png" alt="image-20250524212214711"></p><p>23、点击“parameter tree”，进行WEISS所提供参数表中其它相关参数的设置；</p><p><img src="https://img.051516.xyz/20250524222531028.png" alt="image-20250524212224521"></p><p>24、例如，P911定位斜坡1，P913&#x2F;P914运转转速CW&#x2F;CCW，P916斜坡形式需设为“Jerk-Limited”；</p><p><img src="https://img.051516.xyz/20250524222539252.png" alt="image-20250524212234215"></p><p>25、例如，P933突变时间0.3；</p><p><img src="https://img.051516.xyz/20250524222546210.png" alt="image-20250524212244471"></p><p>26、参数配置为在线实时进行，完成后，点击“manual mode”手动模式；</p><p><img src="https://img.051516.xyz/20250524222553364.png" alt="image-20250524212254703"></p><p>27、点击“Activate manual mode”，激活手动模式；</p><p><img src="https://img.051516.xyz/20250524222604903.png" alt="image-20250524212314539"></p><p>28、连接控制器X13&#x2F;DIΦΦ“控制器禁止”端子的二进制输入；</p><p><img src="https://img.051516.xyz/20250524222615343.png" alt="image-20250524212325422"></p><p>29、选择控制速度，旋转方向，点击“start”或“stop”进行启停控制；</p><p><img src="https://img.051516.xyz/20250524222625158.png" alt="image-20250524212334707"></p><p>30、手动模式下，转台运行正常后，点击“Deactivate manual mode”;</p><p><img src="https://img.051516.xyz/20250524222633542.png" alt="image-20250524212344985"></p><p>31、选择“是”，退出手动模式；</p><p><img src="https://img.051516.xyz/20250524222641778.png" alt="image-20250524212354086"></p><h1 id="variable-setpoint-0801"><a href="#variable-setpoint-0801" class="headerlink" title="variable setpoint-0801"></a>variable setpoint-0801</h1><p>32、创建AMA0801模块；</p><p><img src="https://img.051516.xyz/20250524222649124.png" alt="image-20250524212632424"></p><p>33、去除控制器X13&#x2F;DIΦΦ“控制器禁止”端子的二进制输入，点击“next”，开始初始化AMA0801模块；</p><p><img src="https://img.051516.xyz/20250524222656438.png" alt="image-20250524212642466"></p><p>34、总线参数和控制器配置页面，建议使用其默认参数；</p><p><img src="https://img.051516.xyz/20250524222707316.png" alt="image-20250524212651974"></p><p>35、刻度计算页面，“Diameter&#x2F;spindle pitch”的单位选择“inc”；</p><p><img src="https://img.051516.xyz/20250524222716007.png" alt="image-20250524212701771"></p><p>36、参数和极限页面，若使用硬件限位开关，需将CW和CCW限位开关分别接到控制器X13&#x2F;DI Φ 4和X13&#x2F;DI Φ 5端子，同时在软件上选择“YES”，“parameter tree”中将P603和P604端子功能设置为相应的限位功能；如果没有原点传感器，寻找参考点模式选择5，即将当前点作为原点；</p><p><img src="https://img.051516.xyz/20250524222723909.png" alt="image-20250524212710360"></p><p>37、监控设置页面，建议使用其默认参数；</p><p><img src="https://img.051516.xyz/20250524222733109.png" alt="image-20250524212722391"></p><p>38、点击“download”，将AMA模块设置下载到控制器；</p><p><img src="https://img.051516.xyz/20250524222740535.png" alt="image-20250524212739438"></p><p>39、下载完成后，软件自动跳至总线控制监视器；</p><p><img src="https://img.051516.xyz/20250524222749673.png" alt="image-20250524212744631"></p><p>40、更改二进制输入设置，若不使用二进制输入控制X13&#x2F;DI Φ 1“ENABLE&#x2F;STOP”，必须将“parameter tree”中P600设为“NO FUNCTION”，若不使用原点传感器，将P602“Reference Cam”设为“NO FUNCTION”，若不使用硬件限位开关，将P603和P604设为“NO FUNCTION”;</p><p><img src="https://img.051516.xyz/20250524222755552.png" alt="image-20250524212757219"></p><p>41、点击“control”，确定弹出对话框；</p><p><img src="https://img.051516.xyz/20250524222802302.png" alt="image-20250524212807300"></p><p>42、连接控制器X13&#x2F;DIΦΦ“控制器禁止”端子的二进制输入（若使用控制器X13&#x2F;DIΦ1“ENABLE&#x2F;STOP”端子，同时需连接其二进制输入），选择控制信号进行模拟总线控制，测试转台；</p><p><img src="https://img.051516.xyz/20250524222810802.png" alt="image-20250524212816806"></p><p>43、模拟总线控制正常后，退出此模式。选择“Export”，将配置的参数导出到文件，之后可将其导入到相似的控制系统中；</p><p><img src="https://img.051516.xyz/20250524222817521.png" alt="image-20250524212826315"></p><p>44、可选择“project &gt; save(as)”，保存项目；</p><p><img src="https://img.051516.xyz/20250524222823830.png" alt="image-20250524212836779"></p><p>45、可选择“project &gt; export”，导出项目到压缩文件；</p><p><img src="https://img.051516.xyz/20250524222830169.png" alt="image-20250524212846979"></p><p>46、若后期设备应用有更改，需初始化控制器，可在“parameter tree”P802中选择“delivery state”，将控制器还原为出厂状态。</p><p><img src="https://img.051516.xyz/20250524222838525.png" alt="image-20250524212857194"></p><h1 id="binary-setpoint-0801"><a href="#binary-setpoint-0801" class="headerlink" title="binary setpoint-0801"></a>binary setpoint-0801</h1><p>32、创建AMA0801模块；</p><p><img src="https://img.051516.xyz/20250524222649124.png" alt="image-20250524212632424"></p><p>33、去除控制器X13&#x2F;DIΦΦ“控制器禁止”端子的二进制输入，点击“next”，开始初始化AMA0801模块；</p><p><img src="https://img.051516.xyz/20250524222656438.png" alt="image-20250524212642466"></p><p>34、总线参数和控制器配置页面，application mode选择“binary setpoint”，其它建议使用其默认参数；</p><p><img src="https://img.051516.xyz/20250524222939640.png" alt="image-20250524213430979"></p><p>35、刻度计算页面，“Diameter&#x2F;spindle pitch”的单位选择“inc”；</p><p><img src="https://img.051516.xyz/20250524222943220.png" alt="image-20250524213441697"></p><p>36、参数和极限页面，若使用硬件限位开关，需将CW和CCW限位开关分别接到控制器X13&#x2F;DI Φ 4和X13&#x2F;DI Φ 5端子，同时在软件上选择“YES”，“parameter tree”中将P603和P604端子功能设置为相应的限位功能；如果没有原点传感器，寻找参考点模式选择5，即将当前点作为原点；</p><p><img src="https://img.051516.xyz/20250524222955853.png" alt="image-20250524213451117"></p><p>37、binary drive parameter页面， positioning mode parameter菜单下设置定位模式高速，低速及加减速时间。Jog mode菜单下设置点动模式高速，低速及加减速时间（默认即可）。Parameter positions菜单下设置低速类型，和每个位置的速度及加减速时间；</p><p><img src="https://img.051516.xyz/20250524223004046.png" alt="image-20250524213500200"></p><p>38、binary positions页面，设置定位窗口，及各个位置对应的脉冲值；</p><p><img src="https://img.051516.xyz/20250524223010702.png" alt="image-20250524213509244"></p><p>39、cam switch页面，可以根据需要设置电子凸轮输出；</p><p><img src="https://img.051516.xyz/20250524223017843.png" alt="image-20250524213517976"></p><p>40、监控设置页面，建议使用其默认参数；</p><p><img src="https://img.051516.xyz/20250524223023736.png" alt="image-20250524213526703"></p><p>41、点击“download”，将AMA模块设置下载到控制器；</p><p><img src="https://img.051516.xyz/20250524223030369.png" alt="image-20250524213535882"></p><p>42、下载完成后，软件自动跳至总线控制监视器；</p><p><img src="https://img.051516.xyz/20250524223036608.png" alt="image-20250524213543946"></p><p>43、更改二进制输入设置，若不使用二进制输入控制X13&#x2F;DI Φ 1“ENABLE&#x2F;STOP”，必须将“parameter tree”中P600设为“NO FUNCTION”，若不使用原点传感器，将P602“Reference Cam”设为“NO FUNCTION”，若不使用硬件限位开关，将P603和P604设为“NO FUNCTION”;</p><p><img src="https://img.051516.xyz/20250524223043954.png" alt="image-20250524213553082"></p><p>44、点击“control”，确定弹出对话框；</p><p><img src="https://img.051516.xyz/20250524223050371.png" alt="image-20250524213601980"></p><p>45、连接控制器X13&#x2F;DIΦΦ“控制器禁止”端子的二进制输入（若使用控制器X13&#x2F;DIΦ1“ENABLE&#x2F;STOP”端子，同时需连接其二进制输入），选择控制信号进行模拟总线控制，运转转台；</p><p><img src="https://img.051516.xyz/20250524223056920.png" alt="image-20250524213610505"></p><p>46、模拟总线控制正常后，退出此模式。选择“Export”，将配置的参数导出到文件，之后可将其导入到相似的控制系统中；</p><p><img src="https://img.051516.xyz/20250524223104812.png" alt="image-20250524213624044"></p><p>47、可选择“project &gt; save(as)”，保存项目；</p><p><img src="https://img.051516.xyz/20250524223110515.png" alt="image-20250524213632422"></p><p>48、可选择“project &gt; export”，导出项目到压缩文件；</p><p><img src="https://img.051516.xyz/20250524223117373.png" alt="image-20250524213640973"></p><p>49、若后期设备应用有更改，需初始化控制器，可在“parameter tree”P802中选择“delivery state”，将控制器还原为出厂状态。</p><p><img src="https://img.051516.xyz/20250524223125031.png" alt="image-20250524213649646"></p><h1 id="modulo-positioning-0801"><a href="#modulo-positioning-0801" class="headerlink" title="modulo positioning-0801"></a>modulo positioning-0801</h1><p>32、去除控制器X13&#x2F;DIΦΦ“控制器禁止”端子的二进制输入，开始创建modulo positioning定位模块；</p><p><img src="https://img.051516.xyz/20250524223131691.png" alt="image-20250524213728571"></p><p>33、上位机若为总线控制，选择“bus”；若为I&#x2F;O端子控制，选择“terminals”;</p><p><img src="https://img.051516.xyz/20250524223138021.png" alt="image-20250524213737345"></p><p>34、选择角度单位（脉冲&#x2F;度&#x2F;0.1度三种可选）；输入整数形式的齿轮箱和外部减速比，然后点击“caculation”；选择位置信息来源（电机编码器&#x2F;外部增量式编码器&#x2F;外部绝对式编码器三种可选，一般为电机编码器）；选择寻零方式（5和8均为设置当前点为电气零点）；</p><p><img src="https://img.051516.xyz/20250524223145296.png" alt="image-20250524213746623"></p><p>35、设置自动模式最高速度，点动模式最高速度和速度控制（所有模式）最高速度；</p><p><img src="https://img.051516.xyz/20250524223152806.png" alt="image-20250524213756528"></p><p>36、将模块下载到变频器中；</p><p><img src="https://img.051516.xyz/20250524223158888.png" alt="image-20250524213805596"></p><p>37、模块下载到变频器后，点击“是”进入模块的监视模式；</p><p><img src="https://img.051516.xyz/20250524223204888.png" alt="image-20250524213815689"></p><p>38、模块的监视画面如下。上位机发命令时，命令信息在此画面都可以监视到；</p><p><img src="https://img.051516.xyz/20250524223210999.png" alt="image-20250524213824716"></p><p>39、点击“control”，进入模块的控制模式。注意：进入控制模式后，上位机的命令就会失效；</p><p><img src="https://img.051516.xyz/20250524223218155.png" alt="image-20250524213833544"></p><p>40、更改二进制输入设置，若不使用二进制输入控制X13&#x2F;DI Φ 1“ENABLE&#x2F;STOP”，必须将“parameter tree”中P600设为“NO FUNCTION”，若不使用原点传感器，将P602“Reference Cam”设为“NO FUNCTION”，若不使用硬件限位开关，将P603和P604设为“NO FUNCTION”;</p><p><img src="https://img.051516.xyz/20250524223224784.png" alt="image-20250524213842052"></p><p>41、模块的控制画面如下。激活控制器X13&#x2F;DIΦΦ“控制器禁止”端子的二进制输入，即可通过此画面编辑命令，发送命令给设备；同时设备的状态也可反馈出来；</p><p><img src="https://img.051516.xyz/20250524223231542.png" alt="image-20250524213850363"></p><p>42、模拟控制设备完成后，需要退出控制模式，否则上位机的命令无效。退出时需要首先去除控制器X13&#x2F;DIΦΦ“控制器禁止”端子的二进制输入；</p><p><img src="https://img.051516.xyz/20250524223238289.png" alt="image-20250524213859973"></p><p>43、注意，退出到监视模式，激活控制器X13&#x2F;DIΦΦ“控制器禁止”端子的二进制输入后，上位机的命令就会生效；</p><p><img src="https://img.051516.xyz/20250524223244280.png" alt="image-20250524213907974"></p><p>44、注意，退出到监视模式，激活控制器X13&#x2F;DIΦΦ“控制器禁止”端子的二进制输入后，上位机的命令就会生效。此时可编写上位机程序，通过程序来控制设备运行；</p><p><img src="https://img.051516.xyz/20250524223252008.png" alt="image-20250524213917553"></p><p>45、选择“Export”，将配置的参数导出到文件，之后可将其导入到相似的控制系统中；</p><p><img src="https://img.051516.xyz/20250524223259199.png" alt="image-20250524213925898"></p><p>46、可选择“project &gt; save(as)”，保存项目；</p><p><img src="https://img.051516.xyz/20250524223305688.png" alt="image-20250524213933807"></p><p>47、可选择“project &gt; export”，导出项目到压缩文件；</p><p><img src="https://img.051516.xyz/20250524223312296.png" alt="image-20250524213941933"></p><p>48、若后期设备应用有更改，需初始化控制器，可在“parameter tree”P802中选择“delivery state”，将控制器还原为出厂状态。</p><p><img src="https://img.051516.xyz/20250524223317731.png" alt="image-20250524213949868"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;通用配置&quot;&gt;&lt;a href=&quot;#通用配置&quot; class=&quot;headerlink&quot; title=&quot;通用配置&quot;&gt;&lt;/a&gt;通用配置&lt;/h1&gt;&lt;p&gt;1、打开MOVITOOLS MotionStudio软件，创建项目；&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://im</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>SEW-MC07B变频器-MOTION--STUDIO软件调试步骤、方法和技巧</title>
    <link href="http://blog.yuqi.fun/undefined/421934fd.html"/>
    <id>http://blog.yuqi.fun/undefined/421934fd.html</id>
    <published>2025-05-24T00:00:00.000Z</published>
    <updated>2025-05-24T00:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://img.051516.xyz/20250524205528464.PNG" alt="4"></p><p><img src="https://img.051516.xyz/20250524205547050.PNG" alt="5"></p><p><img src="https://img.051516.xyz/20250524205627985.PNG" alt="6"></p><p><img src="https://img.051516.xyz/20250524205645010.PNG" alt="7"></p><p><img src="https://img.051516.xyz/20250524205656950.PNG" alt="8"></p><p><img src="https://img.051516.xyz/20250524205709394.PNG" alt="9"></p><p><img src="https://img.051516.xyz/20250524205720726.PNG" alt="10"></p><p><img src="https://img.051516.xyz/20250524205733378.PNG" alt="11"></p><p><img src="https://img.051516.xyz/20250524205754775.PNG" alt="12"></p><p><img src="https://img.051516.xyz/20250524205811663.PNG" alt="13"></p><p><img src="https://img.051516.xyz/20250524205821221.PNG" alt="14"></p><p><img src="https://img.051516.xyz/20250524205834316.PNG" alt="15"></p><p><img src="https://img.051516.xyz/20250524205843533.PNG" alt="16"></p><p><img src="https://img.051516.xyz/20250524205901797.PNG" alt="17"></p><p><img src="https://img.051516.xyz/20250524205914973.PNG" alt="18"></p><p><img src="https://img.051516.xyz/20250524205928160.PNG" alt="19"></p><p><img src="https://img.051516.xyz/20250524205940302.PNG" alt="20"></p><p><img src="https://img.051516.xyz/20250524205950644.PNG" alt="21"></p><p><img src="https://img.051516.xyz/20250524210006913.PNG" alt="22"></p><p><img src="https://img.051516.xyz/20250524210029075.PNG" alt="23"></p><p><img src="https://img.051516.xyz/20250524210042996.PNG" alt="24"></p><p><img src="https://img.051516.xyz/20250524210105981.PNG" alt="25"></p><p><img src="https://img.051516.xyz/20250524210122505.PNG" alt="26"></p><p><img src="https://img.051516.xyz/20250524210136340.PNG" alt="27"></p><p><img src="https://img.051516.xyz/20250524210145600.PNG" alt="28"></p><p><img src="https://img.051516.xyz/20250524210156379.PNG" alt="29"></p><p><img src="https://img.051516.xyz/20250524210210502.PNG" alt="30"></p><p><img src="https://img.051516.xyz/20250524210234883.PNG" alt="31"></p><p><img src="https://img.051516.xyz/20250524210248367.PNG" alt="32"></p><p><img src="https://img.051516.xyz/20250524210258079.PNG" alt="33"></p><p><img src="https://img.051516.xyz/20250524210309675.PNG" alt="34"></p><p><img src="https://img.051516.xyz/20250524210319649.PNG" alt="35"></p><p><img src="https://img.051516.xyz/20250524210333008.PNG" alt="36"></p><p><img src="https://img.051516.xyz/20250524210342988.PNG" alt="37"></p><p><img src="https://img.051516.xyz/20250524210354944.PNG" alt="38"></p><p><img src="https://img.051516.xyz/20250524210407861.PNG" alt="39"></p><p><img src="https://img.051516.xyz/20250524210423100.PNG" alt="40"></p><p><img src="https://img.051516.xyz/20250524210434359.PNG" alt="41"></p><p><img src="https://img.051516.xyz/20250524210450567.PNG" alt="42"></p><p><img src="https://img.051516.xyz/20250524210503106.PNG" alt="43"></p><p><img src="https://img.051516.xyz/20250524210515428.PNG" alt="44"></p><p><img src="https://img.051516.xyz/20250524210527098.PNG" alt="45"></p><p><img src="https://img.051516.xyz/20250524210537936.PNG" alt="46"></p><p><img src="https://img.051516.xyz/20250524210549531.PNG" alt="47"></p><p><img src="https://img.051516.xyz/20250524210601981.PNG" alt="48"></p><p><img src="https://img.051516.xyz/20250524210614094.PNG" alt="49"></p><p><img src="https://img.051516.xyz/20250524210627091.PNG" alt="50"></p><p><img src="https://img.051516.xyz/20250524210637201.PNG" alt="51"></p><p><img src="https://img.051516.xyz/20250524210647926.PNG" alt="52"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://img.051516.xyz/20250524205528464.PNG&quot; alt=&quot;4&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img.051516.xyz/20250524205547050.PNG&quot; alt=&quot;5&quot;&gt;&lt;</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>SINAMICS G120D CU250-2PN速度控制调试步骤</title>
    <link href="http://blog.yuqi.fun/undefined/908d3d13.html"/>
    <id>http://blog.yuqi.fun/undefined/908d3d13.html</id>
    <published>2025-05-23T00:00:00.000Z</published>
    <updated>2025-05-23T00:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>1、打开SINAMICS STARTER软件，创建项目；<br>选择菜单Project -&gt; New…<br>或使用快捷按钮创建新项目。<br><img src="https://img.051516.xyz/20250523225816269.png" alt="image-20250523222741743"><br><img src="https://img.051516.xyz/20250523225840938.png" alt="image-20250523222747691"></p><p>2、用USB电缆连接电脑和CU240D控制器，设置<strong>PG&#x2F;PC</strong>接口。<br><img src="https://img.051516.xyz/20250523225903522.png" alt="image-20250523222804999"></p><p>3、使用网线连接PLC，通过PROFINET总线方式连接CU240D控制器，设置<strong>PG&#x2F;PC</strong>接口方式同USB连接。<br><img src="https://img.051516.xyz/20250523225926726.png" alt="image-20250523222819925"></p><p>4、使用如下方式搜索并连接变频器控制器。<br>(1).选择菜单”Project -&gt; Accessible node”  或使用快捷按钮    搜索变频器，如果没有搜索到变频器会显示“No further active partner can be found”(没有找到节点)请执行第(2)步，如果搜 索到变频器跳到第(6)步。<br><img src="https://img.051516.xyz/20250523225955108.png" alt="image-20250523222859036"></p><p>(2).点击”Access Point”按钮。<br><img src="https://img.051516.xyz/20250523230015877.png" alt="image-20250523222908513"></p><p>(3). 在Set Access Point for Accessible nodes页面选择正确的连接方式。<br><img src="https://img.051516.xyz/20250523230027484.png" alt="image-20250523222917891"><br><img src="https://img.051516.xyz/20250523230034591.png" alt="image-20250523222921962"></p><p>(4).点击”Update”按钮，开始搜索变频器。<br>(5).搜索到变频器在右侧Accessible nodes区域显示如下信息C显示内容与控制 单元型号有关)。 如果没有搜索到变频器请根据提示查找具体原因，或查看帮助文件。<br><img src="https://img.051516.xyz/20250523230042623.png" alt="image-20250523223006082"></p><p>(6).勾选搜索到的控制单元。<br>(7).点击“Accept”按钮。<br>(8).STARTER会自动把该变频器插入到项目中。<br>(9).点击按钮，进入 STARTER 在线模式。<br><img src="https://img.051516.xyz/20250523230127394.png"><br><img src="https://img.051516.xyz/20250523230049689.png" alt="image-20250523223107422"></p><p>(10). 点击”Connect to assigned devices”按钮，连接到驱动器。<br><img src="https://img.051516.xyz/20250523230101397.png" alt="image-20250523223117348"></p><p>(11). STARTER进入在线模式，右下角状态栏指示黄色”Online mode”状态。<br>(12).点击控制单元树形菜单下”Expert list”功能，右侧窗口打开专家列表，熟悉 SINAMICS G120D参数的人员，可以直接使用专家列表查看并修改变频器参数。<br><img src="https://img.051516.xyz/20250523230108744.png" alt="image-20250523223131065"></p><p>5、其他基本操作。<br><img src="https://img.051516.xyz/20250523230117107.png" alt="image-20250523223200504"></p><p>5.1、恢复工厂设置。<br>(1).点击     按钮，进入 STARTER 在线模式。<br><img src="https://img.051516.xyz/20250523230127394.png"></p><p>(2).点击”Restore factory settings”    按钮，变频器参数恢复出厂设置。<br><img src="https://img.051516.xyz/20250523230202306.png" alt="image-20250523223233618"></p><p>5.2、上传参数:变频器 -&gt; PG&#x2F;PC。<br>(1).点击     按钮，进入 STARTER 在线模式。<br><img src="https://img.051516.xyz/20250523230127394.png"></p><p>(2).点击“Load project to PG”     按钮。<br><img src="https://img.051516.xyz/20250523230207642.png" alt="image-20250523223343414"></p><p>(3).点击     按钮，将数据保存在 PG&#x2F;PC 中。<br><img src="https://img.051516.xyz/20250523230214796.png" alt="image-20250523223349703"></p><p>5.3、下载参数: PG&#x2F;PC -&gt; 变频器。<br>(1).点击     按钮，进入 STARTER 在线模式。<br><img src="https://img.051516.xyz/20250523230127394.png"></p><p>(2).点击“Download project to target system”     按钮，将项目下载到变频中。<br><img src="https://img.051516.xyz/20250523230220440.png" alt="image-20250523223407782"></p><p>(3).点击“Copy RAM to ROM”     按钮，将数据保存到变频器中。<br><img src="https://img.051516.xyz/20250523230228156.png" alt="image-20250523223416658"></p><p> <strong>注意：许多参数是可以在线修改的，在线修改完参数后需要重新上载到离线参数中，否则点击下载的话会将离线参数下载到变频器中。</strong></p><p>6、参数设置。<br>6.1、使用配置向导配置变频器系统基本参数。<br>(1).点击“Configuration” 。<br>(2).点击工作区内的“Wizard …”，弹出向导对话框，点击“Next”逐步进行配置。<br><img src="https://img.051516.xyz/20250523230237648.png" alt="image-20250523223430045"></p><p>(3).设置控制结构。<br><img src="https://img.051516.xyz/20250523230248176.png" alt="image-20250523223440470"></p><p>(4).定义命令源和设定值来源。<br><img src="https://img.051516.xyz/20250523230256863.png" alt="image-20250523223450414"></p><p>(5).驱动器设置。<br><img src="https://img.051516.xyz/20250523230303276.png" alt="image-20250523223458640"></p><p>(6).选择电机类型。<br><img src="https://img.051516.xyz/20250523230309577.png" alt="image-20250523223506895"></p><p>(7).输入与铭牌对应的电机数据。<br><img src="https://img.051516.xyz/20250523230315284.png" alt="image-20250523223516044"></p><p>(8).为电机数据识别选择“Identify motor data at standstill” 。<br><img src="https://img.051516.xyz/20250523230321833.png" alt="image-20250523223525334"></p><p>(9).输入最大电流，最小和最大转速，加、减速时间和 OFF3 紧急关闭减速时间。<br><img src="https://img.051516.xyz/20250523230331437.png" alt="image-20250523223534198"></p><p>(10).点击“Next”，将开始计算电机数据。这样便通过配置向导完成了参数设置。您现在将收到一份有关输入的所有参数值汇总。按“Copy text to clipboard”按键即可将汇总添加到文本文件。最后选择“Copy RAM to ROM”，将参数设置保存到变频器 ROM 存储器内，然后点击“Finish”关闭窗口。<br><img src="https://img.051516.xyz/20250523230338683.png" alt="image-20250523223542937"></p><p>6.2、若使用总线接口，应将默认外部I&#x2F;O配置清除（X07\X08\X09）。<br>(1).点击“Inputs&#x2F;Outputs”。<br>(2).点击工作区内X07\X08\X09对应引脚参数的按钮，弹出向导I&#x2F;O分配对话框。<br>(3).将该引脚对应参数前面的勾选去掉，并点击“OK”按钮，该引脚分配显示“—”。<br><img src="https://img.051516.xyz/20250523230345952.png" alt="image-20250523223552253"></p><p>6.3、其它基本参数设置。<br>(1).设置“Ramp-function generator”。<br><img src="https://img.051516.xyz/20250523230353888.png" alt="image-20250523223604732"></p><p>(2).设置“Motor potentiometer”。<br><img src="https://img.051516.xyz/20250523230400015.png" alt="image-20250523223613817"></p><p>(3).设置“P gain factor”和“Integration time”。<br><img src="https://img.051516.xyz/20250523230406143.png" alt="image-20250523223624398"></p><p>(4).设置“Upper torque limit”。<br><img src="https://img.051516.xyz/20250523230413146.png" alt="image-20250523223632096"></p><p>(5).设置“Current limitation ”。<br><img src="https://img.051516.xyz/20250523230419657.png" alt="image-20250523223641924"></p><p>(6).设置“Power limit ”。<br><img src="https://img.051516.xyz/20250523230425656.png" alt="image-20250523223649828"> </p><p>(7).设置“Low torque limit”。<br><img src="https://img.051516.xyz/20250523230431431.png" alt="image-20250523223702783"></p><p>6.4、电机抱闸设置。在步骤2处设置电机抱闸方式，调试时可通过步骤3-5来强制打开关闭抱闸功能。<br><img src="https://img.051516.xyz/20250523230438399.png" alt="image-20250523223710923"></p><p>设置G120D变频器的安全响应时间。P9659设置成最大值9000<br><img src="https://img.051516.xyz/20250523230445945.png" alt="image-20250523223720556"></p><p>6.5、配置安全功能。配置完成后将配置下载到变频器中即可，安全功能需断电重启。<br><img src="https://img.051516.xyz/20250523230452866.png" alt="image-20250523223729738"></p><p>PLC硬件组态中G120D变频器的安全地址值。<br><img src="https://img.051516.xyz/20250523230501004.png" alt="image-20250523223738733"></p><p>6.6、配置报文，即分配G120D变频器与PLC在PROFINET总线通信下的接口信号(包括PROFIsafe安全功能）。<br>(1).点击“Communication -&gt; Field bus”。<br>(2).配置报文类型。G120D变频器的报文有多种类型，对应着不同的接口信息，根据需要通过下拉菜单可选择不同种类的报文。除999自由报文外，其他种类报文为默认报文，其对应的接口信息无法修改，自由报文可以任意定义接口信息。沃尔沃项目采用的是999自由报文以及30 PROFIsafe标准安全报文。配置G120D变频器报文时，应保持与PLC硬件组态中配置报文类型一致。<br><img src="https://img.051516.xyz/20250523230508841.png" alt="image-20250523223747844"><br><img src="https://img.051516.xyz/20250523230515043.png" alt="image-20250523223752899"></p><p>(3).配置变频器安全报文控制字。<br><img src="https://img.051516.xyz/20250523230521428.png" alt="image-20250523223801670"></p><p>(4).配置变频器自由报文控制字。<br><img src="https://img.051516.xyz/20250523230528073.png" alt="image-20250523223811435"></p><p>(5).配置变频器安全报文状态字。<br><img src="https://img.051516.xyz/20250523230534628.png" alt="image-20250523223819506"></p><p>(6).配置变频器自由报文状态字。<br><img src="https://img.051516.xyz/20250523230543575.png" alt="image-20250523223827945"></p><p>(7).配置变频器自由报文控制字&#x2F;状态字监控。<br><img src="https://img.051516.xyz/20250523230550183.png" alt="image-20250523223837007"></p><p>7、电机试运行。<br>(1).在线模式下点击“Commissioning -&gt; Control panel”。<br>(2).点击工作台区域的“Assume control priority”。<br>(3).输入设置值，并点击“Accept”按钮。<br><img src="https://img.051516.xyz/20250523230559371.png" alt="image-20250523223845302"></p><p>(4).选中工作台区域中“Enables”旁的复选框。<br>(5).设置试运行速度。<br>(6).通过绿色&#x2F;红色按钮来启停电机，或使用JOG点动控制电机运行。<br><img src="https://img.051516.xyz/20250523230606413.png" alt="image-20250523223855097"></p><p>8、状态 LED 一览。<br>控制单元上有一排双色 LED 来指明变频器的运行状态。 具体而言，这些状态有：<br>● 一般故障状态<br>● 通讯状态<br>● 输入和输出的状态<br>● Safety Integrated 安全功能的状态<br>下图展示了各个 LED 在控制单元上的位置。<br><img src="https://img.051516.xyz/20250523230617834.png" alt="image-20250523223904225"></p><p>(1).一般状态 LED 的说明。<br><img src="https://img.051516.xyz/20250523230636359.png" alt="image-20250523223915427"></p><p>(2). PROFIBUS 通讯 LED 的说明。<br><img src="https://img.051516.xyz/20250523230641679.png" alt="image-20250523223923215"></p><p>(3). SAFE LED 的说明。<br><img src="https://img.051516.xyz/20250523230649731.png" alt="image-20250523223934820"></p><p>(4). PROFINET 通讯 LED 的说明。<br><img src="https://img.051516.xyz/20250523230655139.png" alt="image-20250523223943566"></p><p>(5).数字量输入输出状态 LED 的说明。<br><img src="https://img.051516.xyz/20250523230700922.png" alt="image-20250523223951803"></p><p>9、故障和警告列表。<br>详见附件列表。</p><p><strong>G120D Fault and Warning List.pdf</strong>：<a class="btn-beautify pink larger" href="https://pan.yuqi.fun/d/%E5%A4%A9%E7%BF%BC%E4%BA%91%E7%9B%98/%E8%B5%84%E6%96%99/%E6%96%87%E6%A1%A3/G120D%20Fault%20and%20Warning%20List.pdf" title="点击下载"><i class="far fa-hand-point-right"></i><span>点击下载</span></a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;1、打开SINAMICS STARTER软件，创建项目；&lt;br&gt;选择菜单Project -&amp;gt; New…&lt;br&gt;或使用快捷按钮创建新项目。&lt;br&gt;&lt;img src=&quot;https://img.051516.xyz/20250523225816269.png&quot; alt=&quot;i</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>MOVIFIT参数配置</title>
    <link href="http://blog.yuqi.fun/undefined/7f12cab4.html"/>
    <id>http://blog.yuqi.fun/undefined/7f12cab4.html</id>
    <published>2025-05-22T00:00:00.000Z</published>
    <updated>2025-05-22T00:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>1、 链接变频器，待变频器配置扫描到motion studio。如下图：<br><img src="https://img.051516.xyz/20250522194120280.jpg" alt="img"></p><p>2、右键点击： 变频器IP+Default 在弹出对话框中选择 Parameter Tree弹出上图对话框。</p><p>3、在参数树种点击Parameter AND functions 。选择FieldBus 中 Other Parameter。<br><img src="https://img.051516.xyz/20250522194126670.jpg" alt="img"><br>在F-target Address 中设置变频器安全参数（由PLC硬件组态中设置决定)</p><p>4、注意：只有变频器安全使能上电后我们才能扫描到变频器的功率单元。</p><p>5、右键点击DefaultLT 弹出如下画面：开始START UP<br><img src="https://img.051516.xyz/20250522194132967.jpg" alt="img"></p><p>6、点击右下角NEXT开始设置参数：下图为变频默认设置参数，直接点击NEXT<br><img src="https://img.051516.xyz/20250522194140114.jpg" alt="img"></p><p>7、选择变频器负载拖动型式。<br>FIXED 固定一台变频器<br>Switch able为可切换的电机<br>然后点击NEXT<br><img src="https://img.051516.xyz/20250522194148634.jpg" alt="img"></p><p>8.选择电机拖动负载数量 。选择ONE Motor 然后电机NEXT<br><img src="https://img.051516.xyz/20250522194154252.jpg" alt="img"></p><p>9、选择电机控制方式 标准V&#x2F;F控制 然后电机NEXT<br><img src="https://img.051516.xyz/clip_image014.jpg" alt="img"></p><p>10、选择运用模式：选择速度模式 然后选择NEXT<br><img src="https://img.051516.xyz/20250522194209980.jpg" alt="img"></p><p>11、选择电机型号。水平滚床电机为DRE100L4 然后电机NEXT<br><img src="https://img.051516.xyz/20250522194215214.jpg" alt="img"></p><p>12、选择电机信号，接线方式、温度保护、强冷风扇（一般没有）。点击NEXT<br><img src="https://img.051516.xyz/20250522194223443.jpg" alt="img"></p><p>13、选择抱闸类型 BE5A 400V 然后电机NEXT<br><img src="https://img.051516.xyz/20250522194228521.jpg" alt="img"></p><p>14、设置变频器电流、速度限制值。选择 accect SEW suggestion SEW建议值（<strong>不推荐使用建议值</strong>）。然后电机NEXT<br><img src="https://img.051516.xyz/20250522194245643.jpg" alt="img"></p><p>下一页需要设置转速为铭牌额定转速，最小转速60改为0，其他的不动</p><p>15、以上参数设置完成后电机FINISH将参数下载到变频器中。变频器参数设置完成<br><img src="https://img.051516.xyz/20250522194233764.jpg" alt="img"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;1、 链接变频器，待变频器配置扫描到motion studio。如下图：&lt;br&gt;&lt;img src=&quot;https://img.051516.xyz/20250522194120280.jpg&quot; alt=&quot;img&quot;&gt;&lt;/p&gt;
&lt;p&gt;2、右键点击： 变频器IP+Default 在</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>移载机SEW MOVIDRIVE 变频器配置手册（双编码器）</title>
    <link href="http://blog.yuqi.fun/undefined/4f7419e2.html"/>
    <id>http://blog.yuqi.fun/undefined/4f7419e2.html</id>
    <published>2025-05-22T00:00:00.000Z</published>
    <updated>2025-05-22T00:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="一、SEW变频器Startup"><a href="#一、SEW变频器Startup" class="headerlink" title="一、SEW变频器Startup"></a>一、SEW变频器Startup</h1><p>安装好MOVITOOL软件</p><p><img src="https://img.051516.xyz/20250522211420768.png" alt="image-20250522204456926"></p><p>打开创建好的项目开始配置通信连接</p><p><img src="https://img.051516.xyz/20250522211428346.png" alt="image-20250522204525245"></p><p>下面以以太网连接为例</p><p><img src="https://img.051516.xyz/20250522211435174.png" alt="image-20250522204553577"></p><p><img src="https://img.051516.xyz/20250522211440753.png" alt="image-20250522204622864"></p><p>当设置完成后，请一路OK回到软件管理画面</p><p><img src="https://img.051516.xyz/20250522211452463.png" alt="image-20250522204646120"></p><p>通信配置正确的软件界面状态</p><p><img src="https://img.051516.xyz/20250522211500726.png" alt="image-20250522204707808"></p><p>单击红色刷新图标</p><p><img src="https://img.051516.xyz/20250522211506743.png" alt="image-20250522204732227"></p><p>一切准备就绪后，单击已连接的变频器。会在软件管理中罗列出当前各项功能菜单。</p><p><img src="https://img.051516.xyz/20250522211526791.png" alt="image-20250522204750498"></p><p>下面我们开始参数配置：</p><p>参数设置一</p><p>单击参数列表</p><p><img src="https://img.051516.xyz/20250522211536263.png" alt="image-20250522204832268"></p><p><img src="https://img.051516.xyz/20250522211545286.png" alt="image-20250522204848233"></p><p>变频器参数重置完成后，回到SEW管理器画面选择</p><p><img src="https://img.051516.xyz/20250522211551830.png" alt="image-20250522204903815"></p><p>开始电机参数配置。</p><p>第一步配置电机基本参数参数</p><p>第二步配置变频器参数</p><p>第三步配置IPOS参数</p><p>出现下图配置画面：</p><p><img src="https://img.051516.xyz/20250522211556970.png" alt="image-20250522204922056"></p><p><img src="https://img.051516.xyz/20250522211605460.png" alt="image-20250522204935064"></p><p><img src="https://img.051516.xyz/20250522211612151.png" alt="image-20250522204948929"></p><p>选择矢量\伺服控制</p><p><img src="https://img.051516.xyz/20250522211636487.png" alt="image-20250522205011792"></p><p>选择下一步。</p><p><img src="https://img.051516.xyz/20250522211621582.png" alt="image-20250522205025251"></p><p>选择电机类型。</p><p><img src="https://img.051516.xyz/20250522211648706.png" alt="image-20250522205042278"></p><p>选择电机对应的型号和输入电源的额定电压和频率值</p><p><img src="https://img.051516.xyz/20250522211659160.png" alt="image-20250522205058945"></p><p>选择使用的编码器</p><p><img src="https://img.051516.xyz/20250522211705047.png" alt="image-20250522205115647"></p><p>选择变频器IPOS工作模式。</p><p><img src="https://img.051516.xyz/20250522211711639.png" alt="image-20250522205143590"></p><p>选择压频控制（VFC）模式</p><p><img src="https://img.051516.xyz/20250522211718088.png" alt="image-20250522205154059"></p><p>惯性选择</p><p>弹出下图</p><p><img src="https://img.051516.xyz/20250522211739760.png" alt="image-20250522205329862"></p><p>选择是否启用电机抱闸。</p><p><img src="https://img.051516.xyz/20250522211747415.png" alt="image-20250522205348345"></p><p>参数设置part1</p><p><img src="https://img.051516.xyz/20250522211819997.png" alt="image-20250522205423812"></p><p>参数设置part2</p><p><img src="https://img.051516.xyz/20250522211831478.png" alt="image-20250522205442378"></p><p>参数设置part3</p><p><img src="https://img.051516.xyz/20250522211836809.png" alt="image-20250522205459889"></p><p>点击“下载”，然后单击“设置变频器，“完成”</p><p><img src="https://img.051516.xyz/20250522211843403.png" alt="image-20250522205518921"></p><h1 id="二、SEW变频器总线扩展定位设置"><a href="#二、SEW变频器总线扩展定位设置" class="headerlink" title="二、SEW变频器总线扩展定位设置"></a>二、SEW变频器总线扩展定位设置</h1><p>点击2.SEW总线扩展定位，定位块设置。</p><p><img src="https://img.051516.xyz/20250522211849177.png" alt="image-20250522205619412"></p><p><img src="https://img.051516.xyz/20250522205630853.png" alt="image-20250522205630853"></p><p><img src="https://img.051516.xyz/20250522211912978.png" alt="image-20250522205642616"></p><p>选择位移编码器类型</p><p><img src="https://img.051516.xyz/20250522211919035.png" alt="image-20250522205658095"></p><p><img src="https://img.051516.xyz/20250522211934232.png" alt="image-20250522205706074"></p><p><img src="https://img.051516.xyz/20250522211923657.png" alt="image-20250522205711381"></p><p><img src="https://img.051516.xyz/20250522211941581.png" alt="image-20250522205717432"></p><p>移载机内置编码器和外置编码器匹配。</p><p><img src="https://img.051516.xyz/20250522211948129.png" alt="image-20250522205733747"></p><p>提示：做这一步时，如果出现电机不能转动，或产生报警不能通过编码器匹配。需要检查以下内容：</p><p>1电机不能转动：</p><p>a可能是由于变频器的安全24V未给</p><p>b电机抱闸未打开</p><p>c机械设备运动到极限位置或被锁定</p><p>2变频器报警：a速度故障编码器线缆有接触不良或错误如同下图</p><p><img src="https://img.051516.xyz/20250522211957143.png" alt="image-20250522205831537"></p><p>单击下一步</p><p><img src="https://img.051516.xyz/20250522212003541.png" alt="image-20250522205846506"></p><p>单击下一步</p><p><img src="https://img.051516.xyz/20250522212010638.png" alt="image-20250522205903857"></p><p>单击下一步</p><p><img src="https://img.051516.xyz/20250522212020133.png" alt="image-20250522205929872"></p><p>编码器匹配通过后点击下一步，进入下图画面传送参考位置。</p><p>提示：传送参考位置前请断开变频器安全24V电源，否则会弹出禁止修改提示框；修改成功后也会弹出提示框，根据提示继续配置。</p><p><img src="https://img.051516.xyz/20250522212026198.png" alt="image-20250522205951899"></p><p>单击“完成”。</p><p><img src="https://img.051516.xyz/20250522212032184.png" alt="image-20250522210003836"></p><h1 id="三、-IPOS配置"><a href="#三、-IPOS配置" class="headerlink" title="三、 IPOS配置"></a>三、 IPOS配置</h1><p><img src="https://img.051516.xyz/20250522212039234.png" alt="image-20250522210033621"></p><p>设置通信总线类型为Profinet，单击下一步</p><p><img src="https://img.051516.xyz/20250522212044956.png" alt="image-20250522210130165"></p><p>参数设置单击下一步</p><p><img src="https://img.051516.xyz/20250522212052156.png" alt="image-20250522210205472"></p><p>变频器软限位，及参考类型设置单击下一步</p><p><img src="https://img.051516.xyz/20250522212058553.png" alt="image-20250522210229213"></p><p><img src="https://img.051516.xyz/20250522212105838.png" alt="image-20250522210236898"></p><p>选择“否“不保存</p><p>下载配置的参数，提示：下载参数需要断开变频器的安全24V电源</p><p><img src="https://img.051516.xyz/20250522212111341.png" alt="image-20250522210301645"></p><p>点“yes”监控状态</p><p><img src="https://img.051516.xyz/20250522212118310.png" alt="image-20250522210316464"></p><p><img src="https://img.051516.xyz/20250522212125742.png" alt="image-20250522210352603"></p><p>参考设置No.1</p><p><img src="https://img.051516.xyz/20250522212132048.png" alt="image-20250522210417474"></p><p>参考设置No.2</p><p><img src="https://img.051516.xyz/20250522212143689.png" alt="image-20250522210438966"></p><p>参考设置No.3</p><p>选择PO1 第2,3,9,13 位，点击“SendPA”Start reference，编码器反馈值为0（PI2&#x2F;3 Actual position&#x3D;0）</p><p><img src="https://img.051516.xyz/20250522212151212.png" alt="image-20250522210537816"></p><p>设置完成这些参数，可以测试运行电机。</p><p><img src="https://img.051516.xyz/20250522212158850.png" alt="image-20250522210558705"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;一、SEW变频器Startup&quot;&gt;&lt;a href=&quot;#一、SEW变频器Startup&quot; class=&quot;headerlink&quot; title=&quot;一、SEW变频器Startup&quot;&gt;&lt;/a&gt;一、SEW变频器Startup&lt;/h1&gt;&lt;p&gt;安装好MOVITOOL软件&lt;/p&gt;
</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>SEW MOVIPRO调试步骤</title>
    <link href="http://blog.yuqi.fun/undefined/f5fecf87.html"/>
    <id>http://blog.yuqi.fun/undefined/f5fecf87.html</id>
    <published>2025-05-20T00:00:00.000Z</published>
    <updated>2025-05-20T00:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="创建项目-添加设备并配置"><a href="#创建项目-添加设备并配置" class="headerlink" title="创建项目-添加设备并配置"></a>创建项目-添加设备并配置</h1><p>1、打开MOVITOOLS MotionStudio软件，创建项目；<br><img src="https://img.051516.xyz/20250520230954862.png" alt="image-20250520230940811"></p><p>2、用Ethernet线缆连接电脑和MoviPro控制器的service unit。点击“communication”，创建通讯方式；<br><img src="https://img.051516.xyz/20250520231006027.png" alt="image-20250520230948605"></p><p>3、设备初始IP地址为192.168.10.4，将电脑IP地址与其设在同一网段下，点击“OK”即可建立Ethernet连接；如果设备IP地址已被更改，点击“edit”；<br><img src="https://img.051516.xyz/20250520231113431.png" alt="image-20250520224324421"></p><p>4、添加新的IP地址；<br><img src="https://img.051516.xyz/20250520231011496.png" alt="image-20250520224341744"></p><p>5、网络连接建立完成；<br><img src="https://img.051516.xyz/20250520231122633.png" alt="image-20250520224354597"></p><p>6、扫描网络中的设备；<br><img src="https://img.051516.xyz/20250520231131139.png" alt="image-20250520224412310"></p><p>7、设备扫描完成；<br><img src="https://img.051516.xyz/20250520231137902.png" alt="image-20250520224428869"></p><p>8、点击设备属性；<br><img src="https://img.051516.xyz/20250520231146176.png" alt="image-20250520224518855"></p><p>9、设置设备名称；<br><img src="https://img.051516.xyz/20250520231200252.png" alt="image-20250520224532942"></p><p>8、进行设备硬件配置；<br><img src="https://img.051516.xyz/20250520231153579.png" alt="image-20250520224548176"></p><p>11、选择需要配置的设备；<br><img src="https://img.051516.xyz/20250520231210043.png" alt="image-20250520224559520"></p><p>12、点击“确定”；<br><img src="https://img.051516.xyz/20250520231221238.png" alt="image-20250520224613368"></p><p>13、硬件配置完成；<br><img src="https://img.051516.xyz/20250520231228687.png" alt="image-20250520224629428"></p><h1 id="配置电机参数"><a href="#配置电机参数" class="headerlink" title="配置电机参数"></a>配置电机参数</h1><p>14、进行power section初始化；<br><img src="https://img.051516.xyz/20250520231239923.png" alt="image-20250520224645469"></p><p>15、点击“perform startup”，开始初始化；<br><img src="https://img.051516.xyz/20250520231248547.png" alt="image-20250520224657723"></p><p>16、如果编码器中有电机的电子铭牌。选择接受编码器铭牌信息，点击“next”;<br><img src="https://img.051516.xyz/20250520231257891.png" alt="image-20250520224711463"></p><p>17、如果编码器中没有电机的电子铭牌。需要对照电机铭牌，将编码器的电子铭牌手动输入 ；<br><img src="https://img.051516.xyz/20250520231305618.png" alt="image-20250520224722270"></p><p>18、对照电机铭牌，确认编码器型号，之后点击“next”；<br><img src="https://img.051516.xyz/20250520231315922.png" alt="image-20250520224736776"></p><p>19、编码器配置完成，点击“next”，开始电机初始化；<br><img src="https://img.051516.xyz/20250520231327038.png" alt="image-20250520224747069"></p><p>20、点击“startup set-1”,进行parameter set-1设置；<br><img src="https://img.051516.xyz/20250520231334194.png" alt="image-20250520224801440"></p><p>21、选择“Execute complete start-up（执行完整的初始化）”；<br><img src="https://img.051516.xyz/20250520231349687.png" alt="image-20250520224813064"></p><p>22、选择“Stand-alone motor &gt; Vector-controlled&#x2F;Servo（独立电机 &gt; 矢量控制&#x2F;伺服电机）”；<br><img src="https://img.051516.xyz/20250520231358793.png" alt="image-20250520224822876"></p><p>23、参照电机铭牌，检查电机及编码器信息是否准确；<br><img src="https://img.051516.xyz/20250520231410958.png" alt="image-20250520224837420"></p><p>24、检查电机类型信息；<br><img src="https://img.051516.xyz/20250520231419435.png" alt="image-20250520224848845"></p><p>25、输入电源电压，定义参数P835“电机温度传感器的响应”，定义参数P530“电机温度传感器类型”（例如TF&#x2F;TH）；<br><img src="https://img.051516.xyz/20250520231428193.png" alt="image-20250520224926604"></p><p>26、选择“Yes, I use the encoder.（使用编码器）”；<br><img src="https://img.051516.xyz/20250520231436016.png" alt="image-20250520224938904"></p><p>27、操作模式选择“Positioning with IPOS（IPOS程序定位模式）”；<br><img src="https://img.051516.xyz/20250520231442842.png" alt="image-20250520225002622"></p><p>28、选择“CFC（电流矢量控制）模式”；<br><img src="https://img.051516.xyz/20250520231449119.png" alt="image-20250520225015957"></p><p>29、准确填写WEISS计算的load inertia（负载转动惯量），drive选择“With Backlash”；<br><img src="https://img.051516.xyz/20250520231503423.png" alt="image-20250520225026004"></p><p>30、相关参数使用WEISS所提供参数表中的建议参数，其它参数选择“Apply Proposal（使用推荐值）”；<br><img src="https://img.051516.xyz/20250520231511679.png" alt="image-20250520225036799"></p><p>31、转速控制器参数选择“Apply Proposal（使用推荐值）”；<br><img src="https://img.051516.xyz/20250520231536940.png" alt="image-20250520225058582"></p><p>32、 相关参数使用WEISS所提供参数表中的建议参数，剩余参数选择“Apply Proposal（使用推荐值）”；<br><img src="https://img.051516.xyz/20250520231544207.png" alt="image-20250520225108975"></p><p>33、点击“完成”，将初始化信息下载至控制器。如需配置parameter set-2，点击“download”，再进行参数包2的配置；<br><img src="https://img.051516.xyz/20250520231552525.png" alt="image-20250520225121142"></p><p>34、初始化完全完成后，会跳出提示框，点击“确定”；<br><img src="https://img.051516.xyz/20250520231600145.png" alt="image-20250520225138383"></p><h1 id="设置其他参数"><a href="#设置其他参数" class="headerlink" title="设置其他参数"></a>设置其他参数</h1><p>35、点击“parameter tree”，进行WEISS所提供参数表中其它相关参数的设置；<br><img src="https://img.051516.xyz/20250520231606894.png" alt="image-20250520225149596"></p><p>36、例如，P911定位斜坡1，P913&#x2F;P914运转转速CW&#x2F;CCW，P916斜坡形式需设为“Jerk-Limited”；<br><img src="https://img.051516.xyz/20250520231616480.png" alt="image-20250520225202404"></p><p>37、例如，P933突变时间；<br><img src="https://img.051516.xyz/20250520231626629.png" alt="image-20250520225213331"></p><h1 id="手动控制"><a href="#手动控制" class="headerlink" title="手动控制"></a>手动控制</h1><p>38、参数配置为在线实时进行，完成后，点击“manual mode”手动模式；<br><img src="https://img.051516.xyz/20250520231642297.png" alt="image-20250520225223204"></p><p>39、点击“Activate manual mode”，激活手动模式。此时插上jumper plug，设置速度，方向，即可进行转台正反停控制；<br><img src="https://img.051516.xyz/20250520231656405.png" alt="image-20250520225234230"></p><p>40、手动模式下，转台运行正常后，将转台旋转至机械零点位置，点击“Deactivate manual mode”，退出手动模式，拔下jumper plug;<br><img src="https://img.051516.xyz/20250520231705779.png" alt="image-20250520225246305"></p><h1 id="模块应用配置"><a href="#模块应用配置" class="headerlink" title="模块应用配置"></a>模块应用配置</h1><p>41、点击“Application Configurator”，进行模块应用配置；<br><img src="https://img.051516.xyz/20250520231712618.png" alt="image-20250520225301025"></p><p>42、点击“Create new configuration”,创建新的模块应用配置；<br><img src="https://img.051516.xyz/20250520231719182.png" alt="image-20250520225312698"></p><p>43、Application module 选择“transparent 6PD”;<br><img src="https://img.051516.xyz/20250520231726816.png" alt="image-20250520225325321"></p><p>44、点击“configuration”，完成后标志变绿色，点击“next”；<br><img src="https://img.051516.xyz/20250520231734076.png" alt="image-20250520225340848"></p><p>45、点击“Save complete configuration”，可保存应用配置文件；<br><img src="https://img.051516.xyz/20250520231740533.png" alt="image-20250520225402973"></p><p>46、点击“Document configuration”,可将应用配置保存为.pdf文件；<br><img src="https://img.051516.xyz/20250520231747555.png" alt="image-20250520225422513"></p><p>47、若应用配置软件版本不同，选择“with controller software”，将软件和应用配置下载至设备。过程持续可能20分钟，注意电脑和设备此时不能断电；<br><img src="https://img.051516.xyz/20250520231757343.png" alt="image-20250520225434600"></p><p>48、点击“确定”，重启设备;<br><img src="https://img.051516.xyz/20250520231804084.png" alt="image-20250520225445136"></p><p>49、应用配置完成；<br><img src="https://img.051516.xyz/20250520231811471.png" alt="image-20250520225459428"></p><h1 id="配置AMA0801"><a href="#配置AMA0801" class="headerlink" title="配置AMA0801"></a>配置AMA0801</h1><p>50、创建AMA0801模块；<br><img src="https://img.051516.xyz/20250520231822010.png" alt="image-20250520225524162"></p><p>51、点击“Load a configuration”，下载已保存的应用模块，或者点击“next”，开始初始化AMA0801模块；<br><img src="https://img.051516.xyz/20250520231828978.png" alt="image-20250520225540943"></p><p>52、总线参数和控制器配置页面，“Application mode”选择“Binary setpoint”;<br><img src="https://img.051516.xyz/20250520231837827.png" alt="image-20250520225551310"></p><p>53、刻度计算页面，“Diameter&#x2F;spindle pitch”的单位选择“inc”;<br><img src="https://img.051516.xyz/20250520231844945.png" alt="image-20250520225604832"></p><p>54、参数和极限页面，若使用硬件限位开关，需将CW和CCW限位开关接到设备X5102_2，同时在软件上选择“YES”，“parameter tree”中将P603和P604端子功能设置为相应的限位功能。如果没有原点传感器，寻找参考点模式选择5，即将当前点作为原点。同时可根据WEISS参数表设置各种模式下极限速度；<br><img src="https://img.051516.xyz/20250520231851607.png" alt="image-20250520225621665"></p><p>55、设置定位和点动模式高低速、加减速时间，以及 至设置设备行走各个位置的速度及加减速时间；<br><img src="https://img.051516.xyz/20250520231859909.png" alt="image-20250520225632316"></p><p>56、设置定位窗口和设备行走的位置；<br><img src="https://img.051516.xyz/20250520231908210.png" alt="image-20250520225645477"></p><p>57、设置cam switch；<br><img src="https://img.051516.xyz/20250520231915883.png" alt="image-20250520225706528"></p><p>58、监控设置页面，建议使用其默认参数；<br><img src="https://img.051516.xyz/20250520231922866.png" alt="image-20250520225717710"></p><p>59、点击“save configutation”，可保存AMA配置文件；<br><img src="https://img.051516.xyz/20250520231930036.png" alt="image-20250520225728063"></p><p>60、点击“create documentation”，可将AMA配置保存为.pdf文件；<br><img src="https://img.051516.xyz/20250520231936652.png" alt="image-20250520225738609"></p><p>61、点击“download”，将AMA应用模块配置下载至设备；<br><img src="https://img.051516.xyz/20250520231948547.png" alt="image-20250520225759312"></p><h1 id="总线控制"><a href="#总线控制" class="headerlink" title="总线控制"></a>总线控制</h1><p>62、下载完成后，软件自动跳至总线控制监视器；<br><img src="https://img.051516.xyz/20250520232005174.png" alt="image-20250520225808792"></p><p>63、点击“control”，确定弹出对话框；<br><img src="https://img.051516.xyz/20250520232013724.png" alt="image-20250520225818826"></p><p>64、插上jumper plug，控制模式选为“reference mode（寻参模式）”，点击“start”，即可将当前机械零点设为电气零点；<br><img src="https://img.051516.xyz/20250520232021615.png" alt="image-20250520225830987"></p><p>65、寻参结束后，PO2状态字中当前位置会变为0 inc;<br><img src="https://img.051516.xyz/20250520232029384.png" alt="image-20250520225841553"></p><p>66、选择“jog mode（点动模式）”，即可模拟总线进行点动控制；<br><img src="https://img.051516.xyz/20250520232037665.png" alt="image-20250520225851198"></p><p>67、选择“positioning mode（定位模式）”，选择位置，即可模拟总线进行定位控制；<br><img src="https://img.051516.xyz/20250520232045036.png" alt="image-20250520225859987"></p><p>68、模拟总线控制转台运转正常之后，取消控制字，拔下jumper plug，点击“monitor”，退出控制模式；<br><img src="https://img.051516.xyz/20250520232051720.png" alt="image-20250520225909761"></p><h1 id="数据管理"><a href="#数据管理" class="headerlink" title="数据管理"></a>数据管理</h1><p>69、点击“Datamanagement”；<br><img src="https://img.051516.xyz/20250520232100983.png" alt="image-20250520225920732"></p><p>70、点击“upload”，将设备中数据备份到SD卡；<br><img src="https://img.051516.xyz/20250520232108798.png" alt="image-20250520225930647"></p><p>71、点击“start upload”，开始备份数据；<br><img src="https://img.051516.xyz/20250520232116388.png" alt="image-20250520225958505"></p><p>72、备份完成；<br><img src="https://img.051516.xyz/20250520232124675.png" alt="image-20250520225942038"></p><p>73、点击“export”，将power section参数导出；<br><img src="https://img.051516.xyz/20250520232133052.png" alt="image-20250520230018000"></p><p>74、点击“export”，将control and communication unit参数导出；<br><img src="https://img.051516.xyz/20250520232141408.png" alt="image-20250520230027041"></p><p>75、点击“save”，保存项目；<br><img src="https://img.051516.xyz/20250520232149043.png" alt="image-20250520230037252"></p><p>76、点击“export”，可将此项目导出为.exe文件；<br><img src="https://img.051516.xyz/20250520232157540.png" alt="image-20250520230047342"></p><h1 id="初始化"><a href="#初始化" class="headerlink" title="初始化"></a>初始化</h1><p>77、若需初始化控制器，可在“parameter tree”P802中选择“delivery state”，将控制器还原为出厂状态。<br><img src="https://img.051516.xyz/20250520232205573.png" alt="image-20250520230056017"></p><h1 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h1><p>1、变频器安全参照MOVIFIT设置右键点击20 Default<br><img src="https://img.051516.xyz/20250522195109917.jpg" alt="img"></p><p>2、变频器硬件组态输入输出数据为 8 WORD.<br><img src="https://img.051516.xyz/20250522195116416.jpg" alt="img"></p><p>3、选择<br><img src="https://img.051516.xyz/20250522195121633.jpg" alt="img"><br>读取编码器中电机参数 ，电机NEXT<br><img src="https://img.051516.xyz/20250522195127315.jpg" alt="img"></p><p>4、开始设置变频器参数 电机START-UP SET1<br><img src="https://img.051516.xyz/20250522195131943.jpg" alt="img"></p><p>5、选择完成执行参数初始化<br><img src="https://img.051516.xyz/20250522195136752.jpg" alt="img"></p><p>6、选择私服控制<br><img src="https://img.051516.xyz/20250522195141348.jpg" alt="img"></p><p>7、选择电机型号。本项目中是读取编码器中电机数据故无需设置<br><img src="https://img.051516.xyz/20250522195149268.jpg" alt="img"></p><p>8、选择PositionWith IPOS<br><img src="https://img.051516.xyz/20250522195155150.jpg" alt="img"> </p><p>9、选择矢量控制<br><img src="https://img.051516.xyz/20250522195201283.jpg" alt="img"></p><p>10、设置电机转动惯量和抱闸应用<br><img src="https://img.051516.xyz/20250522195208507.jpg" alt="img"></p><p>11、电机参数选择SEW建议值， APPLY PROPOSAL电机NEXT<br><img src="https://img.051516.xyz/20250522195215400.jpg" alt="img"></p><p>12、参数设置完成，电机完成将参数下载到变频器、<br><img src="https://img.051516.xyz/20250522195221191.jpg" alt="img"></p><p>13、设置变频器IPOS应用、选择Extened Positioning Via Bus<br><img src="https://img.051516.xyz/20250522195226479.jpg" alt="img"></p><p>14、电机NEXT<br><img src="https://img.051516.xyz/20250522195231631.jpg" alt="img"></p><p>15、设置滚床机械参数。由于采用脉冲定位方式故直接电机NEXT<br><img src="https://img.051516.xyz/20250522195237098.jpg" alt="img"></p><p>16、设置变频器软限位和校零方式<br><img src="https://img.051516.xyz/20250522195242608.jpg" alt="img"></p><p>17、参数设置完成电机DOWN load下载参数<br><img src="https://img.051516.xyz/20250522195249177.jpg" alt="img"></p><p>18、选择YES可以查看变频器控制字和状态字<br><img src="https://img.051516.xyz/20250522195255788.jpg" alt="img"></p><p>19、MONITOR MODE和 CONTROL模式可以监控变频器状态或者控制变频器定位（由PC控制）<br><img src="https://img.051516.xyz/20250522195303798.jpg" alt="img"></p><p>20、巡参模式控制字<br><img src="https://img.051516.xyz/20250522195310346.jpg" alt="img"></p><p>21、定位模式状态字。定位的前提是变频器必须巡参，需要设置目的值、速度、加减速度<br><img src="https://img.051516.xyz/20250522195316220.jpg" alt="img"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;创建项目-添加设备并配置&quot;&gt;&lt;a href=&quot;#创建项目-添加设备并配置&quot; class=&quot;headerlink&quot; title=&quot;创建项目-添加设备并配置&quot;&gt;&lt;/a&gt;创建项目-添加设备并配置&lt;/h1&gt;&lt;p&gt;1、打开MOVITOOLS MotionStudio软件，创</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>针对Prodiag现场License弹窗的解决方法</title>
    <link href="http://blog.yuqi.fun/undefined/2622eae5.html"/>
    <id>http://blog.yuqi.fun/undefined/2622eae5.html</id>
    <published>2025-05-10T00:00:00.000Z</published>
    <updated>2025-05-10T00:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>问题：触摸屏报缺少相关的License Key</p><p><img src="https://img.051516.xyz/20250510170721371.png" alt="image-20250510165712437"></p><p>打开2018版EKB秘钥（无法找到秘钥，请更换此2018秘钥）</p><p> <img src="https://img.051516.xyz/20250510170736105.png" alt="image-20250510165723510"></p><p>选择此秘钥，安装长秘钥，</p><p><img src="https://img.051516.xyz/20250510170745318.png" alt="image-20250510165728998"></p><p>方法一：</p><p>打开软件</p><p><img src="https://img.051516.xyz/20250510170755265.png" alt="image-20250510165801227"></p><p>选择下图秘钥—</p><p><img src="https://img.051516.xyz/20250510170801052.png" alt="image-20250510165808104"></p><p>找到下图秘钥–右键点击Transfer</p><p>打开Tansfer 窗口，电脑与HMI屏幕连接后，可以找到需要下载的HMI设备（有具体IP地址），OK确认</p><p><img src="https://img.051516.xyz/20250510170807531.png" alt="image-20250510165818850"></p><p>方法二：也可以右键相关HMI的此属性，打开授权许可</p><p><img src="https://img.051516.xyz/20250510170813884.png" alt="image-20250510165826870"></p><p>找到相关HMI设备。</p><p><img src="https://img.051516.xyz/20250510170821004.png" alt="image-20250510165833281"></p><p>注意：授权传送之后会提示成功，传送成功后授权若消失重新使用EKb安装一遍即可出现。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;问题：触摸屏报缺少相关的License Key&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img.051516.xyz/20250510170721371.png&quot; alt=&quot;image-20250510165712437&quot;&gt;&lt;/p&gt;
&lt;p&gt;打开2018版EKB秘钥</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>SEW Scope曲线监控</title>
    <link href="http://blog.yuqi.fun/undefined/c4294855.html"/>
    <id>http://blog.yuqi.fun/undefined/c4294855.html</id>
    <published>2025-01-05T00:00:00.000Z</published>
    <updated>2025-01-05T00:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="打开备份的SEW文件，点击Scope"><a href="#打开备份的SEW文件，点击Scope" class="headerlink" title="打开备份的SEW文件，点击Scope"></a>打开备份的SEW文件，点击Scope</h3><p><img src="https://img.051516.xyz/202501051439031.png" alt="image-20250105143536600"></p><h3 id="进入Scope界面"><a href="#进入Scope界面" class="headerlink" title="进入Scope界面"></a>进入Scope界面</h3><p><img src="https://img.051516.xyz/202501051439072.png" alt="image-20250105143550152"></p><h3 id="在菜单栏中点击新建文件按钮，并新创建一个模板"><a href="#在菜单栏中点击新建文件按钮，并新创建一个模板" class="headerlink" title="在菜单栏中点击新建文件按钮，并新创建一个模板"></a>在菜单栏中点击新建文件按钮，并新创建一个模板</h3><p><img src="https://img.051516.xyz/202501051439108.png" alt="image-20250105143632298"></p><h3 id="模板中设置好监控选项，并保存为名称为Scope的-sct文件"><a href="#模板中设置好监控选项，并保存为名称为Scope的-sct文件" class="headerlink" title="模板中设置好监控选项，并保存为名称为Scope的.sct文件"></a>模板中设置好监控选项，并保存为名称为Scope的.sct文件</h3><p><img src="https://img.051516.xyz/202501051439154.png" alt="image-20250105143656071"></p><h3 id="再次在Scope菜单栏中点击新建，在模板中选择我们创建的Scope模板，然后点OK，进入Scope监控界面"><a href="#再次在Scope菜单栏中点击新建，在模板中选择我们创建的Scope模板，然后点OK，进入Scope监控界面" class="headerlink" title="再次在Scope菜单栏中点击新建，在模板中选择我们创建的Scope模板，然后点OK，进入Scope监控界面"></a>再次在Scope菜单栏中点击新建，在模板中选择我们创建的Scope模板，然后点OK，进入Scope监控界面</h3><p><img src="https://img.051516.xyz/202501051439188.png" alt="image-20250105143719967"></p><h3 id="进入Scope界面后点击记录设置，出现我们刚才设置的模板，点击Start按钮准备记录Scope曲线。在HMI上手动操作滑台动作就会自动触发记录运行曲线"><a href="#进入Scope界面后点击记录设置，出现我们刚才设置的模板，点击Start按钮准备记录Scope曲线。在HMI上手动操作滑台动作就会自动触发记录运行曲线" class="headerlink" title="进入Scope界面后点击记录设置，出现我们刚才设置的模板，点击Start按钮准备记录Scope曲线。在HMI上手动操作滑台动作就会自动触发记录运行曲线"></a>进入Scope界面后点击记录设置，出现我们刚才设置的模板，点击Start按钮准备记录Scope曲线。在HMI上手动操作滑台动作就会自动触发记录运行曲线</h3><p><strong>注意：根据模板里面的设置，最大记录时间为40.96s，因此来回滑动的时间需要控制在40s以内，否则超时的那部分运行曲线无法获取。如果需要调整最大记录时间，可以调整Sample Time。</strong></p><p><img src="https://img.051516.xyz/202501051439213.png" alt="image-20250105143805277"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h3 id=&quot;打开备份的SEW文件，点击Scope&quot;&gt;&lt;a href=&quot;#打开备份的SEW文件，点击Scope&quot; class=&quot;headerlink&quot; title=&quot;打开备份的SEW文件，点击Scope&quot;&gt;&lt;/a&gt;打开备份的SEW文件，点击Scope&lt;/h3&gt;&lt;p&gt;&lt;img s</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>1panel面板部署哪吒监控v1</title>
    <link href="http://blog.yuqi.fun/undefined/aad1ff9e.html"/>
    <id>http://blog.yuqi.fun/undefined/aad1ff9e.html</id>
    <published>2025-01-03T00:00:00.000Z</published>
    <updated>2025-01-03T00:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="域名解析"><a href="#域名解析" class="headerlink" title="域名解析"></a>域名解析</h1><p>面板域名以<code>nezha.a.com</code>为例</p><p>Cloudflare中添加A记录<code>nezha.a.com</code>指向Dashboard 服务器 IP，开启小黄云。<code>a.com</code>域名设置页面——网络，选择开启WebSockets 和 gRPC ；SSL&#x2F;TLS模式选择完全（严格）。</p><h1 id="哪吒搭建"><a href="#哪吒搭建" class="headerlink" title="哪吒搭建"></a>哪吒搭建</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo mkdir -p /opt/nezha &amp;&amp; cd /opt/nezha</span><br><span class="line">nano docker-compose.yml</span><br><span class="line">docker compose up -d</span><br></pre></td></tr></table></figure><p>docker-compose.yml文件：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">services:</span><br><span class="line">  dashboard:</span><br><span class="line">    container_name: nezha-dashboard</span><br><span class="line">    image: ghcr.io/nezhahq/nezha:latest</span><br><span class="line">    restart: unless-stopped</span><br><span class="line">    volumes:</span><br><span class="line">      - ./dashboard/data:/dashboard/data</span><br><span class="line">    ports:</span><br><span class="line">      - 8008:8008</span><br></pre></td></tr></table></figure><h1 id="反代设置"><a href="#反代设置" class="headerlink" title="反代设置"></a>反代设置</h1><p>反代设置代码来源：<a href="https://www.nodeseek.com/jump?to=https://misaka.es/archives/42.html">https://misaka.es/archives/42.html</a></p><p>1panel面板中新建反向代理网站，<code>网站 —— 创建网站 —— 反向代理</code>，主域名填写<code>nezha.a.com</code>，代理地址填写<code>127.0.0.1:8008</code></p><p>证书页面自行设置Acme账户、DNS账户为<code>nezha.a.com</code>申请证书。</p><p>网站页面点击<code>nezha.a.com</code>进入网站设置，开启https。</p><p>点击配置文件，最下方添加以下代码，保存并重载。<br><img src="https://img.051516.xyz/202501031701543.png" alt="image"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># upstream 配置</span><br><span class="line">upstream dashboard &#123;</span><br><span class="line">    keepalive 512; </span><br><span class="line">    server 127.0.0.1:8008; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>打开<code>网站 —— 反向代理 —— 源文</code>，使用以下代码替换原内容，点击确认。至此，反向代理设置完成。<br><img src="https://img.051516.xyz/202501031701795.png" alt="image"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">location ^~ / &#123;</span><br><span class="line">    proxy_pass http://127.0.0.1:8008; </span><br><span class="line">    proxy_set_header Host $host; </span><br><span class="line">    proxy_set_header X-Real-IP $remote_addr; </span><br><span class="line">    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; </span><br><span class="line">    proxy_set_header REMOTE-HOST $remote_addr; </span><br><span class="line">    proxy_set_header Upgrade $http_upgrade; </span><br><span class="line">    proxy_set_header nz-realip $http_cf_connecting_ip;</span><br><span class="line">    proxy_set_header Connection &quot;upgrade&quot;;</span><br><span class="line">    proxy_set_header X-Forwarded-Proto $scheme;</span><br><span class="line">    proxy_http_version 1.1; </span><br><span class="line">    proxy_read_timeout 3600s;</span><br><span class="line">    proxy_send_timeout 3600s;</span><br><span class="line">    proxy_buffer_size 128k;</span><br><span class="line">    proxy_buffers 4 128k; </span><br><span class="line">    proxy_busy_buffers_size 256k;</span><br><span class="line">    proxy_max_temp_file_size 0;</span><br><span class="line">    add_header X-Cache $upstream_cache_status; </span><br><span class="line">    add_header Cache-Control no-cache; </span><br><span class="line">    proxy_ssl_server_name off; </span><br><span class="line">    proxy_ssl_name $proxy_host; </span><br><span class="line">    add_header Strict-Transport-Security &quot;max-age=31536000&quot;; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">underscores_in_headers on;</span><br><span class="line">set_real_ip_from 0.0.0.0/0; # CDN 回源 IP 地址段</span><br><span class="line">real_ip_header CF-Connecting-IP; # CDN 私有 header，此处为 CloudFlare 默认</span><br><span class="line"></span><br><span class="line"># gRPC 服务</span><br><span class="line">location ^~ /proto.NezhaService/ &#123;</span><br><span class="line">    grpc_set_header Host $host;</span><br><span class="line">    grpc_set_header nz-realip $http_CF_Connecting_IP; </span><br><span class="line">    grpc_read_timeout 600s;</span><br><span class="line">    grpc_send_timeout 600s;</span><br><span class="line">    grpc_socket_keepalive on;</span><br><span class="line">    client_max_body_size 10m;</span><br><span class="line">    grpc_buffer_size 4m;</span><br><span class="line">    grpc_pass grpc://dashboard;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># WebSocket 服务</span><br><span class="line">location ~* ^/api/v1/ws/(server|terminal|file)(.*)$ &#123;</span><br><span class="line">    proxy_set_header Host $host;</span><br><span class="line">    proxy_set_header nz-realip $http_cf_connecting_ip; </span><br><span class="line">    proxy_set_header Origin https://$host;</span><br><span class="line">    proxy_set_header Upgrade $http_upgrade;</span><br><span class="line">    proxy_set_header Connection &quot;upgrade&quot;;</span><br><span class="line">    proxy_read_timeout 3600s;</span><br><span class="line">    proxy_send_timeout 3600s;</span><br><span class="line">    proxy_pass http://127.0.0.1:8008;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="面板设置"><a href="#面板设置" class="headerlink" title="面板设置"></a>面板设置</h1><p>登录到 Dashboard 配置界面<code>https://nezha.a.com/dashboard</code>，初始用户名、密码均为<code>admin</code>，登录后立即进入管理页面点击<code>头像 —— 个人信息 —— 更新个人资料</code>修改用户名和密码。</p><p>点击<code>头像 —— 系统设置</code>，填写站点名称、设置语言，<code>Agent对接地址【域名/IP:端口】</code>填写<code>nezha.a.com:443</code>，勾选<code>Agent 使用 TLS 连接</code>，点击<code>确认</code>即可。</p><p><strong>添加TCP-Ping延迟测试：</strong></p><p>全国各省份三网 TCP-Ping IPv4 地址：<a href="https://www.nodeseek.com/post-68572-1">https://www.nodeseek.com/post-68572-1</a></p><p>全国各省份三网 TCP-Ping IPv6 地址：<a href="https://www.nodeseek.com/post-129987-1">https://www.nodeseek.com/post-129987-1</a></p><p>以浙江移动为例，<code>服务</code>页面创建服务，名称：浙江移动，目标：<a href="https://www.nodeseek.com/jump?to=http://zj-cm-v4.ip.zstaticcdn.com:80">zj-cm-v4.ip.zstaticcdn.com:80</a>，类型：TCPing</p><p><strong>添加telegram通知：</strong></p><p><code>通知</code>页面点击“+”，创建通知，名称自定，URL填写<code>https://api.telegram.org/bot&lt;你的机器人Token&gt;/sendMessage?chat_id=&lt;你的用户ID&gt;&amp;text=#NEZHA#</code>，将 <code>&lt;你的机器人Token&gt;</code> 和 <code>&lt;你的用户ID&gt;</code> 替换为实际值。</p><p>获取 URL 参数<br>获取机器人 Token：与 <code>@BotFather </code>对话，发送<code>/newbot</code>创建新机器人，获取 Token。<br>获取用户 ID：与 <code>@userinfobot </code>对话，获取你的用户 ID。<br>与机器人对话：先与新创建的机器人发送一条消息，确保机器人可以发送消息给你。</p><p><code>分组</code>——<code>通知</code>，页面点击“+”，编辑通知分组，名称自定，<code>通知</code>勾选提前创建的telegram通知，确认即可。</p><p>警报规则参考<a href="https://www.nodeseek.com/jump?to=https://nezha.wiki/guide/notifications.html">哪吒官方文档</a>，以离线通知为例：</p><p><code>通知</code>——<code>警报规则</code>，点击“+”，创建警报规则，名称：<code>离线通知</code>，规则：<code>[&#123;&quot;Type&quot;: &quot;offline&quot;, &quot;Duration&quot;: 10&#125;]</code>，通知组：勾选</p><p>telegram通知，启用：勾选，点击确认。</p><p>面板设置完成，可至<code>服务器</code>页面，点击<code>安装命令</code>，根据系统选择安装命令前往被控vps运行。</p><p>注：被控端禁用网页SSH</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed -i &#x27;s/disable_command_execute: false/disable_command_execute: true/&#x27; /opt/nezha/agent/config.yml &amp;&amp; systemctl restart nezha-agent</span><br></pre></td></tr></table></figure><h1 id="接入微软登录"><a href="#接入微软登录" class="headerlink" title="接入微软登录"></a>接入微软登录</h1><p>原wiki地址 <a href="https://www.nodeseek.com/jump?to=https://nezha.wiki/guide/q14.html">https://nezha.wiki/guide/q14.html</a></p><p>补充微软登陆</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">oauth2:</span></span><br><span class="line">    <span class="attr">Microsoft:</span></span><br><span class="line">        <span class="attr">clientid:</span> <span class="string">&quot;XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX&quot;</span></span><br><span class="line">        <span class="attr">clientsecret:</span> <span class="string">&quot;XXXXX&quot;</span></span><br><span class="line">        <span class="attr">endpoint:</span></span><br><span class="line">            <span class="attr">authurl:</span> <span class="string">&quot;https://login.microsoftonline.com/consumers/oauth2/v2.0/authorize&quot;</span></span><br><span class="line">            <span class="attr">tokenurl:</span> <span class="string">&quot;https://login.microsoftonline.com/consumers/oauth2/v2.0/token&quot;</span></span><br><span class="line">        <span class="attr">scopes:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">&quot;User.Read&quot;</span></span><br><span class="line">        <span class="attr">userinfourl:</span> <span class="string">&quot;https://graph.microsoft.com/v1.0/me&quot;</span></span><br><span class="line">        <span class="attr">useridpath:</span> <span class="string">&quot;id&quot;</span></span><br></pre></td></tr></table></figure><p>配置格式如上，需要自己注册应用以获得clientid、clientsecret</p><ol><li>注册<br><a href="https://www.nodeseek.com/jump?to=https://entra.microsoft.com/%23view/Microsoft_AAD_RegisteredApps/CreateApplicationBlade/quickStartType~/null/isMSAApp~/false">https://entra.microsoft.com/#view/Microsoft_AAD_RegisteredApps&#x2F;CreateApplicationBlade&#x2F;quickStartType<del>&#x2F;null&#x2F;isMSAApp</del>&#x2F;false</a><br>输入项：<br>名称 – 随便写<br>受支持的帐户类型 – 仅 Microsoft 个人帐户<br>重定向 URI (可选) – WEB <a href="https://www.nodeseek.com/jump?to=https://xx.com/api/v1/oauth2/callback">https://xx.com/api/v1/oauth2/callback</a></li><li>获得clientid<br><a href="https://www.nodeseek.com/jump?to=https://entra.microsoft.com/%23view/Microsoft_AAD_RegisteredApps/ApplicationsListBlade/quickStartType~/null/sourceType/Microsoft_AAD_IAM">https://entra.microsoft.com/#view/Microsoft_AAD_RegisteredApps&#x2F;ApplicationsListBlade&#x2F;quickStartType~&#x2F;null&#x2F;sourceType&#x2F;Microsoft_AAD_IAM</a><br>在最左边 所有应用程序 找到自己刚才注册的 点进去<br>概述页面有个 应用程序(客户端) ID，这个就是。</li><li>获得clientsecret<br><img src="https://img.051516.xyz/202501031707326.png" alt="uS3yGRHdgnCIGTAi9IVkpS"><br>提交后会出现 一个 值，复制，后续会不可见。</li><li>修改配置文件 并且 重启 面板服务</li><li>在个人信息里面绑定即可</li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;域名解析&quot;&gt;&lt;a href=&quot;#域名解析&quot; class=&quot;headerlink&quot; title=&quot;域名解析&quot;&gt;&lt;/a&gt;域名解析&lt;/h1&gt;&lt;p&gt;面板域名以&lt;code&gt;nezha.a.com&lt;/code&gt;为例&lt;/p&gt;
&lt;p&gt;Cloudflare中添加A记录&lt;code&gt;n</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>常用VPS脚本</title>
    <link href="http://blog.yuqi.fun/undefined/6469b43f.html"/>
    <id>http://blog.yuqi.fun/undefined/6469b43f.html</id>
    <published>2024-12-31T00:00:00.000Z</published>
    <updated>2024-12-31T00:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1、DD重装脚本"><a href="#1、DD重装脚本" class="headerlink" title="1、DD重装脚本"></a>1、DD重装脚本</h2><p>史上最强脚本</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget --no-check-certificate -qO InstallNET.sh &#x27;https://raw.githubusercontent.com/leitbogioro/Tools/master/Linux_reinstall/InstallNET.sh&#x27; &amp;&amp; chmod a+x InstallNET.sh &amp;&amp; bash InstallNET.sh -debian 12 -pwd &#x27;password&#x27;</span><br></pre></td></tr></table></figure><p>萌咖大佬的脚本</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(wget --no-check-certificate -qO- &#x27;https://raw.githubusercontent.com/MoeClub/Note/master/InstallNET.sh&#x27;) -d 11 -v 64 -p 密码 -port 端口 -a -firmware</span><br></pre></td></tr></table></figure><p>beta.gs大佬的脚本</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget --no-check-certificate -O NewReinstall.sh https://raw.githubusercontent.com/fcurrk/reinstall/master/NewReinstall.sh &amp;&amp; chmod a+x NewReinstall.sh &amp;&amp; bash NewReinstall.sh</span><br></pre></td></tr></table></figure><p>DD windows（使用史上最强DD脚本）</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -sSL https://raw.githubusercontent.com/leitbogioro/Tools/master/Linux_reinstall/InstallNET.sh) -windows 10  -lang &quot;cn&quot;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">账户：Administrator</span><br><span class="line">密码：Teddysun.com</span><br></pre></td></tr></table></figure><h2 id="2、综合测试脚本"><a href="#2、综合测试脚本" class="headerlink" title="2、综合测试脚本"></a>2、综合测试脚本</h2><p>LemonBench</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -qO- https://raw.githubusercontent.com/LemonBench/LemonBench/main/LemonBench.sh | bash -s -- --fast</span><br></pre></td></tr></table></figure><p>融合怪</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(wget -qO- --no-check-certificate https://gitlab.com/spiritysdx/za/-/raw/main/ecs.sh)</span><br></pre></td></tr></table></figure><p>NodeBench</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -sL https://raw.githubusercontent.com/LloydAsp/NodeBench/main/NodeBench.sh)</span><br></pre></td></tr></table></figure><h2 id="3、性能测试"><a href="#3、性能测试" class="headerlink" title="3、性能测试"></a>3、性能测试</h2><p>GB6 跑分脚本，附带宽测试：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -sL yabs.sh | bash</span><br></pre></td></tr></table></figure><p>GB6 剔除带宽测试，因为都是国外节点测试，国内跑没多大意义：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -sL yabs.sh | bash -s -- -i</span><br></pre></td></tr></table></figure><p>GB5 跑分脚本，附带宽测试：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -sL yabs.sh | bash -5</span><br></pre></td></tr></table></figure><p>GB5 剔除带宽测试：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -sL yabs.sh | bash -s -- -i -5</span><br></pre></td></tr></table></figure><h2 id="4、流媒体及IP质量测试"><a href="#4、流媒体及IP质量测试" class="headerlink" title="4、流媒体及IP质量测试"></a>4、流媒体及IP质量测试</h2><p>最常用版本</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -L -s check.unlock.media)</span><br></pre></td></tr></table></figure><p>原生检测脚本</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -sL Media.Check.Place)</span><br></pre></td></tr></table></figure><p>准确度最高</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -L -s https://github.com/1-stream/RegionRestrictionCheck/raw/main/check.sh)</span><br></pre></td></tr></table></figure><p>IP质量体检脚本</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -sL IP.Check.Place)</span><br></pre></td></tr></table></figure><h2 id="5、测速脚本"><a href="#5、测速脚本" class="headerlink" title="5、测速脚本"></a>5、测速脚本</h2><p>Speedtest</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -sL bash.icu/speedtest)</span><br></pre></td></tr></table></figure><p>Taier</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -sL res.yserver.ink/taier.sh)</span><br></pre></td></tr></table></figure><p>hyperspeed</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -Lso- https://bench.im/hyperspeed)</span><br></pre></td></tr></table></figure><p>全球测速</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -sL network-speed.xyz | bash</span><br></pre></td></tr></table></figure><h2 id="6、回程测试"><a href="#6、回程测试" class="headerlink" title="6、回程测试"></a>6、回程测试</h2><p>直接显示回程（小白用这个）</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl https://raw.githubusercontent.com/ludashi2020/backtrace/main/install.sh -sSf | sh</span><br></pre></td></tr></table></figure><p>回程详细测试（推荐）</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -N --no-check-certificate https://raw.githubusercontent.com/Chennhaoo/Shell_Bash/master/AutoTrace.sh &amp;&amp; chmod +x AutoTrace.sh &amp;&amp; bash AutoTrace.sh</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://ghproxy.com/https://raw.githubusercontent.com/vpsxb/testrace/main/testrace.sh -O testrace.sh &amp;&amp; bash testrace.sh</span><br></pre></td></tr></table></figure><h2 id="7、功能脚本"><a href="#7、功能脚本" class="headerlink" title="7、功能脚本"></a>7、功能脚本</h2><p>添加SWAP</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://www.moerats.com/usr/shell/swap.sh &amp;&amp; bash swap.sh</span><br></pre></td></tr></table></figure><p>Fail2ban</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget --no-check-certificate https://raw.githubusercontent.com/FunctionClub/Fail2ban/master/fail2ban.sh &amp;&amp; bash fail2ban.sh 2&gt;&amp;1 | tee fail2ban.log</span><br></pre></td></tr></table></figure><p>一键开启BBR，适用于较新的Debian、Ubuntu</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;net.core.default_qdisc=fq&quot; &gt;&gt; /etc/sysctl.conf</span><br><span class="line">echo &quot;net.ipv4.tcp_congestion_control=bbr&quot; &gt;&gt; /etc/sysctl.conf</span><br><span class="line">sysctl -p</span><br><span class="line">sysctl net.ipv4.tcp_available_congestion_control</span><br><span class="line">lsmod | grep bbr</span><br></pre></td></tr></table></figure><p>多功能BBR安装脚本</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -N --no-check-certificate &quot;https://gist.github.com/zeruns/a0ec603f20d1b86de6a774a8ba27588f/raw/4f9957ae23f5efb2bb7c57a198ae2cffebfb1c56/tcp.sh&quot; &amp;&amp; chmod +x tcp.sh &amp;&amp; ./tcp.sh</span><br></pre></td></tr></table></figure><p>锐速&#x2F;BBRPLUS&#x2F;BBR2&#x2F;BBR3</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -O tcpx.sh &quot;https://github.com/ylx2016/Linux-NetSpeed/raw/master/tcpx.sh&quot; &amp;&amp; chmod +x tcpx.sh &amp;&amp; ./tcpx.sh</span><br></pre></td></tr></table></figure><p>TCP窗口调优</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget http://sh.nekoneko.cloud/tools.sh -O tools.sh &amp;&amp; bash tools.sh</span><br></pre></td></tr></table></figure><p>添加warp</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -N https://gitlab.com/fscarmen/warp/-/raw/main/menu.sh &amp;&amp; bash menu.sh [option] [lisence/url/token]</span><br></pre></td></tr></table></figure><p>25端口开放测试</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">telnet smtp.aol.com 25</span><br></pre></td></tr></table></figure><h2 id="8、一键安装常用环境及软件"><a href="#8、一键安装常用环境及软件" class="headerlink" title="8、一键安装常用环境及软件"></a>8、一键安装常用环境及软件</h2><p>docker</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -sSL https://get.daocloud.io/docker | sh</span><br></pre></td></tr></table></figure><p>Python</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -O https://raw.githubusercontent.com/lx969788249/lxspacepy/master/pyinstall.sh &amp;&amp; chmod +x pyinstall.sh &amp;&amp; ./pyinstall.sh</span><br></pre></td></tr></table></figure><p>iperf3</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install iperf3</span><br></pre></td></tr></table></figure><p>realm</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -L https://raw.githubusercontent.com/zhouh047/realm-oneclick-install/main/realm.sh) -i</span><br></pre></td></tr></table></figure><p>gost</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget --no-check-certificate -O gost.sh https://raw.githubusercontent.com/qqrrooty/EZgost/main/gost.sh &amp;&amp; chmod +x gost.sh &amp;&amp; ./gost.sh</span><br></pre></td></tr></table></figure><p>极光面板</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -fsSL https://raw.githubusercontent.com/Aurora-Admin-Panel/deploy/main/install.sh)</span><br></pre></td></tr></table></figure><p>哪吒监控</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -L https://raw.githubusercontent.com/naiba/nezha/master/script/install.sh  -o nezha.sh &amp;&amp; chmod +x nezha.sh &amp;&amp; sudo ./nezha.sh</span><br></pre></td></tr></table></figure><p>WARP</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -N https://gitlab.com/fscarmen/warp/-/raw/main/menu.sh &amp;&amp; bash menu.sh</span><br></pre></td></tr></table></figure><p>Aria2</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -N git.io/aria2.sh &amp;&amp; chmod +x aria2.sh &amp;&amp; ./aria2.sh</span><br></pre></td></tr></table></figure><p>宝塔</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -O install.sh http://v7.hostcli.com/install/install-ubuntu_6.0.sh &amp;&amp; sudo bash install.sh</span><br></pre></td></tr></table></figure><p>PVE虚拟化</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(wget -qO- --no-check-certificate https://raw.githubusercontent.com/oneclickvirt/pve/main/scripts/build_backend.sh)</span><br></pre></td></tr></table></figure><p>Argox</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(wget -qO- https://raw.githubusercontent.com/fscarmen/argox/main/argox.sh)</span><br></pre></td></tr></table></figure><h2 id="9、综合功能脚本"><a href="#9、综合功能脚本" class="headerlink" title="9、综合功能脚本"></a>9、综合功能脚本</h2><p>科技lion</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">apt update -y  &amp;&amp; apt install -y curl</span><br><span class="line"></span><br><span class="line">bash &lt;(curl -sL kejilion.sh)</span><br></pre></td></tr></table></figure><p>SKY-BOX</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -O box.sh https://raw.githubusercontent.com/BlueSkyXN/SKY-BOX/main/box.sh &amp;&amp; chmod +x box.sh &amp;&amp; clear &amp;&amp; ./box.sh</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;1、DD重装脚本&quot;&gt;&lt;a href=&quot;#1、DD重装脚本&quot; class=&quot;headerlink&quot; title=&quot;1、DD重装脚本&quot;&gt;&lt;/a&gt;1、DD重装脚本&lt;/h2&gt;&lt;p&gt;史上最强脚本&lt;/p&gt;
&lt;figure class=&quot;highlight plaintext&quot;</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>Qexo 一个美观、强大的在线 静态博客 管理器</title>
    <link href="http://blog.yuqi.fun/undefined/8277e0e6.html"/>
    <id>http://blog.yuqi.fun/undefined/8277e0e6.html</id>
    <published>2024-12-29T00:00:00.000Z</published>
    <updated>2024-12-29T00:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p><strong>Hexo</strong> 是一款快速、高效的静态博客框架。通过 <a href="http://daringfireball.net/projects/markdown/">Markdown</a> 语法，只需几秒便可生成高质量的静态网页。</p><p>最近，我成功实现了在多设备间灵活管理博客并发布内容。一位网友提到 <strong>Qexo</strong>，一个为 Hexo 增加后台功能的工具，它让发布博客变得像发微博一样简单。深入了解后，我发现它非常强大，不仅可以用手机随时随地发表文章，还极大提升了操作便捷性。</p><p>尽管安装过程中遇到了一些问题，但最终都顺利解决。我将整理经验分享，希望能帮助更多人。</p><hr><h1 id="Qexo-简介"><a href="#Qexo-简介" class="headerlink" title="Qexo 简介"></a>Qexo 简介</h1><p><strong>Qexo</strong> 是一个快速、美观且功能丰富的在线 Hexo 管理器，支持通过 Vercel 免费部署，仅需配置一个数据库即可使用。</p><h2 id="主要功能"><a href="#主要功能" class="headerlink" title="主要功能"></a>主要功能</h2><ul><li>自定义图床上传图片</li><li>在线编辑与页面管理</li><li>开放 API 接口</li><li>自动检查更新并一键更新</li><li>快速管理友情链接</li><li>短文分享（类似微博功能）</li><li>自动填充文章模板</li></ul><p><strong>项目地址</strong>：<a href="https://www.oplog.cn/qexo/start.html">Qexo 官方文档</a></p><hr><h1 id="一、配置-GitHub-自动化部署"><a href="#一、配置-GitHub-自动化部署" class="headerlink" title="一、配置 GitHub 自动化部署"></a>一、配置 GitHub 自动化部署</h1><h2 id="1-获取-GitHub-Token"><a href="#1-获取-GitHub-Token" class="headerlink" title="1. 获取 GitHub Token"></a>1. 获取 GitHub Token</h2><ol><li>打开 <strong>Personal settings</strong> -&gt; <strong>Developer settings</strong> -&gt; <strong>Personal access tokens</strong></li><li>设置权限为 <strong>repo</strong> 和 <strong>public repo</strong></li></ol><p><img src="https://img.051516.xyz/202412291101351.png" alt="313f2ca0d7d3ea811d7e7be8ad6bcd4b"></p><ol><li>保存生成的 Token（丢失后无法恢复，只能重新生成）</li><li>在博客代码仓库的 <strong>Secrets</strong> 中添加名为 <strong>PERSONAL_TOKEN</strong> 的变量，后续步骤将用到。</li></ol><p><img src="https://img.051516.xyz/202412291102866.png" alt="f69e8dd9266ba1336ddddff00a67ffc6"></p><h2 id="2-创建-GitHub-Actions"><a href="#2-创建-GitHub-Actions" class="headerlink" title="2. 创建 GitHub Actions"></a>2. 创建 GitHub Actions</h2><ol><li>在博客仓库页面，点击 <strong>Actions</strong>。</li><li>选择 <strong>Set up a workflow yourself</strong>。</li></ol><p><a href="https://13fe9ff.webp.li/2024/11/b425061c44375abea8ca5a8a01091038.png"><img src="https://img.051516.xyz/202412291104224.png" alt="img"></a></p><ol><li>输入以下 YAML 配置并点击 <strong>Start commit</strong> ：</li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">Deploy</span> <span class="string">Hexo</span> <span class="string">to</span> <span class="string">GitHub</span> <span class="string">Pages</span></span><br><span class="line"></span><br><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">push:</span></span><br><span class="line">    <span class="attr">branches:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">main</span> <span class="comment"># 或你使用的默认分支名称</span></span><br><span class="line"></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">deploy:</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Checkout</span> <span class="string">blog</span> <span class="string">source</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/checkout@v2</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">path:</span> <span class="string">blog</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Set</span> <span class="string">up</span> <span class="string">Node.js</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/setup-node@v1</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">node-version:</span> <span class="string">&quot;16&quot;</span> <span class="comment"># 设置 Node.js 版本</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Cache</span> <span class="string">dependencies</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/cache@v2</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">path:</span> <span class="string">node_modules</span></span><br><span class="line">          <span class="attr">key:</span> <span class="string">$&#123;&#123;</span> <span class="string">runner.os</span> <span class="string">&#125;&#125;-node-$&#123;&#123;</span> <span class="string">hashFiles(&#x27;**/package-lock.json&#x27;)</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="attr">restore-keys:</span> <span class="string">|</span></span><br><span class="line"><span class="string">            $&#123;&#123; runner.os &#125;&#125;-node-</span></span><br><span class="line"><span class="string"></span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Install</span> <span class="string">dependencies</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">npm</span> <span class="string">install</span></span><br><span class="line">        <span class="attr">working-directory:</span> <span class="string">./blog</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Install</span> <span class="string">Hexo</span> <span class="string">CLI</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">npm</span> <span class="string">install</span> <span class="string">-g</span> <span class="string">hexo-cli</span></span><br><span class="line">        <span class="attr">working-directory:</span> <span class="string">./blog</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Generate</span> <span class="string">static</span> <span class="string">pages</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">hexo</span> <span class="string">generate</span></span><br><span class="line">        <span class="attr">working-directory:</span> <span class="string">./blog</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Deploy</span> <span class="string">to</span> <span class="string">GitHub</span> <span class="string">Pages</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">peaceiris/actions-gh-pages@v3</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">personal_token:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.PERSONAL_TOKEN</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="attr">publish_dir:</span> <span class="string">./blog/public</span></span><br><span class="line">          <span class="attr">external_repository:</span> <span class="string">username/username.github.io</span> <span class="comment"># 更改为你的 GitHub Pages 仓库, username 是你的用户名</span></span><br><span class="line">          <span class="attr">publish_branch:</span> <span class="string">main</span> <span class="comment"># GitHub Pages 分支</span></span><br></pre></td></tr></table></figure><p>参考文档：</p><ul><li><a href="https://www.oplog.cn/archives/24998.html">Hexo 自动化部署教程</a></li><li><a href="https://hackergavin.com/2024/01/11/hexo-automate-deploy/">利用 GitHub Actions 实现自动化部署 Hexo 到 Github Pages</a></li></ul><hr><h1 id="二、通过-Vercel-部署-Qexo"><a href="#二、通过-Vercel-部署-Qexo" class="headerlink" title="二、通过 Vercel 部署 Qexo"></a>二、通过 Vercel 部署 Qexo</h1><h2 id="1-一键部署"><a href="#1-一键部署" class="headerlink" title="1. 一键部署"></a>1. 一键部署</h2><p>点击以下按钮完成一键部署：<a href="https://vercel.com/new/clone?repository-url=https://github.com/am-abudu/Qexo">Vercel 一键部署</a></p><blockquote><p><strong>注意</strong>：首次部署可能会出现错误提示，可忽略并继续后续步骤。</p></blockquote><h2 id="2-修改-Node-js-版本"><a href="#2-修改-Node-js-版本" class="headerlink" title="2. 修改 Node.js 版本"></a>2. 修改 Node.js 版本</h2><p>由于 <strong><a href="https://vercel.com/docs/functions/runtimes/python#python-dependencies">Vercel 的已知问题</a>，需将项目的 Node.js 版本调整为</strong> <strong>18.x</strong>。<br>路径：<strong>Settings -&gt; General -&gt; Node.js Version</strong></p><h2 id="3-创建-Vercel-数据库"><a href="#3-创建-Vercel-数据库" class="headerlink" title="3. 创建 Vercel 数据库"></a>3. 创建 Vercel 数据库</h2><ol><li>进入<a href="https://vercel.com/dashboard/stores">Vercel Storage 页面</a>。</li><li>点击 *<strong>Create Database</strong>，选择 <strong>Neon</strong> ，设置区域为 <strong>Washington, DC., USA - iad1</strong>，创建免费数据库。</li></ol><h2 id="4-绑定项目"><a href="#4-绑定项目" class="headerlink" title="4. 绑定项目"></a>4. 绑定项目</h2><p>在 <strong>Projects</strong> 页面选择对应项目，点击 <strong>Connect Project</strong> 进行绑定。</p><h2 id="5-部署-Qexo"><a href="#5-部署-Qexo" class="headerlink" title="5. 部署 Qexo"></a>5. 部署 Qexo</h2><p>回到项目页面，点击<strong>Redeploy</strong> 开始部署。部署完成后，无报错即可访问域名进入初始化页面。</p><hr><h1 id="初始化配置"><a href="#初始化配置" class="headerlink" title="初始化配置"></a>初始化配置</h1><p><a href="https://13fe9ff.webp.li/2024/11/d14a6a28fa42dc905ad1f9572d280abb.png"><img src="https://13fe9ff.webp.li/2024/11/d14a6a28fa42dc905ad1f9572d280abb.png" alt="img"></a></p><p><a href="https://13fe9ff.webp.li/2024/11/8781b5e062a34509ccf39ed0000e8033.png"><img src="https://img.051516.xyz/202412291104276.png" alt="img"></a></p><h2 id="GitHub-配置"><a href="#GitHub-配置" class="headerlink" title="GitHub 配置"></a>GitHub 配置</h2><p><a href="https://13fe9ff.webp.li/2024/11/7f4e9a472b66f4a2b73ae1c8e035b4ef.png"><img src="https://img.051516.xyz/202412291104301.png" alt="img"></a><br>填写博客源码所在仓库的分支名称，例如：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">plaintext</span><br><span class="line">master</span><br></pre></td></tr></table></figure><h2 id="GitHub-密钥"><a href="#GitHub-密钥" class="headerlink" title="GitHub 密钥"></a>GitHub 密钥</h2><p>填写生成的 GitHub Token，例如：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">plaintext</span><br><span class="line">wrq_P8sYPlYA9fjMlOPEYSKA84xxxxxxxxxxxxxx</span><br></pre></td></tr></table></figure><h2 id="仓库路径"><a href="#仓库路径" class="headerlink" title="仓库路径"></a>仓库路径</h2><p>若 Hexo 源码在仓库根目录，则留空；否则填写路径：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">plaintext</span><br><span class="line">path/</span><br></pre></td></tr></table></figure><p><a href="https://13fe9ff.webp.li/2024/11/f2f7c6b57196afa6652292807698db91.png"><img src="https://img.051516.xyz/202412291104319.png" alt="img"></a></p><p><a href="https://13fe9ff.webp.li/2024/11/5e4c876cd000a6d5f5da45bb256c963e.png"><img src="https://img.051516.xyz/202412291104350.png" alt="img"></a></p><p><a href="https://13fe9ff.webp.li/2024/11/bcc3ab289c7a355ed8116d92faddba80.png"><img src="https://img.051516.xyz/202412291104386.png" alt="img"></a></p><h2 id="Vercel-配置"><a href="#Vercel-配置" class="headerlink" title="Vercel 配置"></a>Vercel 配置</h2><ul><li><strong>VERCEL_TOKEN</strong>：在<a href="https://vercel.com/account/tokens">Vercel 账户设置</a> 中生成。</li><li><strong>PROJECT_ID</strong>：在 <strong>Project Settings -&gt; General -&gt; Project ID</strong> 中找到。</li></ul><p>配置完成后，即可登录后台管理博客内容。</p><p><a href="https://13fe9ff.webp.li/2024/11/df6b8e762d048854683e5e31f6e262f2.png"><img src="https://img.051516.xyz/202412291104412.png" alt="img"></a></p><p><a href="https://13fe9ff.webp.li/2024/11/2fa7cd4b16b469345b8e628d88affae2.png"><img src="https://img.051516.xyz/202412291104441.png" alt="img"></a></p><p><a href="https://13fe9ff.webp.li/2024/11/6a16b8185a435cf9b807dbcc894d92e1.png"><img src="https://img.051516.xyz/202412291104466.png" alt="img"></a></p><h1 id=""><a href="#" class="headerlink" title=""></a></h1>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;&lt;strong&gt;Hexo&lt;/strong&gt; 是一款快速、高效的静态博客框架。通过 &lt;a href=&quot;http://daringfirebal</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>贵阳吉利程序解析</title>
    <link href="http://blog.yuqi.fun/undefined/57946227.html"/>
    <id>http://blog.yuqi.fun/undefined/57946227.html</id>
    <published>2024-11-28T00:00:00.000Z</published>
    <updated>2024-12-28T05:34:56.377Z</updated>
    
    <content type="html"><![CDATA[<h1 id="程序框架"><a href="#程序框架" class="headerlink" title="程序框架"></a>程序框架</h1><p><strong>_00_Organization_Blocks</strong>：系统组织块</p><p><strong>_01_Initialization</strong>：初始化</p><p><strong>_02_HMI_OperationModes</strong>：HMI操作模式</p><p><strong>_07_Diagnosis</strong>：诊断</p><p><strong>LINE</strong>：功能块</p><p><strong>Main Call</strong>：模式区主调用</p><p><strong>MSG</strong>：模式区报警</p><p>工装</p><p><strong>Robot Zone Config</strong>：机器人干涉区配置</p><p>机器人</p><p><strong>Safety</strong>：安全程序</p><p><strong>ANDON</strong>：安东</p><p><strong>DB_USER</strong>：用户DB</p><p><strong>FC_User</strong>：用户FC</p><p><strong>SICAR</strong>：功能块</p><p><strong>Types_yixin</strong>：功能块</p><p>全局DB</p><h1 id="安全"><a href="#安全" class="headerlink" title="安全"></a>安全</h1><h2 id="框架"><a href="#框架" class="headerlink" title="框架"></a>框架</h2><p><img src="https://img.051516.xyz/202411222031727.png" alt="image-20241122203142738"></p><h2 id="注意项"><a href="#注意项" class="headerlink" title="注意项"></a>注意项</h2><h3 id="区域光栅"><a href="#区域光栅" class="headerlink" title="区域光栅"></a>区域光栅</h3><p>直接光栅复位按钮复位，用光栅对应的MLT信号做屏蔽</p><h3 id="急停"><a href="#急停" class="headerlink" title="急停"></a>急停</h3><p>需要对应模式区的安全门关好才可以复位，HMI急停需要所有安全门关好才可以复位</p><h3 id="相邻区域安全"><a href="#相邻区域安全" class="headerlink" title="相邻区域安全"></a>相邻区域安全</h3><p>区域光栅是好的就屏蔽掉相邻工位的急停和安全门</p><h3 id="安全供电"><a href="#安全供电" class="headerlink" title="安全供电"></a>安全供电</h3><p>安全条件满足就供安全电</p><h3 id="机器人安全"><a href="#机器人安全" class="headerlink" title="机器人安全"></a>机器人安全</h3><p>照着功能块填引脚即可</p><h3 id="安全门"><a href="#安全门" class="headerlink" title="安全门"></a>安全门</h3><p>关好门按复位即可</p><h3 id="光栅区扫"><a href="#光栅区扫" class="headerlink" title="光栅区扫"></a>光栅区扫</h3><p>直接光栅区扫复位按钮复位，用光栅对应的MLT信号做屏蔽</p><h1 id="模式"><a href="#模式" class="headerlink" title="模式"></a>模式</h1><h2 id="User-Interface-IN"><a href="#User-Interface-IN" class="headerlink" title="User_Interface_IN"></a>User_Interface_IN</h2><p><strong>H_OpMode</strong>：区域急停信号（区域报警MSG里面产生）</p><p><strong>M_OpMode</strong>：区域安全门信号（区域报警MSG里面产生）</p><p><strong>BasicStartCondition</strong>：基本启动条件（上电、急停安全门等OK）</p><p><strong>Pos_ImmediateStop</strong>：立即停止</p><p><strong>Pos_StopEndCycle</strong>：循环停止</p><p><strong>Pos_InitialPos</strong>：原位</p><p><strong>Pos_OpenDoor</strong>：开门条件</p><p><strong>Alarm</strong>：报警</p><h1 id="工装"><a href="#工装" class="headerlink" title="工装"></a>工装</h1><h2 id="头文件"><a href="#头文件" class="headerlink" title="头文件"></a>头文件</h2><p><strong>Station_No</strong>：工位号（不可重复）</p><p><strong>Name</strong>：工位名</p><p><strong>ActiveCarType</strong>：是否激活车型</p><p><strong>MsgWord</strong>：报警起始字（填多少在HMI报警里面就从报警字X16的地址开始找，关联到DB31的ERR_W）</p><h2 id="操作盒"><a href="#操作盒" class="headerlink" title="操作盒"></a>操作盒</h2><p><strong>PBStart</strong>：通过工位号和操作盒号来寻址得到</p><h2 id="车型条件"><a href="#车型条件" class="headerlink" title="车型条件"></a>车型条件</h2><p><strong>CanDO</strong>：不满足时自动完成当前指针</p><p><img src="https://img.051516.xyz/202411241457382.png" alt="image-20241124145708336"></p><h2 id="传感器"><a href="#传感器" class="headerlink" title="传感器"></a>传感器</h2><p><strong>YX12_Part04_SI</strong>：传感器配置块（填有几个传感器，以及对应的信号）</p><p><strong>YX12_Part04_CFG</strong>：传感器状态块（配置当前工件编号（可用来区分不同车型需要用到的传感器），名字，<strong>Mask</strong>：正必为真，负必为假，0为不判断）</p><h2 id="工位自动程序"><a href="#工位自动程序" class="headerlink" title="工位自动程序"></a>工位自动程序</h2><p><strong>自动步尾文件</strong>：需要配置<strong>Max_S_No</strong>为Graph里面最大的步号，不然会影响HMI画面的显示</p><h2 id="气缸"><a href="#气缸" class="headerlink" title="气缸"></a>气缸</h2><p><strong>OBJ_No</strong>：第几个气缸</p><p><strong>Home_FWD</strong>     <strong>Home_BWD</strong>：气缸在什么位置为原位</p><p><strong>CC_FWD</strong>     <strong>CC_BWD</strong>：气缸互锁条件</p><p><strong>NumFWD</strong>    <strong>NumBWD</strong>：伸出缩回有几个传感器</p><p><strong>自动命令都是直接给到相应的背景DB里面的</strong></p><p><img src="https://img.051516.xyz/202412060942646.jpg" alt="mmexport1733381636905"></p><p><img src="https://img.051516.xyz/202412060942339.jpg" alt="mmexport1733381638785"></p><h1 id="机器人"><a href="#机器人" class="headerlink" title="机器人"></a>机器人</h1><h2 id="干涉区配置"><a href="#干涉区配置" class="headerlink" title="干涉区配置"></a>干涉区配置</h2><p>预留16个干涉区可以配置</p><p><strong>Zone_No</strong>：干涉区编号,1-64</p><p><strong>Group_No</strong>：分组编号，每干涉区1-7个分组</p><p><strong>Rbt_No</strong>：使用此干涉区分组的全局唯一机器人编号</p><p><strong>Robot Zone Config最后一段</strong></p><p><img src="https://img.051516.xyz/202411232118218.png" alt="lQLPJv-xoZjBRrXNA5_NBMGwcPS1H1Hy8mgHJ13FDetXAA_1217_927"></p><p><img src="https://img.051516.xyz/202411232119180.png" alt="3992cc222d6053827c4fd067201c547e"></p><p><img src="https://img.051516.xyz/202411232119734.png" alt="5dbddaf77fdeede3327ad7701238b5f4"></p><h2 id="头文件-1"><a href="#头文件-1" class="headerlink" title="头文件"></a>头文件</h2><p><strong>RBT_No</strong>：机器人编号（不可重复）</p><p><strong>Name</strong>：机器人名称</p><p><strong>ActiveCarType</strong>：是否激活车型</p><p><strong>MsgWord</strong>：报警起始字（填多少在HMI报警里面就从报警字X16的地址开始找，关联到DB31的ERR_W）</p><h2 id="车型条件-1"><a href="#车型条件-1" class="headerlink" title="车型条件"></a>车型条件</h2><p><strong>CanDO</strong>：不满足时自动完成当前指针</p><p><img src="https://img.051516.xyz/202411241457382.png" alt="image-20241124145708336"></p><h2 id="轨迹段进入编号"><a href="#轨迹段进入编号" class="headerlink" title="轨迹段进入编号"></a>轨迹段进入编号</h2><p><strong>YX09_RBT_SEG</strong>：10个轨迹段 进入工位编号（全局编号1-50），&lt; 0为与工位无关或不比对车型</p><p><img src="https://img.051516.xyz/202411241519872.png" alt="img"></p><h1 id="订单消耗方式"><a href="#订单消耗方式" class="headerlink" title="订单消耗方式"></a>订单消耗方式</h1><p>FC1061    55段</p><p><strong>CanDO</strong></p><p><strong>WorkDone</strong>&#x3D;<strong>CycleFinish</strong></p><p><img src="https://img.051516.xyz/202411232118947.png" alt="lQLPKHtxhR0Mcq3NA7TNBwKw1LGGsFn66VsHJoT6gosnAA_1794_948"></p><p><img src="https://img.051516.xyz/202411232118949.png" alt="lQLPJyCXjWlXwW3NA8DNB16wjeqcDDPadp4HJoX6ffQgAA_1886_960"></p><p><strong>机器人完成的两种方式</strong></p><p><img src="https://img.051516.xyz/202411232118013.png" alt="58b13f519e1f2c0683f8023456b0c6f7"></p><h1 id="注意项-1"><a href="#注意项-1" class="headerlink" title="注意项"></a>注意项</h1><h2 id="复制HMI时注意更改变量"><a href="#复制HMI时注意更改变量" class="headerlink" title="复制HMI时注意更改变量"></a>复制HMI时注意更改变量</h2><p><img src="https://img.051516.xyz/202411232118744.png" alt="img"></p><p><img src="https://img.051516.xyz/202411241538795.png" alt="image-20241124153800238"></p><h2 id="车型下发"><a href="#车型下发" class="headerlink" title="车型下发"></a>车型下发</h2><p>DB31    PIS</p><p><img src="https://img.051516.xyz/202411241521830.png" alt="image-20241124152128605"></p><p><img src="https://img.051516.xyz/202411241521719.png" alt="e739d18a14c4b0d2ce600a075e30dfef"></p><p><img src="https://img.051516.xyz/202411241522739.png" alt="d2bc26b41eeffd610cbe2e14b645f283"></p><h2 id="指针寻址找写入点方法"><a href="#指针寻址找写入点方法" class="headerlink" title="指针寻址找写入点方法"></a>指针寻址找写入点方法</h2><p><img src="https://img.051516.xyz/202411241535437.png" alt="image-20241124152944611"></p><p><img src="https://img.051516.xyz/202411241535985.png" alt="image-20241124153050321"></p><p><img src="https://img.051516.xyz/202411241536675.png" alt="image-20241124153306459"></p><p><img src="https://img.051516.xyz/202411241536972.png" alt="image-20241124153505708"></p><h1 id="画面"><a href="#画面" class="headerlink" title="画面"></a>画面</h1>]]></content>
    
    
    <summary type="html">贵阳吉利面试专用小抄，不会的进来看看...</summary>
    
    
    
    
  </entry>
  
  <entry>
    <title>安装了VMware Tools，但无法实现文件的拖拽和复制粘贴---解决方案</title>
    <link href="http://blog.yuqi.fun/undefined/a580ef34.html"/>
    <id>http://blog.yuqi.fun/undefined/a580ef34.html</id>
    <published>2024-04-05T00:00:00.000Z</published>
    <updated>2024-04-05T00:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>环境：Windows11，VMware17Pro，ubuntu-23.10.1</p><p>我给虚拟机装好Ubuntu系统后，它默认是安装好vmtools的</p><p>而且这些选项默认是勾选的，但是我无法实现宿主机和虚拟机之间文件的拖拽和复制粘贴</p><p>如果你遇到了和我一样的问题，且网上很多博文提供的解决方案都无法解决你的问题，那么请往下看</p><p>我试了各路大神的解决方案，基本都行不通</p><p>只有一篇标题和这个问题相关度不高的文章，提到了一种重装VMware tools的方法，我试了一下终于解决了问题</p><p> 这里要说一下，网上的很多文章用cd里带的VMware tools压缩包来重新安装（还要手动输yes的那个方法），我试了，根本没有用</p><p>毕竟初始安装的就是那个版本，再重新安装一下并没有意义</p><p>真正的解决方案其实很方便：</p><p>打开终端</p><p>1.卸载VMware Tools</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get autoremove open-vm-tools</span><br></pre></td></tr></table></figure><p>2.联网安装VMware tools</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install open-vm-tools-desktop</span><br></pre></td></tr></table></figure><p>如果出错了，就执行下面两行命令</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install open-vm-tools-desktop fuse</span><br></pre></td></tr></table></figure><p>3.重启虚拟机即可</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;环境：Windows11，VMware17Pro，ubuntu-23.10.1&lt;/p&gt;
&lt;p&gt;我给虚拟机装好Ubuntu系统后，它默认是安装好vmtools的&lt;/p&gt;
&lt;p&gt;而且这些选项默认是勾选的，但是我无法实现宿主机和虚拟机之间文件的拖拽和复制粘贴&lt;/p&gt;
&lt;p&gt;如果你</summary>
      
    
    
    
    <category term="教程" scheme="http://blog.yuqi.fun/categories/%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="虚拟机" scheme="http://blog.yuqi.fun/tags/%E8%99%9A%E6%8B%9F%E6%9C%BA/"/>
    
  </entry>
  
  <entry>
    <title>在WSL2中使用Clash Verge代理连接</title>
    <link href="http://blog.yuqi.fun/undefined/af89448b.html"/>
    <id>http://blog.yuqi.fun/undefined/af89448b.html</id>
    <published>2023-12-13T00:00:00.000Z</published>
    <updated>2024-01-12T00:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>本文撰写时基于的系统和版本是 Ubuntu 22.04, 如果你使用其他版本或其他发行版，则下文提到的部分步骤与你的实际情况可能有所出入。</p></blockquote><blockquote><p>在 WSL2 中配置环境时，依赖下载经常因为网络问题极其缓慢甚至失败。在整合了各方资料及个人实践后，我总结了在 WSL2 中通过 Clash Verge 设置代理的方法，供大家参考。</p></blockquote><h1 id="在-Clash-客户端内的操作"><a href="#在-Clash-客户端内的操作" class="headerlink" title="在 Clash 客户端内的操作"></a>在 Clash 客户端内的操作</h1><p>打开客户端的局域网连接开关。<br>记录下客户端内的端口，如这里是 <code>7897</code>. 一般默认端口为 <code>7897</code>。</p><p><img src="https://img.051516.xyz/202312131053554.png"></p><h1 id="修改-bashrc"><a href="#修改-bashrc" class="headerlink" title="修改 .bashrc"></a>修改 <code>.bashrc</code></h1><p>使用文本编辑器编辑 <code>.bashrc</code>，在文件末尾根据第 1 步记录的数据，加入三行内容：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano ~/.bashrc</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">host_ip=$(<span class="built_in">cat</span> /etc/resolv.conf |grep <span class="string">&quot;nameserver&quot;</span> |<span class="built_in">cut</span> -f 2 -d <span class="string">&quot; &quot;</span>)</span><br><span class="line"><span class="built_in">export</span> http_proxy=<span class="string">&quot;http://<span class="variable">$host_ip</span>:[端口]&quot;</span></span><br><span class="line"><span class="built_in">export</span> https_proxy=<span class="string">&quot;http://<span class="variable">$host_ip</span>:[端口]&quot;</span></span><br></pre></td></tr></table></figure><p>如图所示，修改完后保存即可。<br><img src="https://img.051516.xyz/202312131053167.png"></p><h1 id="使-root-用户保留先前设置的环境变量"><a href="#使-root-用户保留先前设置的环境变量" class="headerlink" title="使 root 用户保留先前设置的环境变量"></a>使 root 用户保留先前设置的环境变量</h1><p>在使用 <code>sudo</code> 执行命令时，之前设置的环境变量并不会生效，需要进一步设置。<br>输入 <code>sudo visudo</code></p><p>取消相应行的注释 (删除行首的 <code>#</code>) 即可.<br><img src="https://img.051516.xyz/202312131053399.png"></p><p>如果你使用 Ubuntu 20.04, 加入以下内容并保存。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Defaults env_keep=<span class="string">&quot;http_proxy https_proxy&quot;</span></span><br></pre></td></tr></table></figure><p><img src="https://img.051516.xyz/202312131053583.png"></p><h1 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h1><p>输入 <code>source ~/.bashrc</code> 使文件修改生效。</p><p>可以通过输入 <code>echo $http_proxy</code> 验证修改是否成功。<br>输入 <code>wget www.google.com</code>, 可以发现连接成功，至此大功告成，如图所示。<br><img src="https://s2.loli.net/2022/10/05/UIQ8LhuROaXq6S2.png"></p><h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p><a href="https://zhuanlan.zhihu.com/p/153124468">为 WSL2 一键设置代理 (zhihu.com)</a><br><a href="https://www.chenyudong.com/archives/sudo-keep-env.html">sudo保持前用用户的env环境变量 (chenyudong.com, 已失效)</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;本文撰写时基于的系统和版本是 Ubuntu 22.04, 如果你使用其他版本或其他发行版，则下文提到的部分步骤与你的实际情况可能有所出入。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;在 WSL2 中配置环境时，依赖下载经常</summary>
      
    
    
    
    <category term="教程" scheme="http://blog.yuqi.fun/categories/%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="科学上网" scheme="http://blog.yuqi.fun/tags/%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/"/>
    
  </entry>
  
  <entry>
    <title>Clash Verge规则配置</title>
    <link href="http://blog.yuqi.fun/undefined/97aa67fb.html"/>
    <id>http://blog.yuqi.fun/undefined/97aa67fb.html</id>
    <published>2023-12-12T00:00:00.000Z</published>
    <updated>2023-12-12T00:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="下载Clash-Meta内核客户端"><a href="#下载Clash-Meta内核客户端" class="headerlink" title="下载Clash.Meta内核客户端"></a>下载Clash.Meta内核客户端</h1><ul><li><a href="https://github.com/zzzgydi/clash-verge">Clash Verge 下载地址</a></li></ul><h1 id="本地配置（推荐）"><a href="#本地配置（推荐）" class="headerlink" title="本地配置（推荐）"></a>本地配置（推荐）</h1><blockquote><p>以处<code>Clash Verge</code>为例</p></blockquote><h4 id="0-设置内核为-Clash-Meta"><a href="#0-设置内核为-Clash-Meta" class="headerlink" title="0.设置内核为 Clash.Meta"></a>0.设置内核为 <code>Clash.Meta</code></h4><p><img src="https://img.051516.xyz/202312120915849.png" alt="0"></p><h2 id="下载配置文件ClashVerge-yaml文件到本地"><a href="#下载配置文件ClashVerge-yaml文件到本地" class="headerlink" title="下载配置文件ClashVerge.yaml文件到本地"></a>下载配置文件<code>ClashVerge.yaml</code>文件到本地</h2><ul><li>ClashVerge.yaml</li></ul><ul><li><input checked="" disabled="" type="checkbox"> 地区分流（香港、美国、日本、台湾、新加坡）</li><li><input checked="" disabled="" type="checkbox"> 苹果、谷歌、微软、电报、推特分流</li><li><input checked="" disabled="" type="checkbox"> 流媒体（不支持单独分流）</li><li><input checked="" disabled="" type="checkbox"> 自动选择最低延迟</li><li><input disabled="" type="checkbox"> 负载均衡</li><li><input checked="" disabled="" type="checkbox"> 故障转移</li><li><input checked="" disabled="" type="checkbox"> 广告屏蔽</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://raw.githubusercontent.com/Repcz/Tool/X/Clash/Meta/ClashVerge.yaml</span><br></pre></td></tr></table></figure><h2 id="修改配置-proxy-providers-中的机场订阅地址"><a href="#修改配置-proxy-providers-中的机场订阅地址" class="headerlink" title="修改配置 proxy-providers 中的机场订阅地址"></a>修改配置 <code>proxy-providers</code> 中的机场订阅地址</h2><ul><li>请自行将 <code>proxy-providers</code> 中的 <code>机场订阅</code> 替换为机场订阅地址</li></ul><p><img src="https://img.051516.xyz/202312120915850.png" alt="1"></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">proxy-providers:</span></span><br><span class="line">  <span class="attr">Subscribe:</span> &#123;<span class="string">&lt;&lt;:</span> <span class="string">*p</span>, <span class="attr">path:</span> <span class="string">./all.yaml</span>, <span class="attr">url:</span> <span class="string">机场订阅</span>&#125;</span><br><span class="line">    <span class="comment"># Meta支持机场通用订阅</span></span><br></pre></td></tr></table></figure><h2 id="Clash-Verge-中导入-配置"><a href="#Clash-Verge-中导入-配置" class="headerlink" title="Clash Verge 中导入 配置"></a>Clash Verge 中导入 <strong>配置</strong></h2><ul><li>打开Clash Verge，点击 <strong>配置</strong>，点击右上角<strong>新建</strong></li><li>类型选择<strong>Local</strong>，点击下方 <strong>选择文件</strong>，选择修改好的文件</li><li>选择导入的配置，右键-启用</li><li>点击 <strong>代理</strong> ，设置分流</li></ul><p><img src="https://img.051516.xyz/202312120915851.png" alt="5"></p><h2 id="策略组修改为手动选择节点"><a href="#策略组修改为手动选择节点" class="headerlink" title="策略组修改为手动选择节点"></a>策略组修改为手动选择节点</h2><blockquote><p>默认为自动选择延迟最低节点，<strong>按需</strong> 修改为手动选择</p></blockquote><ul><li>在自定义策略下的分流策略组中选择需要的地区节点，此处以 <strong>国外网站</strong> 举例，选择 <strong>香港节点</strong></li><li>下拉到下方的 <strong>香港节点</strong> 策略组，此时该策略组以 <code>url-test</code> 运行，即按最低延迟选择节点</li><li>如果要修改为手动选择节点，则需要编辑配置文件，在 <strong>配置</strong> ，右键需要修改的配置文件，点击 <strong>编辑</strong></li><li>找到<code> - &#123;name: 🇭🇰 香港节点, &lt;&lt;: *auto, filter: ....&quot;&#125;</code>，将 <code>*auto</code> 修改为 <code>*select</code></li><li>在 <strong>香港节点</strong> 策略组中选择需要的节点，则 <strong>国外网站</strong> 策略组走 <strong>香港节点</strong> 中选择的节点</li></ul><p>eg:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">...</span></span><br><span class="line"></span><br><span class="line">  <span class="bullet">-</span> &#123;<span class="attr">name:</span> <span class="string">🇭🇰</span> <span class="string">香港节点</span>, <span class="string">&lt;&lt;:</span> <span class="string">*auto</span>, <span class="attr">filter:</span> <span class="string">&quot;^(?=.*((?i)🇭🇰|香港|(\b(HK|Hong)\b)))(?!.*((?i)回国|校园|游戏|(\b(GAME)\b))).*$&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="string">👇</span></span><br><span class="line"></span><br><span class="line">  <span class="bullet">-</span> &#123;<span class="attr">name:</span> <span class="string">🇭🇰</span> <span class="string">香港节点</span>, <span class="string">&lt;&lt;:</span> <span class="string">*select</span>, <span class="attr">filter:</span> <span class="string">&quot;^(?=.*((?i)🇭🇰|香港|(\b(HK|Hong)\b)))(?!.*((?i)回国|校园|游戏|(\b(GAME)\b))).*$&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="string">...</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="订阅转换（懒人方法）"><a href="#订阅转换（懒人方法）" class="headerlink" title="订阅转换（懒人方法）"></a>订阅转换（懒人方法）</h1><h2 id="在线订阅转换"><a href="#在线订阅转换" class="headerlink" title="在线订阅转换"></a>在线订阅转换</h2><p>在线订阅转换可能出现订阅泄露</p><h2 id="打开ACL4SSR"><a href="#打开ACL4SSR" class="headerlink" title="打开ACL4SSR"></a>打开<a href="https://acl4ssr-sub.github.io/">ACL4SSR</a></h2><h2 id="填入-机场订阅-和-远程配置"><a href="#填入-机场订阅-和-远程配置" class="headerlink" title="填入 机场订阅 和 远程配置"></a>填入 <strong>机场订阅</strong> 和 <strong>远程配置</strong></h2><p><strong><em>自用 多流媒体分组 自动测速 配置</em></strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://raw.githubusercontent.com/Repcz/Tool/X/Clash/Meta/Online_Full_Auto.ini</span><br></pre></td></tr></table></figure><h2 id="选择后端地址并生成订阅"><a href="#选择后端地址并生成订阅" class="headerlink" title="选择后端地址并生成订阅"></a>选择后端地址并生成订阅</h2><ul><li>强烈建议使用自建后端，自建后端订阅转换可以有效防止订阅泄露以及规则下载不全等问题，具体方法见<a href="https://github.com/Repcz/Tool/tree/X/subconverter">自建subconverter订阅转换</a></li></ul><p><img src="https://img.051516.xyz/202312120915852.png" alt="4"></p><h2 id="本地后端订阅转换（推荐）"><a href="#本地后端订阅转换（推荐）" class="headerlink" title="本地后端订阅转换（推荐）"></a>本地后端订阅转换（推荐）</h2><p>详细使用方法见<a href="https://github.com/Repcz/Tool/tree/X/subconverter">自建subconverter订阅转换</a></p><h2 id="导入Clash-Verge"><a href="#导入Clash-Verge" class="headerlink" title="导入Clash Verge"></a>导入Clash Verge</h2><ul><li>打开Clash Verge，点击 <strong>配置</strong>，导入<strong>订阅转换</strong>后的链接</li><li>点击 <strong>代理</strong> ，设置分流</li></ul><h1 id="项目地址"><a href="#项目地址" class="headerlink" title="项目地址"></a>项目地址</h1><p><a href="https://github.com/Repcz/Tool">https://github.com/Repcz/Tool</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;下载Clash-Meta内核客户端&quot;&gt;&lt;a href=&quot;#下载Clash-Meta内核客户端&quot; class=&quot;headerlink&quot; title=&quot;下载Clash.Meta内核客户端&quot;&gt;&lt;/a&gt;下载Clash.Meta内核客户端&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;&lt;a h</summary>
      
    
    
    
    <category term="教程" scheme="http://blog.yuqi.fun/categories/%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="科学上网" scheme="http://blog.yuqi.fun/tags/%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/"/>
    
  </entry>
  
  <entry>
    <title>利用CF Workers搭建Github加速服务</title>
    <link href="http://blog.yuqi.fun/undefined/ee2e5bab.html"/>
    <id>http://blog.yuqi.fun/undefined/ee2e5bab.html</id>
    <published>2023-12-12T00:00:00.000Z</published>
    <updated>2023-12-12T00:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="利用CF-Workers搭建GH-Proxy服务"><a href="#利用CF-Workers搭建GH-Proxy服务" class="headerlink" title="利用CF Workers搭建GH-Proxy服务"></a>利用CF Workers搭建GH-Proxy服务</h1><blockquote><p>项目地址：<a href="https://github.com/hunshcn/gh-proxy">hunshcn&#x2F;gh-proxy: github release、archive以及项目文件的加速项目</a><br>项目简介：github release、archive以及项目文件的加速项目，支持clone，有Cloudflare Workers无服务器版本以及Python版本</p></blockquote><ol><li>注册一个CloudFlare账户</li><li>进入<a href="https://workers.cloudflare.com/">CF Workers</a>页面，点击 <strong>创建应用程序 <img src="https://img.051516.xyz/202312120902203.png" alt="img"></strong></li><li>点击 <strong>创建Worker <img src="https://img.051516.xyz/202312120902204.png" alt="img"></strong></li><li>按需填写 <strong>名称</strong>，点击右下角 <strong>部署</strong><br><img src="https://img.051516.xyz/202312120902205.png" alt="img"></li><li>点击 <strong>编辑代码</strong><img src="https://img.051516.xyz/202312120902206.png" alt="img"></li><li>将代码<strong>复制并替换编辑框里的内容</strong>，点击右边的 <strong>保存并部署</strong>，返回刚才的管理页面</li></ol><blockquote><p>代码地址：<a href="https://cdn.jsdelivr.net/gh/hunshcn/gh-proxy@master/index.js">cdn.jsdelivr.net&#x2F;gh&#x2F;hunshcn&#x2F;gh-proxy@master&#x2F;index.js</a></p></blockquote><p><img src="https://img.051516.xyz/202312120902207.png" alt="img"></p><ol><li>点击<strong>查看链接</strong>，显示如下界面即为成功<img src="https://img.051516.xyz/202312120902208.png" alt="img"></li></ol><p><img src="https://img.051516.xyz/202312120902209.png" alt="img"></p><blockquote><h2 id="Cloudflare-Workers计费"><a href="#Cloudflare-Workers计费" class="headerlink" title="Cloudflare Workers计费"></a>Cloudflare Workers计费</h2><p>到 <code>overview</code> 页面可参看使用情况。免费版每天有 10 万次免费请求，并且有每分钟1000次请求的限制。</p><p>如果不够用，可升级到 $5 的高级版本，每月可用 1000 万次请求（超出部分 $0.5&#x2F;百万次请求）。</p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;利用CF-Workers搭建GH-Proxy服务&quot;&gt;&lt;a href=&quot;#利用CF-Workers搭建GH-Proxy服务&quot; class=&quot;headerlink&quot; title=&quot;利用CF Workers搭建GH-Proxy服务&quot;&gt;&lt;/a&gt;利用CF Workers搭建</summary>
      
    
    
    
    <category term="教程" scheme="http://blog.yuqi.fun/categories/%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="网站" scheme="http://blog.yuqi.fun/tags/%E7%BD%91%E7%AB%99/"/>
    
  </entry>
  
  <entry>
    <title>ABPLC通过Modbus TCP读取设备压力值</title>
    <link href="http://blog.yuqi.fun/undefined/3529204a.html"/>
    <id>http://blog.yuqi.fun/undefined/3529204a.html</id>
    <published>2023-12-11T00:00:00.000Z</published>
    <updated>2023-12-11T00:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ABPLC通过Modbus-TCP读取设备压力值"><a href="#ABPLC通过Modbus-TCP读取设备压力值" class="headerlink" title="ABPLC通过Modbus TCP读取设备压力值"></a>ABPLC通过Modbus TCP读取设备压力值</h1><p>使用罗克韦尔（AB）-PLC以客户端形式通过Modbus TCP于设备通讯，并读取压力值。</p><h1 id="Modbus-TCP客户端AOI程序导入"><a href="#Modbus-TCP客户端AOI程序导入" class="headerlink" title="Modbus TCP客户端AOI程序导入"></a>Modbus TCP客户端AOI程序导入</h1><p>在<a href="https://www.rockwellautomation.com.cn/">罗克韦尔官网</a>搜索<strong>Modbus TCP Add-On</strong> ，并下载例程，或者点击<a href="https://yunzhongzhuan.com.publicdn.com/download/2764037/VmhKbiki/ModbusTCPAOIver2.04.zip">链接</a>直接下载。</p><p><img src="https://img.051516.xyz/202312111124321.png"></p><p>在Studio 5000中新建一个梯级例程，选中梯级右键导入例程。</p><p><img src="https://img.051516.xyz/202312111128174.png" alt="image-20231208160530699"></p><p>选择<strong>raC_Opr_NetModbusTCPClient_Rung.L5X</strong>文件，并单击<strong>导入</strong>。</p><p><img src="https://img.051516.xyz/202312111128106.png" alt="image-20231208160926802"></p><p>导入对话框打开后选择<strong>Tag</strong>，根据需要修改<strong>Tag</strong>名字。</p><p><img src="https://img.051516.xyz/202312111128074.png" alt="image-20231208161312164"></p><p>单击<strong>确认</strong>按钮，完成导入。</p><p><img src="https://img.051516.xyz/202312111128521.png" alt="image-20231208161626725"></p><h1 id="配置本地运行参数"><a href="#配置本地运行参数" class="headerlink" title="配置本地运行参数"></a>配置本地运行参数</h1><p>Modbus TCP客户端要求EtherNet&#x2F;IP模块支持Logix套接字。详见<a href="https://rockwellautomation.custhelp.com/app/answers/detail/a_id/470690">链接</a></p><p>右键单击连接到<strong>Ref_Connection</strong>参数的Tag，然后选择监控。</p><p><img src="https://img.051516.xyz/202312111128582.png" alt="image-20231208162556767"></p><p>打开参数<strong>Tag</strong>，设置相应参数。</p><table><thead><tr><th align="left">Tag</th><th>参数</th></tr></thead><tbody><tr><td align="left">LocalSlot</td><td>本地EtherNet&#x2F;IP模块的插槽</td></tr><tr><td align="left">LocalAddress</td><td>EtherNet&#x2F;IP模块的.LocalAddress地址。仅对于双IP模式的CompactLogix 5380 和 5480，用于指定Modbus TCP通讯的本地以太网连接的IP地址。其他情况，此字段为空。</td></tr><tr><td align="left">DestAddress</td><td>指定Modbus服务端设备的以太网IP地址。该地址必须指定，不可为空。</td></tr><tr><td align="left">DestinationPort</td><td>指定ModbusTCP端口为502，该值为ModbusTCP协议标准值。</td></tr></tbody></table><p><img src="https://img.051516.xyz/202312111128823.png" alt="image-20231208162756121"></p><p>将连接到<strong>Inp_Enable</strong>参数的Tag值设置为1，启动ModbusTCP客户端。</p><p>如果在运行中修改了参数，请务必重置<strong>Inp_Enable</strong>参数。</p><p><img src="https://img.051516.xyz/202312111129829.png" alt="image-20231208164403827"></p><h1 id="确认数据位置"><a href="#确认数据位置" class="headerlink" title="确认数据位置"></a>确认数据位置</h1><p>根据压力测量模块寄存器地址表格，确认压力值读取地址：40001&#x2F;40002。</p><p><img src="https://img.051516.xyz/202312111129828.png" alt="image-20231211091447848"></p><h1 id="配置数据交换"><a href="#配置数据交换" class="headerlink" title="配置数据交换"></a>配置数据交换</h1><p>监控<strong>Ref_Transactions</strong>参数连接的Tag。</p><ol><li><p>在<strong>PollInterval</strong>标签中配置轮询间隔时间（单位：毫秒）。</p><p>默认值为1000（1秒），最小值为80毫秒，如何轮询低于80毫秒的任务都将以1000毫秒的速率进行轮询。</p><p><img src="https://img.051516.xyz/202312111129617.png" alt="image-20231208165214734"></p></li><li><p>在<strong>TransType</strong>标签中设置Modbus功能代码。</p><p><img src="https://img.051516.xyz/202312111129658.png" alt="image-20231208165523479"></p><table><thead><tr><th>功能代码</th><th>名称</th><th>说明</th><th>Modbus地址范围</th></tr></thead><tbody><tr><td>01</td><td>读取线圈</td><td>用于读取线圈的状态，它可以读取一个或多个线圈的状态，返回结果为状态字节，每个字节可以表示8个线圈的状态。</td><td>本地地址：00001-01024；服务端地址：00001-065536</td></tr><tr><td>02</td><td>读取离散输入</td><td>用于读取离散输入的状态，它可以读取一个或多个离散输入的状态，返回结果为状态字节，每个字节可以表示8个离散输入的状态。</td><td>本地地址：10001-11024；服务端地址：10001-165536</td></tr><tr><td>03</td><td>读取保持寄存器</td><td>用于读取保持寄存器的值，它可以读取一个或多个保持寄存器的值，返回结果为寄存器值，每个寄存器可以表示一个16位二进制值。</td><td>本地地址：40001-41024；服务端地址：40001-465536</td></tr><tr><td>04</td><td>读取输入寄存器</td><td>用于读取输入寄存器的值，它可以读取一个或多个输入寄存器的值，返回结果为寄存器值，每个寄存器可以表示一个16位二进制值。</td><td>本地地址：30001-31024；服务端地址：30001-365536</td></tr><tr><td>05</td><td>写单个线圈</td><td>用于写入单个线圈的状态，它可以写入一个线圈的状态，返回结果为写入的状态字节，每个字节可以表示8个线圈的状态。</td><td>本地地址：00001-01024；服务端地址：00001-065536</td></tr><tr><td>06</td><td>写单个保持寄存器</td><td>用于写入单个寄存器的值，它可以写入一个寄存器的值，返回结果为写入的寄存器值，每个寄存器可以表示一个16位二进制值。</td><td>本地地址：40001-41024；服务端地址：40001-465536</td></tr><tr><td>15</td><td>写入多个线圈</td><td>用于写入多个线圈，它可以写入一个或多个线圈的状态。</td><td>本地地址：00001-01024；服务端地址：00001-065536</td></tr><tr><td>16</td><td>写入多个保持寄存器</td><td>用于写入多个保持寄存器，它可以写入一个或多个保持寄存器的状态。</td><td>本地地址：40001-41024；服务端地址：40001-465536</td></tr></tbody></table></li><li><p>在对等服务器设备中需要设置<strong>StationID</strong>标签，大多数情况下ModbusTCP服务器会忽略该字段。</p><p><img src="https://img.051516.xyz/202312111129534.png" alt="image-20231208171706660"></p></li><li><p>设置<strong>BeginAddress</strong>标签。该值表示要从TCP服务端读取或者写入的起始地址。</p><p>根据上面设置功能代码，该数值分别代表不同的Modbus地址。</p><p><img src="https://img.051516.xyz/202312111129088.png" alt="image-20231208172013912"></p></li><li><p>设置<strong>Count</strong>标签。该值表示要从ModbusTCP服务端读取或写入的项目数。</p><p><img src="https://img.051516.xyz/202312111129874.png" alt="image-20231211092051869"></p></li><li><p>设置<strong>LocalAddress</strong>标签。该值表示从ModbusTCP服务端读取或写入的数据放置到“<strong>Data</strong>”数组的起始地址。</p><p>前面配置的功能代码为读取保持寄存器，所以读取地址为4xxx。</p><p><img src="https://img.051516.xyz/202312111129730.png" alt="image-20231211092952178"></p><p>将读取数据从数组的第0为开始存放。</p><p><img src="https://img.051516.xyz/202312111129844.png" alt="image-20231211093045827"></p></li><li><p>将<strong>Enabled</strong>标签设置为1，启用第一组参数。</p></li></ol><p><img src="https://img.051516.xyz/202312111129436.png" alt="image-20231208164957692"></p><h1 id="使用限制"><a href="#使用限制" class="headerlink" title="使用限制"></a>使用限制</h1><ol><li>必须使用Import Rung函数来实现，以保留Message指令配置。不要使用复制&#x2F;粘贴，因为它不会带来完整的消息指令配置和标签。一旦rung实现，不要使用Search&#x2F;Replace标签。所有的替换只能在梯级导入期间进行。</li><li>每个控制器支持多个客户机AOI实例。每个实例必须使用自己的一组backing和Message标记，但是“…_Data”标记结构可以在aoi之间共享。</li><li>Modbus TCP Server和Modbus TCP Client aoi可以驻留在同一个程序中。但是，服务器应用程序可能会由于共享的Logix Sockets对象而导致客户端暂时断开连接。</li><li>当在ControlLogix Redundancy系统中实现时，用户应该期望在Modbus TCP Client AOI导致控制器切换后至少有5秒的Modbus通信丢失。由于正在使用的服务器设备的行为，可能会有额外的Modbus通信延迟。</li></ol><h1 id="监控Modbus-TCP客户端"><a href="#监控Modbus-TCP客户端" class="headerlink" title="监控Modbus TCP客户端"></a>监控Modbus TCP客户端</h1><ol><li><p><strong>ModbusTCP</strong>数据标签位于<strong>Ref_ModbusData</strong>参数标签下。</p><p><img src="https://img.051516.xyz/202312111129703.png" alt="image-20231211100839818"></p><p>该标签包含线圈(0xxxx)，离散输入(1xxxx)，输入寄存器(3xxxx)和保持寄存器(4xxxx)四个独立的数据区域。<br>用户应用程序可以不受任何限制地读取和填充这些标记值。</p><p><img src="https://img.051516.xyz/202312111130298.png" alt="image-20231211101008143"></p></li><li><p>Modbus TCP AOI 状态位</p><p><img src="https://img.051516.xyz/202312111130002.png" alt="image-20231211101427161"></p><p>a. Sts_EN输出表示Modbus TCP Client功能已启用。</p><p>b. “Sts_Connected”输出表示客户端连接请求被服务器接受。它不指示活动数据流。<br>应该检查单个事务的状态以验证数据交换。</p><p>c. Sts_Faulted输出表示消息指令有一条出错。</p><p>d. Sts_Overlap输出表示一个或多个事务在下一次触发之前没有完成</p><p>e. Sts_Overload输出表示在一个或多个事务中存在过多的重叠。</p></li><li><p>单个任务状态信息。这些TAg存在于5个内建任务中的每个任务中。<br>任务0 - 4)。</p><p>当请求的任务完成时，<strong>TransComplete</strong>位被置位。当它被要求进行下一次任务时，被程序清除。</p><p><strong>TransStatus</strong>值表示任务的当前状态。0&#x3D;成功，1&#x3D;正在处理中，2&#x3D;重试，-1&#x3D;异常。</p><p><img src="https://img.051516.xyz/202312111130362.png" alt="image-20231211102538268"></p></li><li><p>任务诊断Tag表示任务在处于活动状态时提供的内部动态信息。<strong>请勿修改这些Tag</strong></p></li></ol><p><img src="https://img.051516.xyz/202312111130326.png" alt="image-20231211102759109"></p><h1 id="中文参考文档下载"><a href="#中文参考文档下载" class="headerlink" title="中文参考文档下载"></a>中文参考文档下载</h1><p><a href="https://yunzhongzhuan.com.publicdn.com/download/2764038/aIx6vZpt/ModbusTCPClient-AOIbasedcodeforControlLogixv2.04.00zh.pdf">Modbus TCP 客户端AOI中文文档</a></p><p><a href="https://yunzhongzhuan.com.publicdn.com/download/2764040/QDbjnDZ5/Modbus+TCP+Server+-+AOI+based+code+for+ControlLogix+v+2.04.00+zh.pdf">Modbus TCP服务端AOI中文文档</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;ABPLC通过Modbus-TCP读取设备压力值&quot;&gt;&lt;a href=&quot;#ABPLC通过Modbus-TCP读取设备压力值&quot; class=&quot;headerlink&quot; title=&quot;ABPLC通过Modbus TCP读取设备压力值&quot;&gt;&lt;/a&gt;ABPLC通过Modbus </summary>
      
    
    
    
    <category term="教程" scheme="http://blog.yuqi.fun/categories/%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="PLC" scheme="http://blog.yuqi.fun/tags/PLC/"/>
    
  </entry>
  
  <entry>
    <title>R探长 甲骨文云开机脚本</title>
    <link href="http://blog.yuqi.fun/undefined/d604b8c7.html"/>
    <id>http://blog.yuqi.fun/undefined/d604b8c7.html</id>
    <published>2023-12-08T00:00:00.000Z</published>
    <updated>2023-12-08T00:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="原作者地址"><a href="#原作者地址" class="headerlink" title="原作者地址"></a>原作者地址</h1><p><a href="https://github.com/semicons/java_oci_manage/blob/main/md/install.md">https://github.com/semicons/java_oci_manage/blob/main/md/install.md</a></p><h1 id="debian12先要装依赖"><a href="#debian12先要装依赖" class="headerlink" title="debian12先要装依赖"></a>debian12先要装依赖</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nano /etc/apt/sources.list</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">deb http://deb.debian.org/debian bullseye main</span><br><span class="line"></span><br><span class="line">deb-src http://deb.debian.org/debian bullseye main</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">apt update</span><br><span class="line"></span><br><span class="line">apt install openjdk-17-jdk</span><br></pre></td></tr></table></figure><h1 id="更新环境"><a href="#更新环境" class="headerlink" title="更新环境"></a>更新环境</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt update -y &amp;&amp; apt install -y curl wget sudo</span><br></pre></td></tr></table></figure><h1 id="安装R探长"><a href="#安装R探长" class="headerlink" title="安装R探长"></a>安装R探长</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd /home &amp;&amp; mkdir rbot &amp;&amp; cd rbot</span><br><span class="line"></span><br><span class="line">wget -O gz_client_bot.tar.gz https://github.com/semicons/java_oci_manage/releases/latest/download/gz_client_bot.tar.gz &amp;&amp; tar -zxvf gz_client_bot.tar.gz --exclude=client_config &amp;&amp; tar -zxvf gz_client_bot.tar.gz --skip-old-files client_config &amp;&amp; chmod +x sh_client_bot.sh</span><br></pre></td></tr></table></figure><h1 id="下载配置client-config模板"><a href="#下载配置client-config模板" class="headerlink" title="下载配置client_config模板"></a>下载配置client_config模板</h1><p><a href="https://github.com/kejilion/sh/blob/main/client_config">https://github.com/kejilion/sh/blob/main/client_config</a></p><h1 id="到甲骨文云下载API证书并获取API信息"><a href="#到甲骨文云下载API证书并获取API信息" class="headerlink" title="到甲骨文云下载API证书并获取API信息"></a>到甲骨文云下载API证书并获取API信息</h1><p><a href="https://cloud.oracle.com/">https://cloud.oracle.com/</a></p><p><img src="https://img.051516.xyz/202312080925335.png"></p><p><img src="https://img.051516.xyz/202312080925572.png"></p><p><img src="https://img.051516.xyz/202312080925945.png"></p><p><img src="https://img.051516.xyz/202312080925124.png"></p><p><img src="https://img.051516.xyz/202312080925243.png"></p><p><img src="https://img.051516.xyz/202312080925743.png"></p><p><img src="https://img.051516.xyz/202312080926332.png"></p><h1 id="key存放路径"><a href="#key存放路径" class="headerlink" title="key存放路径"></a>key存放路径</h1><p>key_file&#x3D;&#x2F;home&#x2F;rbot&#x2F;key.pem</p><h1 id="关注R探长频道和机器人"><a href="#关注R探长频道和机器人" class="headerlink" title="关注R探长频道和机器人"></a>关注R探长频道和机器人</h1><p>R探长频道：<a href="https://t.me/agentONE_R">https://t.me/agentONE_R</a></p><p>R探长机器人：<a href="https://t.me/radiance_helper_bot">https://t.me/radiance_helper_bot</a></p><h1 id="和机器人对话获取随机用户名和密码"><a href="#和机器人对话获取随机用户名和密码" class="headerlink" title="和机器人对话获取随机用户名和密码"></a>和机器人对话获取随机用户名和密码</h1><p>&#x2F;raninfo</p><h1 id="填写示例"><a href="#填写示例" class="headerlink" title="填写示例"></a>填写示例</h1><p><img src="https://img.051516.xyz/202312080926509.png"></p><p>填写完成后</p><p>把<strong>client_config.txtclient_config.txt</strong>改为<strong>client_config</strong></p><p>把下载的pem文件改为<strong>key.pem</strong></p><p>然后上传到**&#x2F;home&#x2F;rbot&#x2F;**目录</p><h1 id="启动或重启"><a href="#启动或重启" class="headerlink" title="启动或重启"></a>启动或重启</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash sh_client_bot.sh </span><br></pre></td></tr></table></figure><h1 id="查看日志-ctrl-c退出日志"><a href="#查看日志-ctrl-c退出日志" class="headerlink" title="查看日志(ctrl + c退出日志)"></a>查看日志(ctrl + c退出日志)</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tail -f log_r_client.log </span><br></pre></td></tr></table></figure><h1 id="终止程序"><a href="#终止程序" class="headerlink" title="终止程序"></a>终止程序</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps -ef | grep r_client.jar | grep -v grep | awk &#x27;&#123;print $2&#125;&#x27; | xargs kill -9 </span><br></pre></td></tr></table></figure><h1 id="卸载程序"><a href="#卸载程序" class="headerlink" title="卸载程序"></a>卸载程序</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm -rf gz_client_bot.tar.gz client_config r_client.jar sh_client_bot.sh log_r_client.log debug-.log </span><br></pre></td></tr></table></figure><p>如也不需要JDK也可卸载：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get remove openjdk*</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;原作者地址&quot;&gt;&lt;a href=&quot;#原作者地址&quot; class=&quot;headerlink&quot; title=&quot;原作者地址&quot;&gt;&lt;/a&gt;原作者地址&lt;/h1&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/semicons/java_oci_manage/blob/</summary>
      
    
    
    
    <category term="教程" scheme="http://blog.yuqi.fun/categories/%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="服务器" scheme="http://blog.yuqi.fun/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
  </entry>
  
  <entry>
    <title>PVE安装iStoreOS</title>
    <link href="http://blog.yuqi.fun/undefined/d167335e.html"/>
    <id>http://blog.yuqi.fun/undefined/d167335e.html</id>
    <published>2023-12-03T00:00:00.000Z</published>
    <updated>2023-12-03T00:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="首先X86机器已经安装好PVE机器，且能正常联网；"><a href="#首先X86机器已经安装好PVE机器，且能正常联网；" class="headerlink" title="首先X86机器已经安装好PVE机器，且能正常联网；"></a>首先X86机器已经安装好PVE机器，且能正常联网；</h1><ul><li>这里不提供X86机器安装pve教程，自行科普。</li></ul><h1 id="下载固件"><a href="#下载固件" class="headerlink" title="下载固件"></a>下载固件</h1><ul><li><a href="https://fw.koolcenter.com/iStoreOS/x86_64/">固件下载(opens new window)</a></li><li><a href="https://fw.koolcenter.com/iStoreOS/x86_64_efi/">固件下载-EFI(opens new window)</a></li></ul><p>越后面的版本越新，下载最新的版本。下载完成之后不需要解压。</p><h1 id="在PVE里新建虚拟机；"><a href="#在PVE里新建虚拟机；" class="headerlink" title="在PVE里新建虚拟机；"></a>在PVE里新建虚拟机；</h1><ul><li>进入PVE系统管理界面，右上角“新建虚拟机”；</li></ul><p><img src="https://img.051516.xyz/202312031646065.jpeg"></p><ul><li>只填写名称，VM ID即为虚拟机ID，自动排序的，也可自定义，其余不管，下一步：</li></ul><p><img src="https://img.051516.xyz/202312031646686.jpeg"></p><ul><li>勾选“不使用任何介质”，其余不管，下一步；</li></ul><p><img src="https://img.051516.xyz/202312031646138.jpeg"></p><ul><li>如果是下载的EFI固件，BIOS选择“OVMF(UEFI)”，EFI存储选择PVE的虚拟盘，其余不管，下一步：</li></ul><p><img src="https://img.051516.xyz/202312031646135.jpeg"></p><p>如果下载的非EFI固件，此页面不用管，直接下一步；</p><p><img src="https://img.051516.xyz/202312031646944.jpeg"></p><ul><li>磁盘，不需要创建，直接删掉，下一步；</li></ul><p><img src="https://img.051516.xyz/202312031646104.jpeg"></p><ul><li>CPU核心，根据你的实机CPU核设置(比如实机是6核12线程，大于等于1且小于等于12都成)，类别建议选host；</li></ul><p><img src="https://img.051516.xyz/202312031646942.jpeg"></p><ul><li>内存根据实际需求设置；</li></ul><p><img src="https://img.051516.xyz/202312031646040.jpg" alt="download"></p><ul><li>网络默认即可，默认已经选了PVE的虚拟LAN；</li></ul><p><img src="https://img.051516.xyz/202312031646342.jpeg"></p><ul><li>完成，等待虚拟机创建好。</li></ul><p><img src="https://img.051516.xyz/202312031647835.jpeg"></p><h1 id="往刚创建的虚拟机里写入固件；"><a href="#往刚创建的虚拟机里写入固件；" class="headerlink" title="往刚创建的虚拟机里写入固件；"></a>往刚创建的虚拟机里写入固件；</h1><ul><li>利用WinSCP等工具，把下载好的固件(教程用的EFI固件)和img2kvm工具放入root目录下；</li><li><a href="https://fw.koolcenter.com/binary/other-tools/">img2kvm工具下载(opens new window)</a></li><li>终端登录PVE系统后台，终端输入命令：<code>chmod 777 ./img2kvm</code></li><li>继续终端输入：<code>./img2kvm 固件完整名 虚拟机ID</code></li></ul><p>比如教程所示的虚拟机ID是104，下载的固件完整名：istoreos-21.02.3-2022092019-x86-64-squashfs-combined-efi.img.gz</p><p>所以输入的命令就是：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./img2kvm istoreos-21.02.3-2022092019-x86-64-squashfs-combined-efi.img.gz 104</span><br></pre></td></tr></table></figure><p><img src="https://img.051516.xyz/202312031647302.jpeg"></p><p>然后看PVE虚拟机104的硬件界面，会出现一个未添加的硬盘，双击添加：</p><p><img src="https://img.051516.xyz/202312031647806.jpeg"></p><p>不用设置直接添加：</p><p><img src="https://img.051516.xyz/202312031647609.jpeg"></p><p>添加完成，会出现一个硬盘：</p><p><img src="https://img.051516.xyz/202312031647016.jpeg"></p><p>选项——引导顺序，双击进入编辑：</p><p><img src="https://img.051516.xyz/202312031647797.jpeg"></p><p>把刚添加的硬盘作为第一启动：</p><p><img src="https://img.051516.xyz/202312031647908.jpeg"></p><p><img src="https://img.051516.xyz/202312031647362.jpeg"></p><ul><li>把EFI磁盘删掉，若BIOS不是UEFI，无此项设置；</li></ul><p><img src="https://img.051516.xyz/202312031647310.jpeg"></p><h1 id="启动iStoreOS："><a href="#启动iStoreOS：" class="headerlink" title="启动iStoreOS："></a>启动iStoreOS：</h1><p><img src="https://img.051516.xyz/202312031648006.jpeg"></p><ul><li>如果前面的步骤没出错，是能正常启动的：</li></ul><p><img src="https://img.051516.xyz/202312031648517.jpeg"></p><ul><li>等系统启动一两分钟，然后点击此虚拟机——控制台(右上角控制台也可)：</li></ul><p><img src="https://img.051516.xyz/202312031648522.jpeg"></p><p>鼠标点在此界面，键盘回车：就会出现终端入口：</p><p><img src="https://img.051516.xyz/202312031648241.jpeg"></p><p><img src="https://img.051516.xyz/202312031648418.jpeg"></p><p>输入：<code>quickstart</code>，利用键盘“上下键”选择2，回车：</p><p>输入要分配给iStoreOS的LAN口的ip(必须是PVE虚拟LAN的IP段，比如PVE的管理IP是192.168.2.88，那么此处的IP就必须是192.168.2.XXX)，回车生效；</p><p><img src="https://img.051516.xyz/202312031648082.jpeg"></p><p>要求输入掩码(mask)，照着填：255.255.255.0，回车生效：</p><p><img src="https://img.051516.xyz/202312031648554.jpeg"></p><p>然后选择QUIT退出此界面：</p><p><img src="https://img.051516.xyz/202312031648466.jpeg"></p><ul><li>输入：<code>reboot</code>重启iStoreOS，这样浏览器输入我们设置的IP，就进入iStoreOS界面了。</li></ul><p><img src="https://img.051516.xyz/202312031648602.jpeg"></p><p>iStoreOS默认登录密码是：password</p><p><img src="https://img.051516.xyz/202312031648519.jpeg"></p><h1 id="配置iStoreOS："><a href="#配置iStoreOS：" class="headerlink" title="配置iStoreOS："></a>配置iStoreOS：</h1><p>此刻我们进入iStoreOS，但是目前iStoreOS是个单臂路由状态，只有一个LAN口。</p><ul><li>如果PVE里已有主路由系统，需要把iStoreOS配置为旁路由，在“网络向导”里配置“旁路由”即可。</li></ul><p><img src="https://img.051516.xyz/202312031649861.jpeg"></p><ul><li>如果需要将iStoreOS作为主路由系统，就需要添加网口：</li></ul><p>首先在PVE里关闭iStoreOS虚拟机，然后硬件——添加一个PVE的网口作为WAN口；</p><p><img src="https://img.051516.xyz/202312031649410.jpeg"></p><ul><li>然后再确认2个IP，首先确认：PVE的虚拟LAN管理IP，比如是192.168.2.88，那么就必须把iStoreOS的IP改成192.168.2.1~192.168.2.77之间，比如把PVE的IP放在iStoreOS主路由LAN口IP之后，不然PVE无法联网。</li><li>然后启动iStoreOS虚拟机，进入iStoreOS后，在“网络向导”里配置联网即可。</li></ul><h1 id="安装离线插件："><a href="#安装离线插件：" class="headerlink" title="安装离线插件："></a>安装离线插件：</h1><p><strong>注意，上述软件包安装，部分依赖依然要通过opkg软件源在线安装。如果安装失败，检查路由器自身的网络情况，特别是旁路由模式下最容易出现网络问题。</strong><br><strong>再三注意需要路由器自身联网正常</strong></p><ul><li><p>下载地址</p><p><a href="https://github.com/bcseputetto/Are-u-ok">https://github.com/bcseputetto/Are-u-ok</a></p></li><li><p>如何安装<br>下载后，来到iStore应用商店页面，点击手动安装，点击选择上传或者直接拖放文件<br><img src="https://img.051516.xyz/202312031649689.png"></p></li></ul><p>对于没有iStore应用商店的OpenWrt也可以使用以下方法。<br>将 .run 文件上传到路由器上，然后在终端环境执行</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sh 包名.run</span><br></pre></td></tr></table></figure><p>例</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sh PassWall4.71-2_x86_all_sdk_22.03.5.run</span><br></pre></td></tr></table></figure><p>如果文件不在当前路径记得填写路径，下例</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sh /tmp/upload/PassWall4.71-2_x86_all_sdk_22.03.5.run</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;首先X86机器已经安装好PVE机器，且能正常联网；&quot;&gt;&lt;a href=&quot;#首先X86机器已经安装好PVE机器，且能正常联网；&quot; class=&quot;headerlink&quot; title=&quot;首先X86机器已经安装好PVE机器，且能正常联网；&quot;&gt;&lt;/a&gt;首先X86机器已经安装</summary>
      
    
    
    
    <category term="教程" scheme="http://blog.yuqi.fun/categories/%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="路由器" scheme="http://blog.yuqi.fun/tags/%E8%B7%AF%E7%94%B1%E5%99%A8/"/>
    
  </entry>
  
  <entry>
    <title>Butterfly主题添加本地搜索功能</title>
    <link href="http://blog.yuqi.fun/undefined/f2a576c2.html"/>
    <id>http://blog.yuqi.fun/undefined/f2a576c2.html</id>
    <published>2023-11-30T00:00:00.000Z</published>
    <updated>2023-11-30T00:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>安装插件：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-search --save</span><br></pre></td></tr></table></figure><p>修改_config.yml文件，添加以下内容</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 添加本地搜索</span></span><br><span class="line"><span class="attr">search:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">search.xml</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">post</span></span><br><span class="line">  <span class="attr">content:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">format:</span> <span class="string">html</span></span><br></pre></td></tr></table></figure><p>修改_config.butterfly.yml文件，添加以下内容</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Local search</span></span><br><span class="line"><span class="attr">local_search:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Preload the search data when the page loads.</span></span><br><span class="line">  <span class="attr">preload:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># Show top n results per article, show all results by setting to -1</span></span><br><span class="line">  <span class="attr">top_n_per_article:</span> <span class="number">1</span></span><br><span class="line">  <span class="comment"># Unescape html strings to the readable one.</span></span><br><span class="line">  <span class="attr">unescape:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">CDN:</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;安装插件：&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;p</summary>
      
    
    
    
    <category term="教程" scheme="http://blog.yuqi.fun/categories/%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="Butterfly" scheme="http://blog.yuqi.fun/tags/Butterfly/"/>
    
    <category term="hexo" scheme="http://blog.yuqi.fun/tags/hexo/"/>
    
  </entry>
  
</feed>
